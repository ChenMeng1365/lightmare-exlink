<?xml version="1.0" encoding="UTF-8"?>
<module name="huawei-dhcp"
        xmlns="urn:ietf:params:xml:ns:yang:yin:1"
        xmlns:dhcp="urn:huawei:yang:huawei-dhcp"
        xmlns:ifm="urn:huawei:yang:huawei-ifm"
        xmlns:vlan="urn:huawei:yang:huawei-vlan"
        xmlns:bd="urn:huawei:yang:huawei-bd"
        xmlns:ext="urn:huawei:yang:huawei-extension"
        xmlns:pub-type="urn:huawei:yang:huawei-pub-type"
        xmlns:inet="urn:ietf:params:xml:ns:yang:ietf-inet-types"
        xmlns:yang="urn:ietf:params:xml:ns:yang:ietf-yang-types"
        xmlns:ethernet="urn:huawei:yang:huawei-ethernet">
  <yang-version value="1"/>
  <namespace uri="urn:huawei:yang:huawei-dhcp"/>
  <prefix value="dhcp"/>
  <import module="huawei-ifm">
    <prefix value="ifm"/>
  </import>
  <import module="huawei-vlan">
    <prefix value="vlan"/>
  </import>
  <import module="huawei-bd">
    <prefix value="bd"/>
  </import>
  <import module="huawei-extension">
    <prefix value="ext"/>
  </import>
  <import module="huawei-pub-type">
    <prefix value="pub-type"/>
  </import>
  <import module="ietf-inet-types">
    <prefix value="inet"/>
  </import>
  <import module="ietf-yang-types">
    <prefix value="yang"/>
  </import>
  <import module="huawei-ethernet">
    <prefix value="ethernet"/>
  </import>
  <include module="huawei-dhcp-relay"/>
  <include module="huawei-dhcp-server"/>
  <include module="huawei-dhcp-snooping"/>
  <include module="huawei-dhcp-client"/>
  <organization>
    <text>Huawei Technologies Co., Ltd.</text>
  </organization>
  <contact>
    <text>Huawei Industrial Base
Bantian, Longgang
Shenzhen 518129
People's Republic of China
Website: http://www.huawei.com
Email: support@huawei.com</text>
  </contact>
  <description>
    <text>Dynamic Host Configuration Protocol.</text>
  </description>
  <revision date="2020-04-10">
    <description>
      <text>Add session-car.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2020-03-03">
    <description>
      <text>Initial revision.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <ext:task-name value="dhcp"/>
  <typedef name="option82-sub-option-type">
    <type name="enumeration">
      <enum name="circuit-id">
        <value value="1"/>
        <description>
          <text>DHCP option82 sub-option circuit-ID.</text>
        </description>
      </enum>
      <enum name="remote-id">
        <value value="2"/>
        <description>
          <text>DHCP option82 sub-option remote-ID.</text>
        </description>
      </enum>
      <enum name="circuit-remote">
        <value value="3"/>
        <description>
          <text>DHCP option82 sub-option circuit-ID and sub-option remote-ID.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>The type of option82 sub-option.</text>
    </description>
  </typedef>
  <typedef name="option82-format">
    <type name="enumeration">
      <enum name="common">
        <value value="1"/>
        <description>
          <text>DHCP option82 common format.</text>
        </description>
      </enum>
      <enum name="extend">
        <value value="2"/>
        <description>
          <text>DHCP option82 extend format.</text>
        </description>
      </enum>
      <enum name="user-defined">
        <value value="3"/>
        <description>
          <text>DHCP option82 user-defined format.</text>
        </description>
      </enum>
      <enum name="default">
        <value value="4"/>
        <description>
          <text>DHCP option82 default format.</text>
        </description>
      </enum>
      <enum name="type1">
        <value value="5"/>
        <description>
          <text>DHCP option82 type1 format.</text>
        </description>
      </enum>
      <enum name="type2">
        <value value="6"/>
        <description>
          <text>DHCP option82 type2 format.</text>
        </description>
      </enum>
      <enum name="self-define">
        <value value="7"/>
        <description>
          <text>DHCP option82 self-define format.</text>
        </description>
      </enum>
      <enum name="default-extra">
        <value value="8"/>
        <description>
          <text>DHCP option82 extra default format.</text>
        </description>
      </enum>
      <enum name="cn-telecom">
        <value value="9"/>
        <description>
          <text>DHCP option82 cn-telecom format.</text>
        </description>
      </enum>
      <enum name="self-define-extra">
        <value value="10"/>
        <description>
          <text>DHCP option82 extra self-define format.</text>
        </description>
      </enum>
      <enum name="intracom-vxlan">
        <value value="11"/>
        <description>
          <text>DHCP option82 Intracom-VXLAN format.</text>
        </description>
      </enum>
      <enum name="cn-telecom-inherit">
        <value value="12"/>
        <description>
          <text>DHCP option82 cn-telecom-inherit format.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>The type of DHCP option82 format.</text>
    </description>
  </typedef>
  <typedef name="server-enable-state">
    <type name="enumeration">
      <enum name="enable">
        <value value="1"/>
        <description>
          <text>Enable the function of DHCP server on an interface.</text>
        </description>
      </enum>
      <enum name="disable">
        <value value="2"/>
        <description>
          <text>Disable the function of DHCP server on an interface.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>The state of DHCP server flag.</text>
    </description>
  </typedef>
  <container name="dhcp">
    <description>
      <text>Configure Dynamic Host Configuration Protocol.</text>
    </description>
    <container name="common">
      <description>
        <text>Configure basic DHCP.</text>
      </description>
      <container name="global">
        <description>
          <text>Configure globally configured attributes.</text>
        </description>
        <leaf name="enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable DHCP globally.</text>
          </description>
        </leaf>
        <leaf name="ignore-hostname">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable DHCP ignore hostname.</text>
          </description>
        </leaf>
        <leaf name="rate-limit-enable">
          <type name="boolean"/>
          <default value="true"/>
          <description>
            <text>Enable/disable DHCP packets rate limit.</text>
          </description>
        </leaf>
        <leaf name="rate-limit">
          <type name="uint32">
            <range value="1..4000"/>
          </type>
          <units name="pps"/>
          <default value="800"/>
          <description>
            <text>DHCP packets rate limit value.</text>
          </description>
        </leaf>
        <leaf name="aging-time">
          <type name="uint32">
            <range value="1..1440"/>
          </type>
          <units name="min"/>
          <default value="30"/>
          <description>
            <text>DHCP session CAR aging time.</text>
          </description>
        </leaf>
      </container>
      <container name="session-car">
        <must condition="pir-value &gt;= cir-value and pbs-value &gt;= cbs-value"/>
        <description>
          <text>Configure session CAR.</text>
        </description>
        <leaf name="enable">
          <type name="boolean"/>
          <default value="true"/>
          <description>
            <text>Enable/disable session CAR.</text>
          </description>
        </leaf>
        <leaf name="cir-value">
          <type name="uint32">
            <range value="0..1000000"/>
          </type>
          <units name="kbit/s"/>
          <default value="512"/>
          <description>
            <text>Specify the session CAR CIR value.</text>
          </description>
        </leaf>
        <leaf name="cbs-value">
          <type name="uint32">
            <range value="0..9000000"/>
          </type>
          <units name="Byte"/>
          <default value="64000"/>
          <description>
            <text>Specify the session CAR CBS value.</text>
          </description>
        </leaf>
        <leaf name="pir-value">
          <type name="uint32">
            <range value="0..1000000"/>
          </type>
          <units name="kbit/s"/>
          <default value="1200"/>
          <description>
            <text>Specify the session CAR PIR value.</text>
          </description>
        </leaf>
        <leaf name="pbs-value">
          <type name="uint32">
            <range value="0..9000000"/>
          </type>
          <units name="Byte"/>
          <default value="150000"/>
          <description>
            <text>Specify the session CAR PBS value.</text>
          </description>
        </leaf>
      </container>
      <container name="chasten">
        <description>
          <text>Configure DHCP user connection throttling.</text>
        </description>
        <leaf name="enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable DHCP user connection throttling.</text>
          </description>
        </leaf>
        <leaf name="request-packets">
          <type name="uint32">
            <range value="1..10000"/>
          </type>
          <default value="10"/>
          <description>
            <text>Request packets.</text>
          </description>
        </leaf>
        <leaf name="check-period">
          <type name="uint32">
            <range value="1..3600"/>
          </type>
          <units name="s"/>
          <default value="180"/>
          <description>
            <text>Check period.</text>
          </description>
        </leaf>
        <leaf name="restrain-period">
          <type name="uint32">
            <range value="1..3600"/>
          </type>
          <units name="s"/>
          <default value="300"/>
          <description>
            <text>Restrain period.</text>
          </description>
        </leaf>
      </container>
    </container>
    <container name="relay">
      <description>
        <text>Configure DHCP relay.</text>
      </description>
      <uses name="dhcp:dhcp-relay-type"/>
    </container>
    <container name="server">
      <description>
        <text>Configure DHCP server.</text>
      </description>
      <uses name="dhcp:dhcp-server-type"/>
    </container>
    <container name="snooping">
      <description>
        <text>Configure DHCP snooping.</text>
      </description>
      <uses name="dhcp:dhcp-snooping-type"/>
    </container>
    <container name="client">
      <description>
        <text>Configure DHCP client.</text>
      </description>
      <uses name="dhcp:dhcp-client-type"/>
    </container>
  </container>
  <augment target-node="/ifm:ifm/ifm:interfaces/ifm:interface">
    <description>
      <text>Extend interface attribute.</text>
    </description>
    <container name="dhcp-if">
      <description>
        <text>Configure DHCP attributes on an interface.</text>
      </description>
      <container name="dhcp-packet-setting">
        <when condition="(not(../../ifm:l2-mode-enable='true'))"/>
        <description>
          <text>Configure DHCP packets.</text>
        </description>
        <leaf name="ip-ttl">
          <type name="uint8">
            <range value="1..255"/>
          </type>
          <must condition="not(../../../dhcp:dhcp-client-if/dhcp:address-allocation)"/>
          <description>
            <text>IP time to live.</text>
          </description>
        </leaf>
        <leaf name="dscp-outbound">
          <type name="uint8">
            <range value="0..63"/>
          </type>
          <must condition="not(../../../dhcp:dhcp-client-if/dhcp:address-allocation)"/>
          <description>
            <text>DSCP outbound.</text>
          </description>
        </leaf>
        <leaf name="server-enable">
          <type name="server-enable-state"/>
          <description>
            <text>Enable/disable the function of DHCP server on an interface.</text>
          </description>
        </leaf>
      </container>
      <container name="option82-formats">
        <description>
          <text>List of DHCP option82 formats.</text>
        </description>
        <list name="option82-format">
          <key value="sub-option-type"/>
          <description>
            <text>Configure a DHCP option82 format.</text>
          </description>
          <leaf name="sub-option-type">
            <type name="option82-sub-option-type"/>
            <must condition="(../sub-option-type = 'circuit-remote' and not(/ifm:ifm/ifm:interfaces/ifm:interface[ifm:name = current()/../../../../ifm:name]/dhcp:dhcp-if/dhcp:option82-formats/dhcp:option82-format[dhcp:sub-option-type='circuit-id']) and not(/ifm:ifm/ifm:interfaces/ifm:interface[ifm:name = current()/../../../../ifm:name]/dhcp:dhcp-if/dhcp:option82-formats/dhcp:option82-format[dhcp:sub-option-type='remote-id'])) or ((../sub-option-type = 'circuit-id' or ../sub-option-type = 'remote-id') and not(/ifm:ifm/ifm:interfaces/ifm:interface[ifm:name = current()/../../../../ifm:name]/dhcp:dhcp-if/dhcp:option82-formats/dhcp:option82-format[dhcp:sub-option-type='circuit-remote']))"/>
            <description>
              <text>DHCP option82 sub-option type.</text>
            </description>
          </leaf>
          <leaf name="option82-format">
            <type name="option82-format"/>
            <must condition="(((../sub-option-type != 'circuit-remote') and (../option82-format = 'self-define' and ../user-define-text)) or ((../sub-option-type = 'circuit-remote') and (../option82-format = 'type1' or ../option82-format = 'type2' or ../option82-format = 'cn-telecom' or ../option82-format = 'cn-telecom-inherit' or (../option82-format = 'self-define' and ../user-define-text))))"/>
            <mandatory value="true"/>
            <description>
              <text>DHCP option82 format.</text>
            </description>
          </leaf>
          <leaf name="user-define-text">
            <when condition="../option82-format = 'self-define'"/>
            <type name="string">
              <length value="1..255"/>
              <pattern value="([^\t]{1,})"/>
            </type>
            <mandatory value="true"/>
            <description>
              <text>DHCP option82 user-defined string.</text>
            </description>
          </leaf>
        </list>
      </container>
      <container name="option82-insert-setting">
        <description>
          <text>Configure all interfaces to insert or forcibly insert DHCP option82 to DHCP packets.</text>
        </description>
        <choice name="option82-insert-format">
          <description>
            <text>Specify DHCP option82 insertion format.</text>
          </description>
          <case name="insert-format">
            <description>
              <text>Configure all interfaces to insert DHCP option82 to DHCP packets.</text>
            </description>
            <leaf name="insert">
              <type name="empty"/>
              <description>
                <text>Configure all interfaces to insert DHCP option82 to DHCP packets.</text>
              </description>
            </leaf>
          </case>
          <case name="rebuild-format">
            <description>
              <text>Configure all interfaces to forcibly insert DHCP option82 to DHCP packets.</text>
            </description>
            <leaf name="rebuild">
              <type name="empty"/>
              <description>
                <text>Configure all interfaces to forcibly insert DHCP option82 to DHCP packets.</text>
              </description>
            </leaf>
          </case>
        </choice>
      </container>
    </container>
    <container name="dhcp-client-if">
      <description>
        <text>Configure DHCP client attributes on an interface.</text>
      </description>
      <leaf name="address-allocation">
        <type name="empty"/>
        <description>
          <text>DHCP client allocate IP.</text>
        </description>
      </leaf>
      <leaf name="expected-lease">
        <type name="uint32">
          <range value="60..864000"/>
        </type>
        <units name="s"/>
        <description>
          <text>DHCP client expected lease.</text>
        </description>
      </leaf>
      <leaf name="option60">
        <type name="string">
          <length value="1..128"/>
          <pattern value="([^\t]{1,})"/>
        </type>
        <description>
          <text>The value of DHCP client option60 on an interface.</text>
        </description>
      </leaf>
      <container name="client-status">
        <config value="false"/>
        <description>
          <text>Operational state of DHCP client.</text>
        </description>
        <leaf name="fsm-state">
          <type name="client-state"/>
          <config value="false"/>
          <description>
            <text>DHCP client status.</text>
          </description>
        </leaf>
        <leaf name="mac-address">
          <type name="pub-type:mac-address"/>
          <config value="false"/>
          <description>
            <text>User MAC address.</text>
          </description>
        </leaf>
        <leaf name="ip-address">
          <type name="inet:ipv4-address-no-zone"/>
          <config value="false"/>
          <description>
            <text>IP address.</text>
          </description>
        </leaf>
        <leaf name="ip-mask">
          <type name="inet:ipv4-address-no-zone"/>
          <config value="false"/>
          <description>
            <text>IP mask.</text>
          </description>
        </leaf>
        <leaf name="server-address">
          <type name="inet:ipv4-address-no-zone"/>
          <config value="false"/>
          <description>
            <text>Server IP address.</text>
          </description>
        </leaf>
        <leaf name="lease-obtained-time">
          <type name="yang:date-and-time"/>
          <config value="false"/>
          <description>
            <text>Lease obtained time.</text>
          </description>
        </leaf>
        <leaf name="lease-expire-time">
          <type name="yang:date-and-time"/>
          <config value="false"/>
          <description>
            <text>Lease expires time.</text>
          </description>
        </leaf>
        <leaf name="lease-renew-time">
          <type name="yang:date-and-time"/>
          <config value="false"/>
          <description>
            <text>Lease renews time.</text>
          </description>
        </leaf>
        <leaf name="lease-rebind-time">
          <type name="yang:date-and-time"/>
          <config value="false"/>
          <description>
            <text>Lease rebinds time.</text>
          </description>
        </leaf>
      </container>
      <container name="client-statistics">
        <config value="false"/>
        <description>
          <text>Statistics of DHCP client.</text>
        </description>
        <leaf name="total-packets-received">
          <type name="uint32"/>
          <config value="false"/>
          <description>
            <text>The number of totol packets received.</text>
          </description>
        </leaf>
        <leaf name="offer-packets-received">
          <type name="uint32"/>
          <config value="false"/>
          <description>
            <text>The number of offer packets received.</text>
          </description>
        </leaf>
        <leaf name="ack-packets-received">
          <type name="uint32"/>
          <config value="false"/>
          <description>
            <text>The number of ACK packets received.</text>
          </description>
        </leaf>
        <leaf name="nak-packets-received">
          <type name="uint32"/>
          <config value="false"/>
          <description>
            <text>The number of NAK packets received.</text>
          </description>
        </leaf>
        <leaf name="total-packets-send">
          <type name="uint32"/>
          <config value="false"/>
          <description>
            <text>The number of totol packets send.</text>
          </description>
        </leaf>
        <leaf name="discovery-packets-send">
          <type name="uint32"/>
          <config value="false"/>
          <description>
            <text>The number of discover packets send.</text>
          </description>
        </leaf>
        <leaf name="request-packets-send">
          <type name="uint32"/>
          <config value="false"/>
          <description>
            <text>The number of request packets send.</text>
          </description>
        </leaf>
        <leaf name="reboot-request-packets-send">
          <type name="uint32"/>
          <config value="false"/>
          <description>
            <text>The number of reboot request packets send.</text>
          </description>
        </leaf>
        <leaf name="select-request-packets-send">
          <type name="uint32"/>
          <config value="false"/>
          <description>
            <text>The number of select request packets send.</text>
          </description>
        </leaf>
        <leaf name="renew-request-packets-send">
          <type name="uint32"/>
          <config value="false"/>
          <description>
            <text>The number of renew request packets send.</text>
          </description>
        </leaf>
        <leaf name="rebind-request-packets-send">
          <type name="uint32"/>
          <config value="false"/>
          <description>
            <text>The number of rebind request packets send.</text>
          </description>
        </leaf>
        <leaf name="decline-packets-send">
          <type name="uint32"/>
          <config value="false"/>
          <description>
            <text>The number of decline packets send.</text>
          </description>
        </leaf>
        <leaf name="release-packets-send">
          <type name="uint32"/>
          <config value="false"/>
          <description>
            <text>The number of release packets send.</text>
          </description>
        </leaf>
      </container>
    </container>
    <container name="dhcp-snooping-if">
      <description>
        <text>Configure DHCP snooping interface attributes.</text>
      </description>
      <container name="basic-attribute">
        <when condition="/dhcp:dhcp/dhcp:snooping/dhcp:global/dhcp:enable='true'"/>
        <description>
          <text>Configure Basic DHCP snooping attribute on the interface.</text>
        </description>
        <leaf name="enable">
          <type name="boolean"/>
          <must condition="(../../../ifm:l2-mode-enable!='true') or (/bd:bd/bd:instances/bd:instance/bd:service-points/bd:service-point[bd:interface-name = current()/../../../ifm:name])"/>
          <default value="false"/>
          <description>
            <text>Enable/disable DHCP snooping on an interface. DHCP snooping cannot be enabled on both a VLANIF interface and a VLAN, DHCP snooping cannot be enabled both on a VBDIF interface and in a BD, DHCP snooping cannot be enabled on both a VBDIF interface and a Layer 2 sub-interface.</text>
          </description>
        </leaf>
        <leaf name="trust-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable trusted interfaces.</text>
          </description>
        </leaf>
        <leaf name="check-arp-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable ARP check.</text>
          </description>
        </leaf>
        <leaf name="alarm-arp-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable the ARP alarm function.</text>
          </description>
        </leaf>
        <leaf name="alarm-arp-threshold">
          <type name="uint16">
            <range value="1..1000"/>
          </type>
          <description>
            <text>ARP alarm threshold.</text>
          </description>
        </leaf>
        <leaf name="check-ip-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable IP check.</text>
          </description>
        </leaf>
        <leaf name="alarm-ip-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable the IP alarm function.</text>
          </description>
        </leaf>
        <leaf name="alarm-ip-threshold">
          <type name="uint16">
            <range value="1..1000"/>
          </type>
          <description>
            <text>IP alarm threshold.</text>
          </description>
        </leaf>
        <leaf name="alarm-reply-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable the alarm function for discarded untrusted packets.</text>
          </description>
        </leaf>
        <leaf name="alarm-reply-threshold">
          <type name="uint16">
            <range value="1..1000"/>
          </type>
          <description>
            <text>The alarm threshold is configured for discarded untrusted packets.</text>
          </description>
        </leaf>
        <leaf name="check-mac-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable consistency check on MAC addresses.</text>
          </description>
        </leaf>
        <leaf name="alarm-mac-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable consistency check on MAC addresses.</text>
          </description>
        </leaf>
        <leaf name="alarm-mac-threshold">
          <type name="uint16">
            <range value="1..1000"/>
          </type>
          <description>
            <text>The alarm threshold for the consistency check on MAC addresses.</text>
          </description>
        </leaf>
        <leaf name="check-user-bind-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable the check on DHCP snooping binding table.</text>
          </description>
        </leaf>
        <leaf name="alarm-user-bind-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable the alarm function for discarded packets that do not match entries in the DHCP snooping binding table.</text>
          </description>
        </leaf>
        <leaf name="alarm-user-bind-threshold">
          <type name="uint16">
            <range value="1..1000"/>
          </type>
          <description>
            <text>The alarm threshold is configured for the DHCP snooping binding table.</text>
          </description>
        </leaf>
        <leaf name="max-user-number">
          <type name="uint32">
            <range value="1..16384"/>
          </type>
          <description>
            <text>Maximum number of users allowed on a DHCP snooping-enabled interface.</text>
          </description>
        </leaf>
        <leaf name="alarm-user-limit-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable the alarm function for the maximum number of users.</text>
          </description>
        </leaf>
        <leaf name="alarm-user-limit-threshold">
          <type name="uint16">
            <range value="1..100"/>
          </type>
          <default value="100"/>
          <description>
            <text>Alarm threshold for the maximum number of users.</text>
          </description>
        </leaf>
      </container>
      <container name="static-binds">
        <description>
          <text>List of static binding table on an interface.</text>
        </description>
        <list name="static-bind">
          <key value="ip-address vlan-id cevlan-id"/>
          <description>
            <text>Configure static binding table on an interface.</text>
          </description>
          <leaf name="ip-address">
            <type name="inet:ipv4-address-no-zone"/>
            <description>
              <text>IP address.</text>
            </description>
          </leaf>
          <leaf name="vlan-id">
            <type name="uint16">
              <range value="0..4094"/>
            </type>
            <must condition="(../../../../ifm:class='main-interface' and ../vlan-id=0) or&#10;(../../../../ethernet:ethernet/ethernet:l3-sub-interface/ethernet:dot1q-termination/ethernet:dot1q-vlans/ethernet:dot1q-vlans/ethernet:vlan-list and ../vlan-id!=0) or&#10;(../../../../ethernet:ethernet/ethernet:l3-sub-interface/ethernet:qinq-termination/ethernet:qinq-vids/ethernet:qinq-vid and ../vlan-id!=0) or&#10;(../../../../ethernet:ethernet/ethernet:l3-sub-interface/ethernet:vlan-type-dot1q and ../vlan-id=../../../../ethernet:ethernet/ethernet:l3-sub-interface/ethernet:vlan-type-dot1q/ethernet:vlan-type-vid)"/>
            <description>
              <text>VLAN ID, 0 means NULL.</text>
            </description>
          </leaf>
          <leaf name="cevlan-id">
            <type name="uint16">
              <range value="0..4094"/>
            </type>
            <must condition="(../../../../ifm:class='main-interface' and ../cevlan-id=0) or&#10;(../../../../ethernet:ethernet/ethernet:l3-sub-interface/ethernet:dot1q-termination/ethernet:dot1q-vlans/ethernet:dot1q-vlans/ethernet:vlan-list and ../cevlan-id=0) or&#10;(../../../../ethernet:ethernet/ethernet:l3-sub-interface/ethernet:qinq-termination/ethernet:qinq-vids/ethernet:qinq-vid and ../cevlan-id!=0) or&#10;(../../../../ethernet:ethernet/ethernet:l3-sub-interface/ethernet:vlan-type-dot1q and ../cevlan-id=0)"/>
            <description>
              <text>CE VLAN ID, 0 means NULL.</text>
            </description>
          </leaf>
          <leaf name="mac-address">
            <type name="pub-type:mac-address">
              <length value="0..255"/>
              <pattern value="([0-9a-f][0|2|4|6|8|a|c|e][0-9a-f]{2}(-[0-9a-f]{4}){2})"/>
            </type>
            <description>
              <text>MAC address.</text>
            </description>
          </leaf>
        </list>
      </container>
    </container>
  </augment>
  <augment target-node="/vlan:vlan/vlan:vlans/vlan:vlan">
    <description>
      <text>Extend VLAN attribute.</text>
    </description>
    <container name="dhcp-vlan">
      <description>
        <text>Configure DHCP attributes in a VLAN.</text>
      </description>
      <container name="interface-option82-formats">
        <description>
          <text>List of configuring the format of the Option 82 field for an interface in the specified VLAN.</text>
        </description>
        <list name="interface-option82-format">
          <key value="if-name"/>
          <description>
            <text>Configure the format of the Option 82 field for an interface in the specified VLAN.</text>
          </description>
          <leaf name="if-name">
            <type name="leafref">
              <path value="/ifm:ifm/ifm:interfaces/ifm:interface/ifm:name"/>
            </type>
            <must condition="(/ifm:ifm/ifm:interfaces/ifm:interface[ifm:name = current()]/ethernet:ethernet/ethernet:main-interface/ethernet:l2-attribute)"/>
            <description>
              <text>Interface name. The interface must be the member interface of this VLAN.</text>
            </description>
          </leaf>
          <leaf name="option82-format">
            <type name="option82-format"/>
            <mandatory value="true"/>
            <description>
              <text>DHCP option82 format.</text>
            </description>
          </leaf>
          <leaf name="user-define-text">
            <when condition="../option82-format='self-define'"/>
            <type name="string">
              <length value="1..255"/>
              <pattern value="([^\t]{1,})"/>
            </type>
            <mandatory value="true"/>
            <description>
              <text>DHCP option82 user-defined string.</text>
            </description>
          </leaf>
        </list>
      </container>
      <container name="interface-option82-insert-settings">
        <description>
          <text>List of configuring all interfaces in a VLAN to insert or forcibly insert DHCP Option82 to DHCP packets.</text>
        </description>
        <list name="interface-option82-insert-setting">
          <key value="if-name"/>
          <description>
            <text>Configure all interfaces in a VLAN to insert or forcibly insert DHCP Option82 to DHCP packets.</text>
          </description>
          <leaf name="if-name">
            <type name="leafref">
              <path value="/ifm:ifm/ifm:interfaces/ifm:interface/ifm:name"/>
            </type>
            <must condition="(/ifm:ifm/ifm:interfaces/ifm:interface[ifm:name = current()]/ethernet:ethernet/ethernet:main-interface/ethernet:l2-attribute)"/>
            <description>
              <text>Interface name. The interface must be the member interface of this VLAN.</text>
            </description>
          </leaf>
          <choice name="option82-insert-format">
            <mandatory value="true"/>
            <description>
              <text>Specify DHCP option82 insertion format.</text>
            </description>
            <case name="insert-format">
              <description>
                <text>Configure all interfaces in a VLAN to insert DHCP Option82 to DHCP packets.</text>
              </description>
              <leaf name="insert">
                <type name="empty"/>
                <description>
                  <text>Configure all interfaces in a VLAN to insert DHCP Option82 to DHCP packets.</text>
                </description>
              </leaf>
            </case>
            <case name="rebuild-format">
              <description>
                <text>Configure all interfaces in a VLAN to forcibly insert DHCP Option82 to DHCP packets.</text>
              </description>
              <leaf name="rebuild">
                <type name="empty"/>
                <description>
                  <text>Configure all interfaces in a VLAN to forcibly insert DHCP Option82 to DHCP packets.</text>
                </description>
              </leaf>
            </case>
          </choice>
        </list>
      </container>
      <container name="option82-insert-setting">
        <description>
          <text>Configure all interfaces in a VLAN to insert or forcibly insert DHCP option82 to DHCP packets.</text>
        </description>
        <choice name="option82-insert-format">
          <description>
            <text>Specify DHCP option82 insertion format.</text>
          </description>
          <case name="insert-format">
            <description>
              <text>Configure all interfaces in a VLAN to insert DHCP option82 to DHCP packets.</text>
            </description>
            <leaf name="insert">
              <type name="empty"/>
              <description>
                <text>Configure all interfaces in a VLAN to insert DHCP option82 to DHCP packets.</text>
              </description>
            </leaf>
          </case>
          <case name="rebuild-format">
            <description>
              <text>Configure all interfaces in a VLAN to forcibly insert DHCP option82 to DHCP packets.</text>
            </description>
            <leaf name="rebuild">
              <type name="empty"/>
              <description>
                <text>Configure all interfaces in a VLAN to forcibly insert DHCP option82 to DHCP packets.</text>
              </description>
            </leaf>
          </case>
        </choice>
      </container>
    </container>
    <container name="dhcp-snooping-vlan">
      <when condition="/dhcp:dhcp/dhcp:snooping/dhcp:global/dhcp:enable='true'"/>
      <description>
        <text>Configure DHCP snooping VLAN attributes.</text>
      </description>
      <container name="basic-attribute">
        <description>
          <text>Configure basic attributes of DHCP snooping on a VLAN.</text>
        </description>
        <leaf name="enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable DHCP snooping in a VLAN. DHCP snooping cannot be enabled on both a VLANIF interface and a VLAN, DHCP snooping cannot be enabled both on a VBDIF interface and in a BD, DHCP snooping cannot be enabled on both a VBDIF interface and a Layer 2 sub-interface.</text>
          </description>
        </leaf>
        <leaf name="trust-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable configuration information of a trusted VLAN.</text>
          </description>
        </leaf>
        <leaf name="check-arp-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable ARP check.</text>
          </description>
        </leaf>
        <leaf name="alarm-arp-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable the ARP alarm function.</text>
          </description>
        </leaf>
        <leaf name="alarm-arp-threshold">
          <type name="uint16">
            <range value="1..1000"/>
          </type>
          <description>
            <text>ARP alarm threshold.</text>
          </description>
        </leaf>
        <leaf name="check-ip-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable IP check.</text>
          </description>
        </leaf>
        <leaf name="alarm-ip-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable the IP alarm function.</text>
          </description>
        </leaf>
        <leaf name="alarm-ip-threshold">
          <type name="uint16">
            <range value="1..1000"/>
          </type>
          <description>
            <text>IP alarm threshold.</text>
          </description>
        </leaf>
        <leaf name="alarm-reply-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable the alarm function when the number of discarded untrusted packets reaches the configured threshold.</text>
          </description>
        </leaf>
        <leaf name="alarm-reply-threshold">
          <type name="uint16">
            <range value="1..1000"/>
          </type>
          <description>
            <text>Untrusted packet discarding alarm threshold.</text>
          </description>
        </leaf>
        <leaf name="check-mac-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable consistency check on MAC address.</text>
          </description>
        </leaf>
        <leaf name="alarm-mac-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable the consistency check alarm on MAC address.</text>
          </description>
        </leaf>
        <leaf name="alarm-mac-threshold">
          <type name="uint16">
            <range value="1..1000"/>
          </type>
          <description>
            <text>Consistency check alarm threshold on MAC address.</text>
          </description>
        </leaf>
        <leaf name="check-user-bind-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable the check on DHCP snooping binding table.</text>
          </description>
        </leaf>
        <leaf name="alarm-user-bind-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable the user binding table alarm.</text>
          </description>
        </leaf>
        <leaf name="alarm-user-bind-threshold">
          <type name="uint16">
            <range value="1..1000"/>
          </type>
          <description>
            <text>User binding table alarm threshold.</text>
          </description>
        </leaf>
        <leaf name="max-user-number">
          <type name="uint16">
            <range value="1..16384"/>
          </type>
          <description>
            <text>Maximum number of users allowed on all DHCP snooping-enabled interfaces in a VLAN.</text>
          </description>
        </leaf>
        <leaf name="alarm-user-limit-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable the user limit alarm.</text>
          </description>
        </leaf>
        <leaf name="alarm-user-limit-threshold">
          <type name="uint16">
            <range value="1..100"/>
          </type>
          <default value="100"/>
          <description>
            <text>User limit alarm threshold.</text>
          </description>
        </leaf>
      </container>
      <container name="vlan-interfaces">
        <description>
          <text>List of configuring DHCP snooping-enabled interfaces in a VLAN.</text>
        </description>
        <list name="vlan-interface">
          <key value="if-name"/>
          <description>
            <text>Configure a DHCP snooping-enabled interface in a VLAN.</text>
          </description>
          <leaf name="if-name">
            <type name="leafref">
              <path value="/ifm:ifm/ifm:interfaces/ifm:interface/ifm:name"/>
            </type>
            <must condition="(/ifm:ifm/ifm:interfaces/ifm:interface[ifm:name = current()]/ethernet:ethernet/ethernet:main-interface/ethernet:l2-attribute)"/>
            <description>
              <text>Interface name.</text>
            </description>
          </leaf>
          <leaf name="enable">
            <type name="boolean"/>
            <default value="false"/>
            <description>
              <text>Enable/disable DHCP snooping on an interface in a VLAN.</text>
            </description>
          </leaf>
          <leaf name="trust-flag">
            <type name="boolean"/>
            <default value="false"/>
            <description>
              <text>Enable/disable DHCP snooping VLAN interface trust.</text>
            </description>
          </leaf>
          <leaf name="check-arp-enable">
            <type name="boolean"/>
            <default value="false"/>
            <description>
              <text>Enable/disable ARP check.</text>
            </description>
          </leaf>
          <leaf name="alarm-arp-enable">
            <type name="boolean"/>
            <default value="false"/>
            <description>
              <text>Enable/disable the ARP alarm function.</text>
            </description>
          </leaf>
          <leaf name="alarm-arp-threshold">
            <type name="uint32">
              <range value="1..1000"/>
            </type>
            <description>
              <text>ARP alarm threshold.</text>
            </description>
          </leaf>
          <leaf name="check-ip-enable">
            <type name="boolean"/>
            <default value="false"/>
            <description>
              <text>Enable/disable IP check.</text>
            </description>
          </leaf>
          <leaf name="alarm-ip-enable">
            <type name="boolean"/>
            <default value="false"/>
            <description>
              <text>Enable/disable the IP alarm function.</text>
            </description>
          </leaf>
          <leaf name="alarm-ip-threshold">
            <type name="uint32">
              <range value="1..1000"/>
            </type>
            <description>
              <text>IP alarm threshold.</text>
            </description>
          </leaf>
          <leaf name="alarm-reply-enable">
            <type name="boolean"/>
            <default value="false"/>
            <description>
              <text>Enable/disable alarm of dropping untrusted packet.</text>
            </description>
          </leaf>
          <leaf name="alarm-reply-threshold">
            <type name="uint32">
              <range value="1..1000"/>
            </type>
            <description>
              <text>Threshold of dropping untrusted packet alarm.</text>
            </description>
          </leaf>
          <leaf name="check-mac-address-enable">
            <type name="boolean"/>
            <default value="false"/>
            <description>
              <text>Enable/disable consistency check on MAC addresses.</text>
            </description>
          </leaf>
          <leaf name="alarm-mac-address-enable">
            <type name="boolean"/>
            <default value="false"/>
            <description>
              <text>Enable/disable the consistency check alarm for MAC addresses.</text>
            </description>
          </leaf>
          <leaf name="alarm-mac-address-threshold">
            <type name="uint32">
              <range value="1..1000"/>
            </type>
            <description>
              <text>Consistency check alarm threshold for MAC address.</text>
            </description>
          </leaf>
          <leaf name="check-request-enable">
            <type name="boolean"/>
            <default value="false"/>
            <description>
              <text>Enable/disable DHCP user binding table check.</text>
            </description>
          </leaf>
          <leaf name="alarm-request-enable">
            <type name="boolean"/>
            <default value="false"/>
            <description>
              <text>Enable/disable DHCP userbind table alarm.</text>
            </description>
          </leaf>
          <leaf name="alarm-request-threshold">
            <type name="uint32">
              <range value="1..1000"/>
            </type>
            <description>
              <text>DHCP userbind table alarm threshold.</text>
            </description>
          </leaf>
          <leaf name="max-user-number">
            <type name="uint32">
              <range value="1..16384"/>
            </type>
            <description>
              <text>Maximum number of users allowed on a DHCP snooping-enabled interface in a VLAN.</text>
            </description>
          </leaf>
          <leaf name="alarm-user-limit-enable">
            <type name="boolean"/>
            <default value="false"/>
            <description>
              <text>Enable/disable the user limit alarm.</text>
            </description>
          </leaf>
          <leaf name="alarm-user-limit-threshold">
            <type name="uint32">
              <range value="1..100"/>
            </type>
            <default value="100"/>
            <description>
              <text>User limit alarm threshold.</text>
            </description>
          </leaf>
        </list>
      </container>
    </container>
  </augment>
  <augment target-node="/bd:bd/bd:instances/bd:instance">
    <description>
      <text>Extend BD attribute.</text>
    </description>
    <container name="dhcp-bd">
      <description>
        <text>Configure DHCP attributes in BDs.</text>
      </description>
      <container name="option82-insert-setting">
        <description>
          <text>Configure all interfaces in a BD to insert or forcibly insert DHCP option82 to DHCP packets.</text>
        </description>
        <choice name="option82-insert-format">
          <description>
            <text>Specify DHCP option82 insertion format.</text>
          </description>
          <case name="insert-format">
            <description>
              <text>Configure all interfaces in a BD to insert DHCP option82 to DHCP packets.</text>
            </description>
            <leaf name="insert">
              <type name="empty"/>
              <description>
                <text>Configure all interfaces in a BD to insert DHCP option82 to DHCP packets.</text>
              </description>
            </leaf>
          </case>
          <case name="rebuild-format">
            <description>
              <text>Configure all interfaces in a BD to forcibly insert DHCP option82 to DHCP packets.</text>
            </description>
            <leaf name="rebuild">
              <type name="empty"/>
              <description>
                <text>Configure all interfaces in a BD to forcibly insert DHCP option82 to DHCP packets.</text>
              </description>
            </leaf>
          </case>
        </choice>
      </container>
    </container>
    <container name="dhcp-snooping-bd">
      <description>
        <text>Configure information of DHCP snooping on a bridge-domain.</text>
      </description>
      <container name="basic-attribute">
        <when condition="/dhcp:dhcp/dhcp:snooping/dhcp:global/dhcp:enable='true'"/>
        <description>
          <text>Configure basic attributes of DHCP snooping on bridge-domain.</text>
        </description>
        <leaf name="enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable DHCP snooping in a BD. DHCP snooping cannot be enabled on both a VLANIF interface and a VLAN, DHCP snooping cannot be enabled both on a VBDIF interface and in a BD, DHCP snooping cannot be enabled on both a VBDIF interface and a Layer 2 sub-interface.</text>
          </description>
        </leaf>
        <leaf name="trust-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable trusted informations on a BD.</text>
          </description>
        </leaf>
        <leaf name="nni-trust-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable trusted network node interface.</text>
          </description>
        </leaf>
        <leaf name="check-arp-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable ARP check.</text>
          </description>
        </leaf>
        <leaf name="alarm-arp-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable the ARP alarm function.</text>
          </description>
        </leaf>
        <leaf name="alarm-arp-threshold">
          <type name="uint32">
            <range value="1..1000"/>
          </type>
          <description>
            <text>ARP alarm threshold.</text>
          </description>
        </leaf>
        <leaf name="check-ip-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable IP check.</text>
          </description>
        </leaf>
        <leaf name="alarm-ip-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable the IP alarm function.</text>
          </description>
        </leaf>
        <leaf name="alarm-ip-threshold">
          <type name="uint32">
            <range value="1..1000"/>
          </type>
          <description>
            <text>IP alarm threshold.</text>
          </description>
        </leaf>
        <leaf name="alarm-reply-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable alarm of dropping untrusted packet.</text>
          </description>
        </leaf>
        <leaf name="alarm-reply-threshold">
          <type name="uint32">
            <range value="1..1000"/>
          </type>
          <description>
            <text>Threshold of dropping untrusted packet alarm.</text>
          </description>
        </leaf>
        <leaf name="check-mac-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable MAC check.</text>
          </description>
        </leaf>
        <leaf name="alarm-mac-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable consistency check alarm on MAC addresses.</text>
          </description>
        </leaf>
        <leaf name="alarm-mac-threshold">
          <type name="uint32">
            <range value="1..1000"/>
          </type>
          <description>
            <text>Consistency check alarm threshold on MAC addresses.</text>
          </description>
        </leaf>
        <leaf name="check-request-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable the user binding table check.</text>
          </description>
        </leaf>
        <leaf name="alarm-request-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable the user binding table alarm function.</text>
          </description>
        </leaf>
        <leaf name="alarm-request-threshold">
          <type name="uint32">
            <range value="1..1000"/>
          </type>
          <description>
            <text>User bind table alarm threshold.</text>
          </description>
        </leaf>
        <leaf name="max-user-number">
          <type name="uint32">
            <range value="1..16384"/>
          </type>
          <description>
            <text>Maximum number of DHCP snooping users in a BD.</text>
          </description>
        </leaf>
        <leaf name="alarm-user-limit-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable the user limit alarm.</text>
          </description>
        </leaf>
        <leaf name="alarm-user-limit-threshold">
          <type name="uint32">
            <range value="1..100"/>
          </type>
          <default value="100"/>
          <description>
            <text>User limit alarm threshold.</text>
          </description>
        </leaf>
      </container>
      <container name="static-binds">
        <description>
          <text>List of static binding tables on BDs.</text>
        </description>
        <list name="static-bind">
          <must condition="(ce-vlan!=0 and pe-vlan!=0) or (ce-vlan=0)"/>
          <key value="ip-address pe-vlan ce-vlan"/>
          <description>
            <text>Configure a static binding table of a BD.</text>
          </description>
          <leaf name="ip-address">
            <type name="inet:ipv4-address-no-zone"/>
            <description>
              <text>IP address.</text>
            </description>
          </leaf>
          <leaf name="pe-vlan">
            <type name="uint16">
              <range value="0..4094"/>
            </type>
            <description>
              <text>PE VLAN ID, 0 means NULL.</text>
            </description>
          </leaf>
          <leaf name="ce-vlan">
            <type name="uint16">
              <range value="0..4094"/>
            </type>
            <description>
              <text>CE VLAN ID, 0 means NULL.</text>
            </description>
          </leaf>
          <leaf name="mac-address">
            <type name="pub-type:mac-address">
              <length value="0..255"/>
              <pattern value="([0-9a-f][0|2|4|6|8|a|c|e][0-9a-f]{2}(-[0-9a-f]{4}){2})"/>
            </type>
            <description>
              <text>MAC address.</text>
            </description>
          </leaf>
        </list>
      </container>
    </container>
  </augment>
</module>
