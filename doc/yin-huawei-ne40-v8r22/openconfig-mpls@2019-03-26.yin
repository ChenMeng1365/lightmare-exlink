<?xml version="1.0" encoding="UTF-8"?>
<module name="openconfig-mpls"
        xmlns="urn:ietf:params:xml:ns:yang:yin:1"
        xmlns:oc-mpls="http://openconfig.net/yang/mpls"
        xmlns:oc-rsvp="http://openconfig.net/yang/rsvp"
        xmlns:oc-ldp="http://openconfig.net/yang/ldp"
        xmlns:oc-if="http://openconfig.net/yang/interfaces"
        xmlns:oc-ext="http://openconfig.net/yang/openconfig-ext">
  <yang-version value="1"/>
  <namespace uri="http://openconfig.net/yang/mpls"/>
  <prefix value="oc-mpls"/>
  <import module="openconfig-mpls-rsvp">
    <prefix value="oc-rsvp"/>
  </import>
  <import module="openconfig-mpls-ldp">
    <prefix value="oc-ldp"/>
  </import>
  <import module="openconfig-interfaces">
    <prefix value="oc-if"/>
  </import>
  <import module="openconfig-extensions">
    <prefix value="oc-ext"/>
  </import>
  <include module="openconfig-mpls-te"/>
  <include module="openconfig-mpls-igp"/>
  <include module="openconfig-mpls-static"/>
  <organization>
    <text>OpenConfig working group</text>
  </organization>
  <contact>
    <text>OpenConfig working group
netopenconfig@googlegroups.com</text>
  </contact>
  <description>
    <text>This module provides data definitions for configuration of
Multiprotocol Label Switching (MPLS) and associated protocols for
signaling and traffic engineering.

RFC 3031: Multiprotocol Label Switching Architecture

The MPLS / TE data model consists of several modules and
submodules as shown below.  The top-level MPLS module describes
the overall framework.  Three types of LSPs are supported:

i) traffic-engineered (or constrained-path)

ii) IGP-congruent (LSPs that follow the IGP path)

iii) static LSPs which are not signaled

The structure of each of these LSP configurations is defined in
corresponding submodules.  Companion modules define the relevant
configuration and operational data specific to key signaling
protocols used in operational practice.


                         +-------+
       +----------------&gt;| MPLS  |&lt;--------------+
       |                 +-------+               |
       |                     ^                   |
       |                     |                   |
  +----+-----+      +--------+-------+     +-----+-----+
  | TE LSPs  |      | IGP-based LSPs |     |static LSPs|
  |          |      |                |     |           |
  +----------+      +----------------+     +-----------+
      ^  ^                    ^  ^
      |  +----------------+   |  +--------+
      |                   |   |           |
      |   +------+      +-+---+-+      +--+--+
      +---+ RSVP |      |SEGMENT|      | LDP |
          +------+      |ROUTING|      +-----+
                        +-------+
</text>
  </description>
  <oc-ext:openconfig-version semver="3.1.0"/>
  <revision date="2019-03-26">
    <description>
      <text>Add Pseudowire encapsulation.</text>
    </description>
    <reference>
      <text>3.1.0</text>
    </reference>
  </revision>
  <revision date="2018-11-21">
    <description>
      <text>Add OpenConfig module metadata extensions.</text>
    </description>
    <reference>
      <text>3.0.1</text>
    </reference>
  </revision>
  <revision date="2018-07-02">
    <description>
      <text>Add new RSVP-TE statistics, remove associated-rsvp-session
leaf. Remove use of date-and-time.</text>
    </description>
    <reference>
      <text>3.0.0</text>
    </reference>
  </revision>
  <revision date="2018-06-16">
    <description>
      <text>Included attributes for base LDP configuration.</text>
    </description>
    <reference>
      <text>2.6.0</text>
    </reference>
  </revision>
  <revision date="2018-06-13">
    <description>
      <text>Add ttl-propagation to global MPLS config</text>
    </description>
    <reference>
      <text>2.5.0</text>
    </reference>
  </revision>
  <revision date="2018-06-05">
    <description>
      <text>Fixed bugs in when statements on RSVP-TE attributes</text>
    </description>
    <reference>
      <text>2.4.2</text>
    </reference>
  </revision>
  <revision date="2017-08-24">
    <description>
      <text>Minor formatting fixes.</text>
    </description>
    <reference>
      <text>2.4.1</text>
    </reference>
  </revision>
  <revision date="2017-06-21">
    <description>
      <text>Add TC bits typedef.</text>
    </description>
    <reference>
      <text>2.4.0</text>
    </reference>
  </revision>
  <revision date="2017-03-22">
    <description>
      <text>Add RSVP calculated-absolute-subscription-bw</text>
    </description>
    <reference>
      <text>2.3.0</text>
    </reference>
  </revision>
  <revision date="2017-01-26">
    <description>
      <text>Add RSVP Tspec, clarify units for RSVP, remove unused LDP</text>
    </description>
    <reference>
      <text>2.2.0</text>
    </reference>
  </revision>
  <revision date="2016-12-15">
    <description>
      <text>Add additional MPLS parameters</text>
    </description>
    <reference>
      <text>2.1.0</text>
    </reference>
  </revision>
  <revision date="2016-09-01">
    <description>
      <text>Revisions based on implementation feedback</text>
    </description>
    <reference>
      <text>2.0.0</text>
    </reference>
  </revision>
  <revision date="2016-08-08">
    <description>
      <text>Public release of MPLS models</text>
    </description>
    <reference>
      <text>1.0.1</text>
    </reference>
  </revision>
  <oc-ext:regexp-posix/>
  <oc-ext:catalog-organization org="openconfig"/>
  <oc-ext:origin origin="openconfig"/>
  <grouping name="te-interface-attributes-top">
    <description>
      <text>Top level grouping for attributes
for TE interfaces.</text>
    </description>
    <list name="interface">
      <key value="interface-id"/>
      <description>
        <text>List of TE interfaces</text>
      </description>
      <leaf name="interface-id">
        <type name="leafref">
          <path value="../config/interface-id"/>
        </type>
        <description>
          <text>Reference to the interface id list key</text>
        </description>
      </leaf>
      <container name="config">
        <description>
          <text>Configuration parameters related to TE interfaces:</text>
        </description>
        <uses name="te-interface-attributes-config"/>
      </container>
    </list>
  </grouping>
  <grouping name="te-interface-attributes-config">
    <description>
      <text>global level definitions for interfaces
on which TE is run</text>
    </description>
    <leaf name="interface-id">
      <type name="oc-if:interface-id"/>
      <description>
        <text>Id of the interface</text>
      </description>
    </leaf>
  </grouping>
  <grouping name="mpls-interfaces-top">
    <description>
      <text>Top level grouping for attributes
for MPLS-enabled interfaces.</text>
    </description>
    <container name="interface-attributes">
      <description>
        <text>Parameters related to MPLS interfaces</text>
      </description>
      <list name="interface">
        <key value="interface-id"/>
        <description>
          <text>List of TE interfaces</text>
        </description>
        <leaf name="interface-id">
          <type name="leafref">
            <path value="../config/interface-id"/>
          </type>
          <description>
            <text>Reference to the interface id list key</text>
          </description>
        </leaf>
        <container name="config">
          <description>
            <text>Configuration parameters related to MPLS interfaces:</text>
          </description>
          <uses name="mpls-interface-attributes-config"/>
        </container>
      </list>
    </container>
  </grouping>
  <grouping name="mpls-interface-attributes-config">
    <description>
      <text>global level definitions for interfaces
on which MPLS is run</text>
    </description>
    <leaf name="interface-id">
      <type name="oc-if:interface-id"/>
      <description>
        <text>Indentifier for the MPLS interface</text>
      </description>
    </leaf>
    <leaf name="mpls-enabled">
      <type name="boolean"/>
      <default value="false"/>
      <description>
        <text>Enable MPLS forwarding on this interface</text>
      </description>
    </leaf>
  </grouping>
  <grouping name="mpls-top">
    <description>
      <text>Top level grouping for MPLS configuration and state</text>
    </description>
    <container name="mpls">
      <description>
        <text>Anchor point for mpls configuration and operational
data</text>
      </description>
      <container name="global">
        <description>
          <text>general mpls configuration applicable to any
type of LSP and signaling protocol - label ranges,
entropy label supportmay be added here</text>
        </description>
        <uses name="mpls-interfaces-top"/>
      </container>
      <container name="te-interface-attributes">
        <description>
          <text>traffic engineering attributes specific
for interfaces</text>
        </description>
        <uses name="te-interface-attributes-top"/>
      </container>
      <container name="signaling-protocols">
        <description>
          <text>top-level signaling protocol configuration</text>
        </description>
        <uses name="oc-rsvp:rsvp-global"/>
        <uses name="oc-ldp:ldp-global"/>
      </container>
      <container name="lsps">
        <description>
          <text>LSP definitions and configuration</text>
        </description>
        <container name="constrained-path">
          <description>
            <text>traffic-engineered LSPs supporting different
path computation and signaling methods</text>
          </description>
          <uses name="te-tunnels-top"/>
        </container>
      </container>
    </container>
  </grouping>
</module>
