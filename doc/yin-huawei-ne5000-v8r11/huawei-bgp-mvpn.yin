<?xml version="1.0" encoding="UTF-8"?>
<module name="huawei-bgp-mvpn"
        xmlns="urn:ietf:params:xml:ns:yang:yin:1"
        xmlns:bgp-mvpn="urn:huawei:yang:huawei-bgp-mvpn"
        xmlns:ext="urn:huawei:yang:huawei-extension"
        xmlns:inet="urn:ietf:params:xml:ns:yang:ietf-inet-types"
        xmlns:ni="urn:huawei:yang:huawei-network-instance"
        xmlns:bgp="urn:huawei:yang:huawei-bgp"
        xmlns:bgp-rt="urn:huawei:yang:huawei-bgp-routing-table"
        xmlns:pub-type="urn:huawei:yang:huawei-pub-type"
        xmlns:rtp="urn:huawei:yang:huawei-routing-policy">
  <yang-version value="1"/>
  <namespace uri="urn:huawei:yang:huawei-bgp-mvpn"/>
  <prefix value="bgp-mvpn"/>
  <import module="huawei-extension">
    <prefix value="ext"/>
  </import>
  <import module="ietf-inet-types">
    <prefix value="inet"/>
  </import>
  <import module="huawei-network-instance">
    <prefix value="ni"/>
  </import>
  <import module="huawei-bgp">
    <prefix value="bgp"/>
  </import>
  <import module="huawei-bgp-routing-table">
    <prefix value="bgp-rt"/>
  </import>
  <import module="huawei-pub-type">
    <prefix value="pub-type"/>
  </import>
  <import module="huawei-routing-policy">
    <prefix value="rtp"/>
  </import>
  <organization>
    <text>Huawei Technologies Co., Ltd.</text>
  </organization>
  <contact>
    <text>Huawei Industrial Base
Bantian, Longgang
Shenzhen 518129
People's Republic of China
Website: http://www.huawei.com
Email: support@huawei.com</text>
  </contact>
  <description>
    <text>Inter-AS routing protocol that exchanges Network Layer Reachability Information (NLRI) with other BGP systems.</text>
  </description>
  <revision date="2020-02-25">
    <description>
      <text>The YANG descriptions are modified according to new standards.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2019-03-22">
    <description>
      <text>Initial revision.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <ext:task-name value="bgp"/>
  <grouping name="ng-routing-table-type">
    <description>
      <text>BGP ng routing-table attributes.</text>
    </description>
    <leaf name="route-distinguisher">
      <type name="string">
        <length value="1..22"/>
      </type>
      <description>
        <text>Route distinguisher.</text>
      </description>
    </leaf>
    <leaf name="prefix">
      <type name="string">
        <length value="1..255"/>
      </type>
      <description>
        <text>Prefix of a BGP route.</text>
      </description>
    </leaf>
    <leaf name="from">
      <type name="inet:ip-address-no-zone"/>
      <description>
        <text>Source peer that sends a route.</text>
      </description>
    </leaf>
    <leaf name="route-type">
      <type name="bgp-rt:bgp-route-type-flag"/>
      <description>
        <text>Route type.</text>
      </description>
    </leaf>
    <leaf name="ng-route-type">
      <type name="string">
        <length value="1..50"/>
      </type>
      <description>
        <text>Route type.</text>
      </description>
    </leaf>
    <leaf name="im-table-id">
      <type name="uint32"/>
      <description>
        <text>ID of the routing table to which routes are imported.</text>
      </description>
    </leaf>
    <leaf name="nexthop">
      <type name="inet:ip-address-no-zone"/>
      <description>
        <text>Next hop address to which packets are forwarded.</text>
      </description>
    </leaf>
    <leaf name="local-preference">
      <type name="uint32"/>
      <description>
        <text>Local priority. The attribute is only fit for the routes from IBGP peer, not suit for which of EBGP peer.</text>
      </description>
    </leaf>
    <leaf name="preferred-value">
      <type name="uint32"/>
      <description>
        <text>Preferred value of a protocol.</text>
      </description>
    </leaf>
    <leaf name="preference">
      <type name="uint8"/>
      <description>
        <text>Priority of BGP routes.</text>
      </description>
    </leaf>
    <leaf name="path-as">
      <type name="string">
        <length value="1..300"/>
      </type>
      <description>
        <text>List of the AS_Paths that packets pass through.</text>
      </description>
    </leaf>
    <leaf name="origin">
      <type name="bgp-rt:bgp-origin-type"/>
      <description>
        <text>Route origin.</text>
      </description>
    </leaf>
    <leaf name="med">
      <type name="uint32"/>
      <description>
        <text>Route MED.The attribute is only fit for the routes from EBGP peer, not suit for which of IBGP peer.</text>
      </description>
    </leaf>
    <leaf name="flag-string">
      <type name="string">
        <length value="1..100"/>
      </type>
      <description>
        <text>Route flag that contains a string of characters.</text>
      </description>
    </leaf>
    <leaf name="worse-reason">
      <type name="string">
        <length value="1..50"/>
      </type>
      <description>
        <text>Reason why a route is not selected.</text>
      </description>
    </leaf>
    <leaf name="sending-peers">
      <type name="string">
        <length value="1..300"/>
      </type>
      <description>
        <text>List of route sending peers.</text>
      </description>
    </leaf>
    <leaf name="time">
      <type name="pub-type:time-tick"/>
      <description>
        <text>Time stamp of a route.</text>
      </description>
    </leaf>
    <leaf name="community">
      <type name="string">
        <length value="1..300"/>
      </type>
      <description>
        <text>Community attribute.</text>
      </description>
    </leaf>
    <leaf name="large-community">
      <type name="string">
        <length value="1..200"/>
      </type>
      <description>
        <text>Large-community attribute information.</text>
      </description>
    </leaf>
    <leaf name="ext-community">
      <type name="string">
        <length value="1..300"/>
      </type>
      <description>
        <text>Extended community attribute.</text>
      </description>
    </leaf>
    <leaf name="interface-name">
      <type name="pub-type:if-name"/>
      <description>
        <text>Name of the outbound interface of a route.</text>
      </description>
    </leaf>
    <leaf name="originator">
      <type name="inet:ip-address-no-zone"/>
      <description>
        <text>Router ID of the route initiator.</text>
      </description>
    </leaf>
    <leaf name="cluster-list">
      <type name="string">
        <length value="1..300"/>
      </type>
      <description>
        <text>List of cluster IDs.</text>
      </description>
    </leaf>
    <leaf name="remote-route-id">
      <type name="inet:ipv4-address-no-zone"/>
      <description>
        <text>Router ID of a peer.</text>
      </description>
    </leaf>
    <leaf name="relay-nexthop">
      <type name="inet:ip-address-no-zone"/>
      <description>
        <text>Next hop to which a route is iterated.</text>
      </description>
    </leaf>
    <leaf name="relay-tunnel-name">
      <type name="string">
        <length value="1..64"/>
      </type>
      <description>
        <text>Name of a tunnel to which a route is iterated.</text>
      </description>
    </leaf>
    <leaf name="in-label">
      <type name="uint32"/>
      <description>
        <text>In-label.</text>
      </description>
    </leaf>
    <leaf name="out-label">
      <type name="uint32"/>
      <description>
        <text>Out-label.</text>
      </description>
    </leaf>
    <leaf name="as-ip">
      <type name="string">
        <length value="1..300"/>
      </type>
      <description>
        <text>Ng route prefix information.</text>
      </description>
    </leaf>
    <leaf name="advertise-nexthop">
      <type name="inet:ip-address-no-zone"/>
      <description>
        <text>Advertise next hop.</text>
      </description>
    </leaf>
  </grouping>
  <grouping name="ng-routing-pmsi">
    <description>
      <text>BGP ng PMSI attribute.</text>
    </description>
    <leaf name="pmsi">
      <type name="string">
        <length value="1..300"/>
      </type>
      <description>
        <text>PMSI attribute.</text>
      </description>
    </leaf>
  </grouping>
  <grouping name="bgp-mvpn-routes-type">
    <description>
      <text>BGP MVPN address family routes.</text>
    </description>
    <container name="ng-type1-routes">
      <description>
        <text>List of displayed BGP Intra-AS I-PMSI A-D route information.</text>
      </description>
      <list name="ng-type1-route">
        <key value="vpn-name route-distinguisher prefix from route-type"/>
        <description>
          <text>Statistics of BGP Intra-AS I-PMSI A-D route.</text>
        </description>
        <uses name="bgp-rt:routing-table-vpn-name"/>
        <uses name="ng-routing-table-type"/>
        <uses name="ng-routing-pmsi"/>
      </list>
    </container>
    <container name="ng-type7-routes">
      <description>
        <text>List of displayed BGP source tree join route information.</text>
      </description>
      <list name="ng-type7-route">
        <key value="vpn-name route-distinguisher prefix from route-type"/>
        <description>
          <text>Statistics of BGP source tree join route.</text>
        </description>
        <uses name="bgp-rt:routing-table-vpn-name"/>
        <uses name="ng-routing-table-type"/>
      </list>
    </container>
  </grouping>
  <grouping name="mvpn-route-st-type">
    <description>
      <text>MVPN route statistics infomation.</text>
    </description>
    <leaf name="ng-type1-route-number">
      <type name="uint32"/>
      <description>
        <text>Number of Intra-AS I-PMSI A-D routes.</text>
      </description>
    </leaf>
    <leaf name="ng-type2-route-number">
      <type name="uint32"/>
      <description>
        <text>Number of Inter-AS I-PMSI A-D routes.</text>
      </description>
    </leaf>
    <leaf name="ng-type3-route-number">
      <type name="uint32"/>
      <description>
        <text>Number of S-PMSI A-D routes.</text>
      </description>
    </leaf>
    <leaf name="ng-type4-route-number">
      <type name="uint32"/>
      <description>
        <text>Number of Leaf A-D routes.</text>
      </description>
    </leaf>
    <leaf name="ng-type5-route-number">
      <type name="uint32"/>
      <description>
        <text>Number of Source Active A-D routes.</text>
      </description>
    </leaf>
    <leaf name="ng-type6-route-number">
      <type name="uint32"/>
      <description>
        <text>Number of Shared Tree Join routes.</text>
      </description>
    </leaf>
    <leaf name="ng-type7-route-number">
      <type name="uint32"/>
      <description>
        <text>Number of Source Tree Join routes.</text>
      </description>
    </leaf>
  </grouping>
  <grouping name="mvpn-route-statistics">
    <description>
      <text>MVPN route statistics information.</text>
    </description>
    <container name="statistics">
      <description>
        <text>List of BGP routes statistics information of the address family.</text>
      </description>
      <list name="statistic">
        <key value="vpn-name"/>
        <description>
          <text>BGP address family routes statistics.</text>
        </description>
        <uses name="bgp-rt:routing-table-vpn-name"/>
        <uses name="bgp-rt:route-total-st-type"/>
        <uses name="mvpn-route-st-type"/>
      </list>
    </container>
  </grouping>
  <augment target-node="/ni:network-instance/ni:instances/ni:instance/bgp:bgp/bgp:base-process/bgp:afs/bgp:af">
    <description>
      <text>BGP mvpn address family configuration.</text>
    </description>
    <container name="ipv4-mvpn">
      <when condition="../bgp:type = 'mvpn'"/>
      <description>
        <text>Configure IPv4-family mvpn options.</text>
      </description>
      <container name="common">
        <description>
          <text>Configure IPv4-family mvpn common options.</text>
        </description>
        <uses name="bgp:vpn-target-type"/>
        <leaf name="vpn-orf-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable vpn-orf capability.</text>
          </description>
        </leaf>
        <leaf name="route-select-delay">
          <type name="uint16">
            <range value="0..3600"/>
          </type>
          <units name="s"/>
          <default value="0"/>
          <description>
            <text>Route selection delay.</text>
          </description>
        </leaf>
        <leaf name="reflect-change-path">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable an RR to use an export policy to change route AS_Path.</text>
          </description>
        </leaf>
        <leaf name="reflect-between-client">
          <type name="boolean"/>
          <default value="true"/>
          <description>
            <text>Enable/disable route reflection between clients. If clients of a route reflector (RR) are fully meshed, you can disable route reflection among clients to reduce the cost.</text>
          </description>
        </leaf>
        <uses name="bgp:reflector-cluster-type"/>
      </container>
      <uses name="bgp:slow-peer-type"/>
    </container>
    <container name="ipv6-mvpn">
      <when condition="../bgp:type='mvpnv6'"/>
      <description>
        <text>Configure IPv6-family mvpn options.</text>
      </description>
      <container name="common">
        <description>
          <text>Configure IPv6-family mvpn common options.</text>
        </description>
        <uses name="bgp:vpn-target-type"/>
        <leaf name="route-select-delay">
          <type name="uint16">
            <range value="0..3600"/>
          </type>
          <units name="s"/>
          <default value="0"/>
          <description>
            <text>Route selection delay.</text>
          </description>
        </leaf>
        <leaf name="reflect-change-path">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable an RR to use an export policy to change route AS_Path.</text>
          </description>
        </leaf>
        <leaf name="reflect-between-client">
          <type name="boolean"/>
          <default value="true"/>
          <description>
            <text>Enable/disable route reflection between clients. If clients of a route reflector (RR) are fully meshed, you can disable route reflection among clients to reduce the cost.</text>
          </description>
        </leaf>
        <uses name="bgp:reflector-cluster-type"/>
      </container>
      <uses name="bgp:slow-peer-type"/>
    </container>
  </augment>
  <augment target-node="/ni:network-instance/ni:instances/ni:instance/bgp:bgp/bgp:base-process/bgp:peer-groups/bgp:peer-group/bgp:afs/bgp:af">
    <description>
      <text>BGP mvpn address family configuration.</text>
    </description>
    <container name="ipv4-mvpn">
      <when condition="../bgp:type = 'mvpn'"/>
      <description>
        <text>Configure IPv4-family mvpn options.</text>
      </description>
      <leaf name="advertise-community">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable advertise the community attribute to a peer or a peer group.</text>
        </description>
      </leaf>
      <leaf name="reflect-client">
        <when condition="../../../../bgp:type='ibgp'"/>
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable the local device as a route reflector (RR) and a peer or peer group as its client. This configuration is applicable between IBGP peers only. The configurations of RRs and its clients in an address family are valid only in this address family. Therefore, it is recommended to configure RRs and its clients in the specified address family that is required.</text>
        </description>
      </leaf>
      <uses name="bgp:as-path-filter-type"/>
      <leaf name="advertise-c-multicast-route">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable advertise C-multicast route directional, only advertise to the neighbor which is matched the nexthop in intra-AD route.</text>
        </description>
      </leaf>
      <leaf name="nexthop-configure">
        <type name="bgp:nexthop-configuration-type"/>
        <must condition="../nexthop-configure='local'"/>
        <description>
          <text>Both the next-hop-local mode and next-hop-invariable mode are available when the peer address family is the VPNv4/VPNV6/L2VPN AD address family. Only the next-hop-local mode is available when the peer address family is not VPNv4/VPNV6/L2VPN AD address family. In next-hop-local mode, you can configure a BGP speaker to set its IP address of as the next hop of the routes to be advertised to IBGP peers or IBGP peer groups. In next-hop-invariable mode, you can configure PEs in different ASs not to change the next hop of routes when the PEs advertise the routes to their EBGP peers and use the next hop addresses of IGP routes to advertise imported IGP routes to IBGP peers. By default, when a BGP speaker advertises routes to EBGP peers and imported IGP routes to IBGP peers, the BGP speaker changes the next hop to its interface address. If the value of nexthop-configure is set to local, the configuration does not take effect in the current address family.</text>
        </description>
      </leaf>
      <choice name="import-policy-type">
        <description>
          <text>Set route policy or filter.</text>
        </description>
        <case name="rtp-ref">
          <description>
            <text>Route policy.</text>
          </description>
          <leaf name="import-policy">
            <type name="leafref">
              <path value="/rtp:routing-policy/rtp:policy-definitions/rtp:policy-definition/rtp:name"/>
            </type>
            <description>
              <text>Specify the filtering policy applied to the routes learned from a peer. By default, no such policy is specified.</text>
            </description>
          </leaf>
        </case>
      </choice>
      <choice name="export-policy-type">
        <description>
          <text>Set route policy or filter.</text>
        </description>
        <case name="rtp-ref">
          <description>
            <text>Route policy.</text>
          </description>
          <leaf name="export-policy">
            <type name="leafref">
              <path value="/rtp:routing-policy/rtp:policy-definitions/rtp:policy-definition/rtp:name"/>
            </type>
            <description>
              <text>Specify the filtering policy applied to the routes to be advertised to a peer. By default, no such policy is specified.</text>
            </description>
          </leaf>
        </case>
      </choice>
      <uses name="bgp:advertise-large-community-group-type"/>
      <uses name="bgp:rt-update-interval-type"/>
      <uses name="bgp:route-limit-type"/>
    </container>
    <container name="ipv6-mvpn">
      <when condition="../bgp:type='mvpnv6'"/>
      <description>
        <text>Configure IPv6-family mvpn options.</text>
      </description>
      <leaf name="advertise-community">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable advertise the community attribute to a peer or a peer group.</text>
        </description>
      </leaf>
      <leaf name="reflect-client">
        <when condition="../../../../bgp:type='ibgp'"/>
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable the local device as a route reflector (RR) and a peer or peer group as its client. This configuration is applicable between IBGP peers only. The configurations of RRs and its clients in an address family are valid only in this address family. Therefore, it is recommended to configure RRs and its clients in the specified address family that is required.</text>
        </description>
      </leaf>
      <uses name="bgp:as-path-filter-type"/>
      <leaf name="advertise-c-multicast-route">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable advertise C-multicast route directional, only advertise to the neighbor which is matched the nexthop in intra-AD route.</text>
        </description>
      </leaf>
      <leaf name="nexthop-configure">
        <type name="bgp:nexthop-configuration-type"/>
        <must condition="../nexthop-configure='local'"/>
        <description>
          <text>Both the next-hop-local mode and next-hop-invariable mode are available when the peer address family is the VPNv4/VPNV6/L2VPN AD address family. Only the next-hop-local mode is available when the peer address family is not VPNv4/VPNV6/L2VPN AD address family. In next-hop-local mode, you can configure a BGP speaker to set its IP address of as the next hop of the routes to be advertised to IBGP peers or IBGP peer groups. In next-hop-invariable mode, you can configure PEs in different ASs not to change the next hop of routes when the PEs advertise the routes to their EBGP peers and use the next hop addresses of IGP routes to advertise imported IGP routes to IBGP peers. By default, when a BGP speaker advertises routes to EBGP peers and imported IGP routes to IBGP peers, the BGP speaker changes the next hop to its interface address. If the value of nexthop-configure is set to local, the configuration does not take effect in the current address family.</text>
        </description>
      </leaf>
      <choice name="import-policy-type">
        <description>
          <text>Set route policy or filter.</text>
        </description>
        <case name="rtp-ref">
          <description>
            <text>Route policy.</text>
          </description>
          <leaf name="import-policy">
            <type name="leafref">
              <path value="/rtp:routing-policy/rtp:policy-definitions/rtp:policy-definition/rtp:name"/>
            </type>
            <description>
              <text>Specify the filtering policy applied to the routes learned from a peer. By default, no such policy is specified.</text>
            </description>
          </leaf>
        </case>
      </choice>
      <choice name="export-policy-type">
        <description>
          <text>Set route policy or filter.</text>
        </description>
        <case name="rtp-ref">
          <description>
            <text>Route policy.</text>
          </description>
          <leaf name="export-policy">
            <type name="leafref">
              <path value="/rtp:routing-policy/rtp:policy-definitions/rtp:policy-definition/rtp:name"/>
            </type>
            <description>
              <text>Specify the filtering policy applied to the routes to be advertised to a peer. By default, no such policy is specified.</text>
            </description>
          </leaf>
        </case>
      </choice>
      <uses name="bgp:advertise-large-community-group-type"/>
      <uses name="bgp:rt-update-interval-type"/>
      <uses name="bgp:route-limit-type"/>
    </container>
  </augment>
  <augment target-node="/ni:network-instance/ni:instances/ni:instance/bgp:bgp/bgp:base-process/bgp:peers/bgp:peer/bgp:afs/bgp:af">
    <description>
      <text>BGP mvpn address family configuration.</text>
    </description>
    <container name="ipv4-mvpn">
      <when condition="../bgp:type = 'mvpn'"/>
      <description>
        <text>Configure IPv4-family mvpn options.</text>
      </description>
      <leaf name="group-name">
        <type name="leafref">
          <path value="../../../../../../bgp:peer-groups/bgp:peer-group/bgp:name"/>
        </type>
        <must condition="../../../../../../bgp:peer-groups/bgp:peer-group[bgp:name = current()]/bgp:afs/bgp:af[bgp:type='mvpn']"/>
        <description>
          <text>Configure a name for a peer group. After a peer is deleted from the peer group, the peer is disabled from the address family. The object cannot be modified.</text>
        </description>
        <ext:operation-exclude value="update">
          <description>
            <text>The node cannot be modified, when the peer already belongs to a peer-group.</text>
          </description>
        </ext:operation-exclude>
      </leaf>
      <leaf name="advertise-community">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable advertise the community attribute to a peer or a peer group.</text>
        </description>
      </leaf>
      <leaf name="reflect-client">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable the local device as a route reflector (RR) and a peer or peer group as its client. This configuration is applicable between IBGP peers only. The configurations of RRs and its clients in an address family are valid only in this address family. Therefore, it is recommended to configure RRs and its clients in the specified address family that is required.</text>
        </description>
      </leaf>
      <uses name="bgp:as-path-filter-type"/>
      <leaf name="advertise-c-multicast-route">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable advertise C-multicast route directional, only advertise to the neighbor which is matched the nexthop in intra-AD route.</text>
        </description>
      </leaf>
      <leaf name="nexthop-configure">
        <type name="bgp:nexthop-configuration-type"/>
        <must condition="../nexthop-configure='local'"/>
        <description>
          <text>Both the next-hop-local mode and next-hop-invariable mode are available when the peer address family is the VPNv4/VPNV6/L2VPN AD address family. Only the next-hop-local mode is available when the peer address family is not VPNv4/VPNV6/L2VPN AD address family. In next-hop-local mode, you can configure a BGP speaker to set its IP address of as the next hop of the routes to be advertised to IBGP peers or IBGP peer groups. In next-hop-invariable mode, you can configure PEs in different ASs not to change the next hop of routes when the PEs advertise the routes to their EBGP peers and use the next hop addresses of IGP routes to advertise imported IGP routes to IBGP peers. By default, when a BGP speaker advertises routes to EBGP peers and imported IGP routes to IBGP peers, the BGP speaker changes the next hop to its interface address. If the value of nexthop-configure is set to local, the configuration does not take effect in the current address family.</text>
        </description>
      </leaf>
      <choice name="import-policy-type">
        <description>
          <text>Set route policy or filter.</text>
        </description>
        <case name="rtp-ref">
          <description>
            <text>Route policy.</text>
          </description>
          <leaf name="import-policy">
            <type name="leafref">
              <path value="/rtp:routing-policy/rtp:policy-definitions/rtp:policy-definition/rtp:name"/>
            </type>
            <description>
              <text>Specify the filtering policy applied to the routes learned from a peer. By default, no such policy is specified.</text>
            </description>
          </leaf>
        </case>
      </choice>
      <choice name="export-policy-type">
        <description>
          <text>Set route policy or filter.</text>
        </description>
        <case name="rtp-ref">
          <description>
            <text>Route policy.</text>
          </description>
          <leaf name="export-policy">
            <type name="leafref">
              <path value="/rtp:routing-policy/rtp:policy-definitions/rtp:policy-definition/rtp:name"/>
            </type>
            <description>
              <text>Specify the filtering policy applied to the routes to be advertised to a peer. By default, no such policy is specified.</text>
            </description>
          </leaf>
        </case>
      </choice>
      <uses name="bgp:advertise-large-community-type"/>
      <uses name="bgp:rt-update-interval-type"/>
      <uses name="bgp:route-limit-type"/>
    </container>
    <container name="ipv6-mvpn">
      <when condition="../bgp:type='mvpnv6'"/>
      <description>
        <text>Configure IPv6-family mvpn options.</text>
      </description>
      <leaf name="group-name">
        <type name="leafref">
          <path value="../../../../../../bgp:peer-groups/bgp:peer-group/bgp:name"/>
        </type>
        <must condition="../../../../../../bgp:peer-groups/bgp:peer-group[bgp:name = current()]/bgp:afs/bgp:af[bgp:type='mvpnv6']"/>
        <description>
          <text>Configure a name for a peer group. After a peer is deleted from the peer group, the peer is disabled from the address family. The object cannot be modified.</text>
        </description>
        <ext:operation-exclude value="update">
          <description>
            <text>The node cannot be modified, when the peer already belongs to a peer-group.</text>
          </description>
        </ext:operation-exclude>
      </leaf>
      <leaf name="advertise-community">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable advertise the community attribute to a peer or a peer group.</text>
        </description>
      </leaf>
      <leaf name="reflect-client">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable the local device as a route reflector (RR) and a peer or peer group as its client. This configuration is applicable between IBGP peers only. The configurations of RRs and its clients in an address family are valid only in this address family. Therefore, it is recommended to configure RRs and its clients in the specified address family that is required.</text>
        </description>
      </leaf>
      <uses name="bgp:as-path-filter-type"/>
      <leaf name="advertise-c-multicast-route">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable advertise C-multicast route directional, only advertise to the neighbor which is matched the nexthop in intra-AD route.</text>
        </description>
      </leaf>
      <leaf name="nexthop-configure">
        <type name="bgp:nexthop-configuration-type"/>
        <must condition="../nexthop-configure='local'"/>
        <description>
          <text>Both the next-hop-local mode and next-hop-invariable mode are available when the peer address family is the VPNv4/VPNV6/L2VPN AD address family. Only the next-hop-local mode is available when the peer address family is not VPNv4/VPNV6/L2VPN AD address family. In next-hop-local mode, you can configure a BGP speaker to set its IP address of as the next hop of the routes to be advertised to IBGP peers or IBGP peer groups. In next-hop-invariable mode, you can configure PEs in different ASs not to change the next hop of routes when the PEs advertise the routes to their EBGP peers and use the next hop addresses of IGP routes to advertise imported IGP routes to IBGP peers. By default, when a BGP speaker advertises routes to EBGP peers and imported IGP routes to IBGP peers, the BGP speaker changes the next hop to its interface address. If the value of nexthop-configure is set to local, the configuration does not take effect in the current address family.</text>
        </description>
      </leaf>
      <choice name="import-policy-type">
        <description>
          <text>Set route policy or filter.</text>
        </description>
        <case name="rtp-ref">
          <description>
            <text>Route policy.</text>
          </description>
          <leaf name="import-policy">
            <type name="leafref">
              <path value="/rtp:routing-policy/rtp:policy-definitions/rtp:policy-definition/rtp:name"/>
            </type>
            <description>
              <text>Specify the filtering policy applied to the routes learned from a peer. By default, no such policy is specified.</text>
            </description>
          </leaf>
        </case>
      </choice>
      <choice name="export-policy-type">
        <description>
          <text>Set route policy or filter.</text>
        </description>
        <case name="rtp-ref">
          <description>
            <text>Route policy.</text>
          </description>
          <leaf name="export-policy">
            <type name="leafref">
              <path value="/rtp:routing-policy/rtp:policy-definitions/rtp:policy-definition/rtp:name"/>
            </type>
            <description>
              <text>Specify the filtering policy applied to the routes to be advertised to a peer. By default, no such policy is specified.</text>
            </description>
          </leaf>
        </case>
      </choice>
      <uses name="bgp:advertise-large-community-type"/>
      <uses name="bgp:rt-update-interval-type"/>
      <uses name="bgp:route-limit-type"/>
    </container>
  </augment>
  <augment target-node="/bgp:bgp/bgp:base-process/bgp-rt:bgp-route">
    <description>
      <text>BGP MVPN address family routes information.</text>
    </description>
    <container name="ipv4-mvpn">
      <config value="false"/>
      <description>
        <text>Statistics of BGP routes information of IPv4-mvpn address family.</text>
      </description>
      <uses name="bgp-mvpn-routes-type"/>
      <uses name="mvpn-route-statistics"/>
    </container>
    <container name="ipv6-mvpn">
      <config value="false"/>
      <description>
        <text>Statistics of BGP routes information of IPv6-mvpn address family.</text>
      </description>
      <uses name="bgp-mvpn-routes-type"/>
      <uses name="mvpn-route-statistics"/>
    </container>
  </augment>
</module>
