<?xml version="1.0" encoding="UTF-8"?>
<submodule name="openconfig-network-instance-l2"
           xmlns="urn:ietf:params:xml:ns:yang:yin:1"
           xmlns:oc-netinst="http://openconfig.net/yang/network-instance"
           xmlns:oc-ext="http://openconfig.net/yang/openconfig-ext"
           xmlns:oc-if="http://openconfig.net/yang/interfaces"
           xmlns:yang="urn:ietf:params:xml:ns:yang:ietf-yang-types">
  <belongs-to module="openconfig-network-instance">
    <prefix value="oc-netinst"/>
  </belongs-to>
  <import module="openconfig-extensions">
    <prefix value="oc-ext"/>
  </import>
  <import module="openconfig-interfaces">
    <prefix value="oc-if"/>
  </import>
  <import module="ietf-yang-types">
    <prefix value="yang"/>
  </import>
  <organization>
    <text>OpenConfig working group</text>
  </organization>
  <contact>
    <text>OpenConfig working group
www.openconfig.net</text>
  </contact>
  <description>
    <text>This module contains groupings which specifically relate to
Layer 2 network instance configuration and operational state
parameters.</text>
  </description>
  <oc-ext:openconfig-version semver="0.12.0"/>
  <revision date="2019-04-16">
    <description>
      <text>Move BGP RIB into the protocol/bgp container.</text>
    </description>
    <reference>
      <text>0.12.0</text>
    </reference>
  </revision>
  <revision date="2018-11-21">
    <description>
      <text>Add OpenConfig module metadata extensions.</text>
    </description>
    <reference>
      <text>0.11.1</text>
    </reference>
  </revision>
  <revision date="2018-08-11">
    <description>
      <text>Add vlan id as additional key in MAC table</text>
    </description>
    <reference>
      <text>0.11.0</text>
    </reference>
  </revision>
  <revision date="2018-06-22">
    <description>
      <text>Fix typo in OSPF when statement</text>
    </description>
    <reference>
      <text>0.10.2</text>
    </reference>
  </revision>
  <revision date="2018-06-05">
    <description>
      <text>Fix bugs in when statements</text>
    </description>
    <reference>
      <text>0.10.1</text>
    </reference>
  </revision>
  <revision date="2018-02-19">
    <description>
      <text>Add PIM and IGMP to network instance</text>
    </description>
    <reference>
      <text>0.10.0</text>
    </reference>
  </revision>
  <revision date="2017-12-13">
    <description>
      <text>Fix incorrect constraint on SR and MPLS containers</text>
    </description>
    <reference>
      <text>0.9.0</text>
    </reference>
  </revision>
  <revision date="2017-08-24">
    <description>
      <text>Minor formatting fixes</text>
    </description>
    <reference>
      <text>0.8.1</text>
    </reference>
  </revision>
  <revision date="2017-02-28">
    <description>
      <text>Add OSPFv2 to network instance</text>
    </description>
    <reference>
      <text>0.8.0</text>
    </reference>
  </revision>
  <revision date="2017-01-26">
    <description>
      <text>Add policy forwarding to network instance</text>
    </description>
    <reference>
      <text>0.7.0</text>
    </reference>
  </revision>
  <revision date="2017-01-13">
    <description>
      <text>Add AFT to the network instance</text>
    </description>
    <reference>
      <text>0.6.0</text>
    </reference>
  </revision>
  <revision date="2016-12-15">
    <description>
      <text>Add segment routing to network instance</text>
    </description>
    <reference>
      <text>0.5.0</text>
    </reference>
  </revision>
  <revision date="2016-11-10">
    <description>
      <text>Update model to include IS-IS.</text>
    </description>
    <reference>
      <text>0.4.1</text>
    </reference>
  </revision>
  <revision date="2016-10-12">
    <description>
      <text>Update table connections</text>
    </description>
    <reference>
      <text>0.4.0</text>
    </reference>
  </revision>
  <revision date="2016-09-28">
    <description>
      <text>Change L2 instance to submodule; add MAC table</text>
    </description>
    <reference>
      <text>0.3.0</text>
    </reference>
  </revision>
  <revision date="2016-08-11">
    <description>
      <text>Resolve repeated container names in routing protocols</text>
    </description>
    <reference>
      <text>0.2.3</text>
    </reference>
  </revision>
  <revision date="2016-07-08">
    <description>
      <text>Updated with refactored routing protocol models</text>
    </description>
    <reference>
      <text>0.2.1</text>
    </reference>
  </revision>
  <revision date="2016-03-29">
    <description>
      <text>Initial revision</text>
    </description>
    <reference>
      <text>0.2.0</text>
    </reference>
  </revision>
  <revision date="2015-11-20">
    <description>
      <text>Initial revision</text>
    </description>
    <reference>
      <text>0.1.0</text>
    </reference>
  </revision>
  <grouping name="l2ni-instance">
    <description>
      <text>Configuration and operational state parameters relating
to a Layer 2 network instance</text>
    </description>
    <container name="fdb">
      <description>
        <text>Operational state and configuration parameters relating to
the forwarding database of the network instance</text>
      </description>
      <container name="config">
        <description>
          <text>Configuration parameters relating to the FDB</text>
        </description>
        <uses name="l2ni-fdb-mac-config"/>
      </container>
      <container name="state">
        <config value="false"/>
        <description>
          <text>Operational state parameters relating to the FDB</text>
        </description>
        <uses name="l2ni-fdb-mac-config"/>
      </container>
      <uses name="l2ni-mac-table-top"/>
    </container>
  </grouping>
  <grouping name="l2ni-instance-common-config">
    <description>
      <text>Common configuration options which are specific to Layer 2
network instances</text>
    </description>
    <leaf name="mtu">
      <type name="uint16"/>
      <description>
        <text>The maximum frame size which should be supported for this
instance for Layer 2 frames</text>
      </description>
    </leaf>
  </grouping>
  <grouping name="l2ni-fdb-mac-config">
    <description>
      <text>Parameters relating to FDB behaviour relating to MAC
addresses</text>
    </description>
    <leaf name="mac-learning">
      <type name="boolean"/>
      <description>
        <text>When this leaf is set to true, MAC learning is enabled for
the network instance, such that MAC addresses are learned
from ingress frames and added to the FDB.</text>
      </description>
    </leaf>
    <leaf name="mac-aging-time">
      <type name="uint16"/>
      <units name="seconds"/>
      <description>
        <text>The number of seconds of inactivity after which the entry
in the local FDB is timed out.</text>
      </description>
    </leaf>
    <leaf name="maximum-entries">
      <type name="uint16"/>
      <description>
        <text>The maximum number of MAC address entries that should be
accepted into the FDB</text>
      </description>
    </leaf>
  </grouping>
  <grouping name="l2ni-encapsulation-config">
    <description>
      <text>Encapsulation related configuration parameters for a L2
network instance</text>
    </description>
    <leaf name="control-word">
      <type name="boolean"/>
      <description>
        <text>Whether the control-word should be used for the network
instance</text>
      </description>
      <reference>
        <text>RFC3985</text>
      </reference>
    </leaf>
  </grouping>
  <grouping name="l2ni-mac-table-config">
    <description>
      <text>Configuration data for MAC table entries</text>
    </description>
    <leaf name="mac-address">
      <type name="yang:mac-address"/>
      <description>
        <text>MAC address for the dynamic or static MAC table
entry</text>
      </description>
    </leaf>
    <leaf name="vlan">
      <type name="leafref">
        <path value="../../../../../../vlans/vlan/config/vlan-id"/>
      </type>
      <description>
        <text>VLAN on which the MAC address is present. The same MAC
address may be seen on multiple VLANs in some cases.</text>
      </description>
    </leaf>
  </grouping>
  <grouping name="l2ni-mac-table-state">
    <description>
      <text>Operational state data for MAC table entries</text>
    </description>
    <leaf name="age">
      <type name="uint64"/>
      <units name="seconds"/>
      <description>
        <text>The time in seconds since the MAC address has been in the
table</text>
      </description>
    </leaf>
    <leaf name="entry-type">
      <type name="enumeration">
        <enum name="STATIC">
          <description>
            <text>Statically programmed MAC table entry</text>
          </description>
        </enum>
        <enum name="DYNAMIC">
          <description>
            <text>Dynamically learned MAC table entry</text>
          </description>
        </enum>
      </type>
      <description>
        <text>Indicates whether the entry was statically configured, or
dynamically learned.</text>
      </description>
    </leaf>
  </grouping>
  <grouping name="l2ni-mac-table-top">
    <description>
      <text>Top-level grouping for MAC table list</text>
    </description>
    <container name="mac-table">
      <description>
        <text>Table of learned or statically configured MAC addresses and
corresponding VLANs in the bridge domain</text>
      </description>
      <container name="entries">
        <description>
          <text>Enclosing container for list of MAC table entries</text>
        </description>
        <list name="entry">
          <key value="mac-address vlan"/>
          <description>
            <text>List of learned MAC addresses</text>
          </description>
          <leaf name="mac-address">
            <type name="leafref">
              <path value="../config/mac-address"/>
            </type>
            <description>
              <text>Reference to mac-address list key</text>
            </description>
          </leaf>
          <leaf name="vlan">
            <type name="leafref">
              <path value="../config/vlan"/>
            </type>
            <description>
              <text>Reference to vlan list key</text>
            </description>
          </leaf>
          <container name="config">
            <description>
              <text>Configuration data for MAC table entries</text>
            </description>
            <uses name="l2ni-mac-table-config"/>
          </container>
          <container name="state">
            <config value="false"/>
            <description>
              <text>Operational state data for MAC table entries</text>
            </description>
            <uses name="l2ni-mac-table-config"/>
            <uses name="l2ni-mac-table-state"/>
          </container>
          <container name="interface">
            <description>
              <text>Reference to the base and/or subinterface for the
MAC table entry</text>
            </description>
            <uses name="oc-if:interface-ref"/>
          </container>
        </list>
      </container>
    </container>
  </grouping>
</submodule>
