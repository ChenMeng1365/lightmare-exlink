<?xml version="1.0" encoding="UTF-8"?>
<module name="zxr10-pm-database"
        xmlns="urn:ietf:params:xml:ns:yang:yin:1"
        xmlns:pm-database="http://www.zte.com.cn/zxr10/netconf/schema/rosng/pm-database"
        xmlns:ncd="http://www.zte.com.cn/zxr10/netconf/schema/rosng/netconf-defs">
  <namespace uri="http://www.zte.com.cn/zxr10/netconf/schema/rosng/pm-database"/>
  <prefix value="pm-database"/>
  <import module="zxr10-netconf-defs">
    <prefix value="ncd"/>
  </import>
  <organization>
    <text>ZTE Corporation</text>
  </organization>
  <contact>
    <text>ZTE Corporation  
   Nanjing Institute of ZTE Corporation 
   No.68 Zijinghua Rd. Yuhuatai District, Nanjing, China 
   Tel: +86-25-52870000</text>
  </contact>
  <revision date="2019-08-01">
    <description>
      <text>Initial version.</text>
    </description>
  </revision>
  <container name="state">
    <config value="false"/>
    <container name="database">
      <leaf name="current-database">
        <description>
          <text>Indicates release of current activated database</text>
        </description>
        <type name="string"/>
      </leaf>
      <leaf name="max-db-num">
        <description>
          <text>Max number of databases in the device.</text>
        </description>
        <type name="uint8"/>
      </leaf>
      <container name="backup">
        <description>
          <text>Top-level container for system memory data.</text>
        </description>
        <leaf name="backup-file">
          <description>
            <text>Backup file name</text>
          </description>
          <type name="string"/>
          <mandatory value="true"/>
        </leaf>
        <leaf name="backup-state">
          <description>
            <text>The backup state value of the backup file</text>
          </description>
          <type name="enumeration">
            <enum name="BACKUP">
              <value value="0"/>
              <description>
                <text>Uploading state for database management</text>
              </description>
            </enum>
            <enum name="RESTORING">
              <value value="1"/>
              <description>
                <text>Restoring state for database management</text>
              </description>
            </enum>
            <enum name="COMPLETE">
              <value value="2"/>
              <description>
                <text>Complete state for database management</text>
              </description>
            </enum>
            <enum name="FAIL">
              <value value="3"/>
              <description>
                <text>Fail state for database management</text>
              </description>
            </enum>
          </type>
        </leaf>
        <leaf name="backup-time">
          <description>
            <text>The backup time value of the backup file</text>
          </description>
          <type name="ncd:string-with-blank">
            <pattern value="[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(.[0-9]+)?Z[+-][0-9]{2}:[0-9]{2}">
              <description>
                <text>A date and time, expressed in the format described in RFC3339. YYYY-MM-DDTHH:MM:SSZ+-hh:mm</text>
              </description>
            </pattern>
          </type>
          <mandatory value="true"/>
        </leaf>
        <leaf name="backup-database">
          <description>
            <text>The database version of the database backup file.When the value changes, a notification is required.</text>
          </description>
          <type name="string"/>
        </leaf>
      </container>
      <container name="restore">
        <leaf name="backup-file">
          <description>
            <text>Backup file name</text>
          </description>
          <type name="string"/>
          <mandatory value="true"/>
        </leaf>
        <leaf name="restore-state">
          <description>
            <text>The restore state value of the backup file</text>
          </description>
          <type name="enumeration">
            <enum name="BACKUP">
              <value value="0"/>
              <description>
                <text>Uploading state for database management</text>
              </description>
            </enum>
            <enum name="RESTORING">
              <value value="1"/>
              <description>
                <text>Restoring state for database management</text>
              </description>
            </enum>
            <enum name="COMPLETE">
              <value value="2"/>
              <description>
                <text>Complete state for database management</text>
              </description>
            </enum>
            <enum name="FAIL">
              <value value="3"/>
              <description>
                <text>Fail state for database management</text>
              </description>
            </enum>
          </type>
        </leaf>
        <leaf name="restore-time">
          <description>
            <text>The restore time value of the backup file</text>
          </description>
          <type name="ncd:string-with-blank">
            <pattern value="[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(.[0-9]+)?Z[+-][0-9]{2}:[0-9]{2}">
              <description>
                <text>A date and time, expressed in the format described in RFC3339. YYYY-MM-DDTHH:MM:SSZ+-hh:mm</text>
              </description>
            </pattern>
          </type>
          <mandatory value="true"/>
        </leaf>
        <leaf name="restore-database">
          <description>
            <text>Database version of the database backup file used for database recovery.When the value changes, a notification is required.</text>
          </description>
          <type name="string"/>
        </leaf>
      </container>
    </container>
  </container>
  <rpc name="database-operate">
    <description>
      <text>RPC Operation</text>
    </description>
    <input>
      <leaf name="database-operation">
        <description>
          <text>Data operation action.</text>
        </description>
        <config value="false"/>
        <type name="enumeration">
          <enum name="DBOP_NONE">
            <value value="0"/>
            <description>
              <text>None for database operation</text>
            </description>
          </enum>
          <enum name="DBOP_BACKUP">
            <value value="1"/>
            <description>
              <text>Backup for database operation</text>
            </description>
          </enum>
          <enum name="DBOP_RESTORE">
            <value value="2"/>
            <description>
              <text>None for database operation</text>
            </description>
          </enum>
          <enum name="DBOP_DOWNLOAD">
            <value value="3"/>
            <description>
              <text>Download for database operation</text>
            </description>
          </enum>
          <enum name="DBOP_UPLOAD">
            <value value="4"/>
            <description>
              <text>Upload for database operation</text>
            </description>
          </enum>
          <enum name="DBOP_REMOVE">
            <value value="5"/>
            <description>
              <text>Remove for database operation</text>
            </description>
          </enum>
          <enum name="DBOP_ACTIVATE">
            <value value="6"/>
            <description>
              <text>Activate for database operation</text>
            </description>
          </enum>
        </type>
        <mandatory value="true"/>
      </leaf>
      <leaf name="file-type">
        <description>
          <text>File type for the operation.</text>
        </description>
        <config value="false"/>
        <type name="enumeration">
          <enum name="DATABASE">
            <value value="0"/>
            <description>
              <text>The file is database</text>
            </description>
          </enum>
          <enum name="IMAGE">
            <value value="1"/>
            <description>
              <text>The file is image</text>
            </description>
          </enum>
          <enum name="IMAGE-DATABASE">
            <value value="2"/>
            <description>
              <text>The file is image and database</text>
            </description>
          </enum>
          <enum name="CERTIFICATE">
            <value value="3"/>
            <description>
              <text>The file is certificate</text>
            </description>
          </enum>
          <enum name="LICENSE">
            <value value="4"/>
            <description>
              <text>The file is license</text>
            </description>
          </enum>
          <enum name="OTDR">
            <value value="5"/>
            <description>
              <text>The file is otdr</text>
            </description>
          </enum>
          <enum name="OCM">
            <value value="6"/>
            <description>
              <text>The file is ocm</text>
            </description>
          </enum>
        </type>
      </leaf>
      <leaf name="file-name">
        <description>
          <text>The filename for sftp server. It indicates one file name</text>
        </description>
        <config value="false"/>
        <type name="string"/>
      </leaf>
      <leaf name="reboot-type">
        <description>
          <text>Reboot type.</text>
        </description>
        <config value="false"/>
        <type name="enumeration">
          <enum name="NO_COMMAND">
            <value value="0"/>
            <description>
              <text>Do nothing</text>
            </description>
          </enum>
          <enum name="WARM_RESET">
            <value value="1"/>
            <description>
              <text>Warm reboot</text>
            </description>
          </enum>
          <enum name="COLD_RESET">
            <value value="2"/>
            <description>
              <text>Cold reboot</text>
            </description>
          </enum>
        </type>
      </leaf>
      <container name="remote-server">
        <description>
          <text>Sftp server information, it must be existed for operation backup/restore.</text>
        </description>
        <config value="false"/>
        <leaf name="protocol">
          <description>
            <text>Protocol used to connect to the remote server</text>
          </description>
          <type name="enumeration">
            <enum name="FTP">
              <value value="1"/>
              <description>
                <text>File Transfer Protocol (FTP)</text>
              </description>
            </enum>
            <enum name="SFTP">
              <value value="2"/>
              <description>
                <text>File Transfer Protocol (SFTP)</text>
              </description>
            </enum>
          </type>
        </leaf>
        <leaf name="vrf-name">
          <description>
            <text>The vrf-name of sftp IP address</text>
          </description>
          <type name="ncd:string-all"/>
        </leaf>
        <leaf name="address">
          <description>
            <text>Sftp IP address</text>
          </description>
          <type name="string">
            <pattern value="((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]).){3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]))|(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))">
              <description>
                <text>IPv4 or IPv6 address pattern</text>
              </description>
            </pattern>
          </type>
        </leaf>
        <leaf name="port">
          <description>
            <text>Port number for sftp requests</text>
          </description>
          <type name="uint16"/>
        </leaf>
        <leaf name="user">
          <description>
            <text>The username for sftp server.</text>
          </description>
          <type name="string"/>
        </leaf>
        <leaf name="password">
          <description>
            <text>The password for sftp server.</text>
          </description>
          <type name="string"/>
        </leaf>
        <leaf name="download-path">
          <description>
            <text>The download path for sftp server. It indicates one directory</text>
          </description>
          <type name="string"/>
        </leaf>
        <leaf name="upload-path">
          <description>
            <text>The upload path for sftp server. It indicates one directory</text>
          </description>
          <type name="string"/>
        </leaf>
        <leaf name="source-address">
          <description>
            <text>Source address to use on outgoing ftp packets.</text>
          </description>
          <type name="string">
            <pattern value="((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]).){3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]))|(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))">
              <description>
                <text>IPv4 or IPv6 address pattern</text>
              </description>
            </pattern>
          </type>
        </leaf>
      </container>
    </input>
    <output>
      <leaf name="result">
        <description>
          <text>result</text>
        </description>
        <config value="false"/>
        <type name="ncd:string-all"/>
      </leaf>
      <leaf name="text">
        <description>
          <text>reasons for failure, defined by vendor.</text>
        </description>
        <config value="false"/>
        <type name="ncd:string-all"/>
      </leaf>
    </output>
  </rpc>
  <rpc name="get-operate-status">
    <input>
      <leaf name="operate-type">
        <description>
          <text>Data operation action.</text>
        </description>
        <config value="false"/>
        <type name="enumeration">
          <enum name="DBOP_NONE">
            <value value="0"/>
            <description>
              <text>None for database operation</text>
            </description>
          </enum>
          <enum name="DBOP_BACKUP">
            <value value="1"/>
            <description>
              <text>Backup for database operation</text>
            </description>
          </enum>
          <enum name="DBOP_RESTORE">
            <value value="2"/>
            <description>
              <text>None for database operation</text>
            </description>
          </enum>
          <enum name="DBOP_DOWNLOAD">
            <value value="3"/>
            <description>
              <text>Download for database operation</text>
            </description>
          </enum>
          <enum name="DBOP_UPLOAD">
            <value value="4"/>
            <description>
              <text>Upload for database operation</text>
            </description>
          </enum>
          <enum name="DBOP_REMOVE">
            <value value="5"/>
            <description>
              <text>Remove for database operation</text>
            </description>
          </enum>
          <enum name="DBOP_ACTIVATE">
            <value value="6"/>
            <description>
              <text>Activate for database operation</text>
            </description>
          </enum>
        </type>
        <mandatory value="true"/>
      </leaf>
      <leaf name="file-type">
        <description>
          <text>File type for the operation.</text>
        </description>
        <config value="false"/>
        <type name="enumeration">
          <enum name="DATABASE">
            <value value="0"/>
            <description>
              <text>The file is database</text>
            </description>
          </enum>
          <enum name="IMAGE">
            <value value="1"/>
            <description>
              <text>The file is image</text>
            </description>
          </enum>
          <enum name="IMAGE-DATABASE">
            <value value="2"/>
            <description>
              <text>The file is image and database</text>
            </description>
          </enum>
          <enum name="CERTIFICATE">
            <value value="3"/>
            <description>
              <text>The file is certificate</text>
            </description>
          </enum>
          <enum name="LICENSE">
            <value value="4"/>
            <description>
              <text>The file is license</text>
            </description>
          </enum>
          <enum name="OTDR">
            <value value="5"/>
            <description>
              <text>The file is otdr</text>
            </description>
          </enum>
          <enum name="OCM">
            <value value="6"/>
            <description>
              <text>The file is ocm</text>
            </description>
          </enum>
        </type>
      </leaf>
      <leaf name="file-name">
        <description>
          <text>The filename for sftp server. It indicates one file name</text>
        </description>
        <config value="false"/>
        <type name="string"/>
      </leaf>
    </input>
    <output>
      <leaf name="status">
        <description>
          <text>The status of database operation</text>
        </description>
        <config value="false"/>
        <type name="ncd:string-all"/>
      </leaf>
      <leaf name="text">
        <description>
          <text>reasons for failure, defined by vendor.</text>
        </description>
        <config value="false"/>
        <type name="ncd:string-all"/>
      </leaf>
    </output>
  </rpc>
  <notification name="event">
    <description>
      <text>hostname banner boot-time domain-name</text>
    </description>
    <container name="update">
      <container name="database">
        <leaf name="current-database">
          <description>
            <text>Indicates release of current activated database</text>
          </description>
          <config value="false"/>
          <type name="string"/>
        </leaf>
        <leaf name="max-db-num">
          <description>
            <text>Max number of databases in the device.</text>
          </description>
          <config value="false"/>
          <type name="uint8"/>
        </leaf>
        <container name="backup">
          <description>
            <text>Top-level container for system memory data.</text>
          </description>
          <config value="false"/>
          <leaf name="backup-file">
            <description>
              <text>Backup file name</text>
            </description>
            <type name="string"/>
            <mandatory value="true"/>
          </leaf>
          <leaf name="backup-state">
            <description>
              <text>The backup state value of the backup file</text>
            </description>
            <type name="enumeration">
              <enum name="BACKUP">
                <value value="0"/>
                <description>
                  <text>Uploading state for database management</text>
                </description>
              </enum>
              <enum name="RESTORING">
                <value value="1"/>
                <description>
                  <text>Restoring state for database management</text>
                </description>
              </enum>
              <enum name="COMPLETE">
                <value value="2"/>
                <description>
                  <text>Complete state for database management</text>
                </description>
              </enum>
              <enum name="FAIL">
                <value value="3"/>
                <description>
                  <text>Fail state for database management</text>
                </description>
              </enum>
            </type>
          </leaf>
          <leaf name="backup-time">
            <description>
              <text>The backup time value of the backup file</text>
            </description>
            <type name="ncd:string-with-blank">
              <pattern value="[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(.[0-9]+)?Z[+-][0-9]{2}:[0-9]{2}">
                <description>
                  <text>A date and time, expressed in the format described in RFC3339. YYYY-MM-DDTHH:MM:SSZ+-hh:mm</text>
                </description>
              </pattern>
            </type>
            <mandatory value="true"/>
          </leaf>
        </container>
        <container name="restore">
          <config value="false"/>
          <leaf name="backup-file">
            <description>
              <text>Backup file name</text>
            </description>
            <type name="string"/>
            <mandatory value="true"/>
          </leaf>
          <leaf name="restore-state">
            <description>
              <text>The restore state value of the backup file</text>
            </description>
            <type name="enumeration">
              <enum name="BACKUP">
                <value value="0"/>
                <description>
                  <text>Uploading state for database management</text>
                </description>
              </enum>
              <enum name="RESTORING">
                <value value="1"/>
                <description>
                  <text>Restoring state for database management</text>
                </description>
              </enum>
              <enum name="COMPLETE">
                <value value="2"/>
                <description>
                  <text>Complete state for database management</text>
                </description>
              </enum>
              <enum name="FAIL">
                <value value="3"/>
                <description>
                  <text>Fail state for database management</text>
                </description>
              </enum>
            </type>
          </leaf>
          <leaf name="restore-time">
            <description>
              <text>The restore time value of the backup file</text>
            </description>
            <type name="ncd:string-with-blank">
              <pattern value="[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(.[0-9]+)?Z[+-][0-9]{2}:[0-9]{2}">
                <description>
                  <text>A date and time, expressed in the format described in RFC3339. YYYY-MM-DDTHH:MM:SSZ+-hh:mm</text>
                </description>
              </pattern>
            </type>
            <mandatory value="true"/>
          </leaf>
        </container>
      </container>
    </container>
    <container name="delete">
      <container name="database">
        <leaf name="current-database">
          <description>
            <text>Indicates release of current activated database</text>
          </description>
          <config value="false"/>
          <type name="string"/>
        </leaf>
        <leaf name="max-db-num">
          <description>
            <text>Max number of databases in the device.</text>
          </description>
          <config value="false"/>
          <type name="uint8"/>
        </leaf>
        <container name="backup">
          <description>
            <text>Top-level container for system memory data.</text>
          </description>
          <config value="false"/>
          <leaf name="backup-file">
            <description>
              <text>Backup file name</text>
            </description>
            <type name="string"/>
            <mandatory value="true"/>
          </leaf>
          <leaf name="backup-state">
            <description>
              <text>The backup state value of the backup file</text>
            </description>
            <type name="enumeration">
              <enum name="BACKUP">
                <value value="0"/>
                <description>
                  <text>Uploading state for database management</text>
                </description>
              </enum>
              <enum name="RESTORING">
                <value value="1"/>
                <description>
                  <text>Restoring state for database management</text>
                </description>
              </enum>
              <enum name="COMPLETE">
                <value value="2"/>
                <description>
                  <text>Complete state for database management</text>
                </description>
              </enum>
              <enum name="FAIL">
                <value value="3"/>
                <description>
                  <text>Fail state for database management</text>
                </description>
              </enum>
            </type>
          </leaf>
          <leaf name="backup-time">
            <description>
              <text>The backup time value of the backup file</text>
            </description>
            <type name="ncd:string-with-blank">
              <pattern value="[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(.[0-9]+)?Z[+-][0-9]{2}:[0-9]{2}">
                <description>
                  <text>A date and time, expressed in the format described in RFC3339. YYYY-MM-DDTHH:MM:SSZ+-hh:mm</text>
                </description>
              </pattern>
            </type>
            <mandatory value="true"/>
          </leaf>
        </container>
        <container name="restore">
          <config value="false"/>
          <leaf name="backup-file">
            <description>
              <text>Backup file name</text>
            </description>
            <type name="string"/>
            <mandatory value="true"/>
          </leaf>
          <leaf name="restore-state">
            <description>
              <text>The restore state value of the backup file</text>
            </description>
            <type name="enumeration">
              <enum name="BACKUP">
                <value value="0"/>
                <description>
                  <text>Uploading state for database management</text>
                </description>
              </enum>
              <enum name="RESTORING">
                <value value="1"/>
                <description>
                  <text>Restoring state for database management</text>
                </description>
              </enum>
              <enum name="COMPLETE">
                <value value="2"/>
                <description>
                  <text>Complete state for database management</text>
                </description>
              </enum>
              <enum name="FAIL">
                <value value="3"/>
                <description>
                  <text>Fail state for database management</text>
                </description>
              </enum>
            </type>
          </leaf>
          <leaf name="restore-time">
            <description>
              <text>The restore time value of the backup file</text>
            </description>
            <type name="ncd:string-with-blank">
              <pattern value="[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(.[0-9]+)?Z[+-][0-9]{2}:[0-9]{2}">
                <description>
                  <text>A date and time, expressed in the format described in RFC3339. YYYY-MM-DDTHH:MM:SSZ+-hh:mm</text>
                </description>
              </pattern>
            </type>
            <mandatory value="true"/>
          </leaf>
        </container>
      </container>
    </container>
  </notification>
</module>
