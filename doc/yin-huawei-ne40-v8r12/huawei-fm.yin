<?xml version="1.0" encoding="UTF-8"?>
<module name="huawei-fm"
        xmlns="urn:ietf:params:xml:ns:yang:yin:1"
        xmlns:fm="urn:huawei:yang:huawei-fm"
        xmlns:inet="urn:ietf:params:xml:ns:yang:ietf-inet-types"
        xmlns:ifm="urn:huawei:yang:huawei-ifm"
        xmlns:snmp="urn:huawei:yang:huawei-snmp"
        xmlns:yang="urn:ietf:params:xml:ns:yang:ietf-yang-types"
        xmlns:ext="urn:huawei:yang:huawei-extension">
  <namespace uri="urn:huawei:yang:huawei-fm"/>
  <prefix value="fm"/>
  <import module="ietf-inet-types">
    <prefix value="inet"/>
  </import>
  <import module="huawei-ifm">
    <prefix value="ifm"/>
  </import>
  <import module="huawei-snmp">
    <prefix value="snmp"/>
  </import>
  <import module="ietf-yang-types">
    <prefix value="yang"/>
  </import>
  <import module="huawei-extension">
    <prefix value="ext"/>
  </import>
  <organization>
    <text>Huawei Technologies Co., Ltd.</text>
  </organization>
  <contact>
    <text>Huawei Industrial Base
Bantian, Longgang
Shenzhen 518129
People's Republic of China
Website: http://www.huawei.com
Email: support@huawei.com</text>
  </contact>
  <description>
    <text>Fault management module.</text>
  </description>
  <revision date="2020-06-04">
    <description>
      <text>Add rpc and modity information of fm containers.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2020-01-20">
    <description>
      <text>Modity fm.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2019-12-10">
    <description>
      <text>Add host.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2019-10-26">
    <description>
      <text>Initial revision.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <typedef name="severity-level">
    <type name="enumeration">
      <enum name="critical">
        <value value="1"/>
        <description>
          <text>Critical alarm.</text>
        </description>
      </enum>
      <enum name="major">
        <value value="2"/>
        <description>
          <text>Major alarm.</text>
        </description>
      </enum>
      <enum name="minor">
        <value value="3"/>
        <description>
          <text>Minor alarm.</text>
        </description>
      </enum>
      <enum name="warning">
        <value value="4"/>
        <description>
          <text>Warning alarm.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>The type of severity level.</text>
    </description>
  </typedef>
  <typedef name="enable-flag">
    <type name="enumeration">
      <enum name="false">
        <value value="2"/>
        <description>
          <text>Disabled status.</text>
        </description>
      </enum>
      <enum name="true">
        <value value="1"/>
        <description>
          <text>Enabled status.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Enable or disable.</text>
    </description>
  </typedef>
  <typedef name="trap-status">
    <type name="enumeration">
      <enum name="on">
        <value value="1"/>
        <description>
          <text>Whether traps are enabled.</text>
        </description>
      </enum>
      <enum name="off">
        <value value="0"/>
        <description>
          <text>Whether traps are disabled.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>The type of trap status.</text>
    </description>
  </typedef>
  <typedef name="rootcause-indication">
    <type name="enumeration">
      <enum name="independent">
        <value value="3"/>
        <description>
          <text>Independent alarm.</text>
        </description>
      </enum>
      <enum name="root-cause">
        <value value="2"/>
        <description>
          <text>Root alarm.</text>
        </description>
      </enum>
      <enum name="non-root-cause">
        <value value="1"/>
        <description>
          <text>Correlative alarm.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>The type of root cause indication.</text>
    </description>
  </typedef>
  <typedef name="inverse-mode-type">
    <type name="enumeration">
      <enum name="forbid-reverse">
        <value value="0"/>
        <description>
          <text>Forbid reversion.</text>
        </description>
      </enum>
      <enum name="auto-resume">
        <value value="1"/>
        <description>
          <text>Automatic reversion resumption.</text>
        </description>
      </enum>
      <enum name="manual-resume">
        <value value="2"/>
        <description>
          <text>Manual reversion resumption.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>The type of inverse mode.</text>
    </description>
  </typedef>
  <typedef name="inverse-status">
    <type name="enumeration">
      <enum name="on">
        <value value="1"/>
        <description>
          <text>Inverse status is on.</text>
        </description>
      </enum>
      <enum name="off">
        <value value="0"/>
        <description>
          <text>Inverse status is off.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>The type of inverse status.</text>
    </description>
  </typedef>
  <typedef name="devm-mask-type">
    <type name="enumeration">
      <enum name="board">
        <value value="1"/>
        <description>
          <text>Mask type is board.</text>
        </description>
      </enum>
      <enum name="card">
        <value value="2"/>
        <description>
          <text>Mask type is card.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>The type of device.</text>
    </description>
  </typedef>
  <typedef name="addres-type">
    <type name="enumeration">
      <enum name="ipv4">
        <value value="1"/>
        <description>
          <text>The address type is IPv4.</text>
        </description>
      </enum>
      <enum name="ipv6">
        <value value="2"/>
        <description>
          <text>The address type is IPv6.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>The type of IP address.</text>
    </description>
  </typedef>
  <typedef name="global-trapstatus-type">
    <type name="enumeration">
      <enum name="disable">
        <value value="0"/>
        <description>
          <text>Trap status is disable.</text>
        </description>
      </enum>
      <enum name="enable">
        <value value="1"/>
        <description>
          <text>Trap status is enable.</text>
        </description>
      </enum>
      <enum name="default">
        <value value="2"/>
        <description>
          <text>Default value.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>The type of trap status.</text>
    </description>
  </typedef>
  <typedef name="host-enable-flag">
    <type name="enumeration">
      <enum name="false">
        <value value="2"/>
        <description>
          <text>Host status is off.</text>
        </description>
      </enum>
      <enum name="true">
        <value value="1"/>
        <description>
          <text>Host status is on.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>The type of trap status.</text>
    </description>
  </typedef>
  <typedef name="auxiliary-type">
    <type name="enumeration">
      <enum name="normal">
        <value value="1"/>
        <description>
          <text>Normal Alarm.</text>
        </description>
      </enum>
      <enum name="reversed">
        <value value="2"/>
        <description>
          <text>Reversed Alarm.</text>
        </description>
      </enum>
      <enum name="non-report">
        <value value="3"/>
        <description>
          <text>NonReport Alarm.</text>
        </description>
      </enum>
      <enum name="non-root">
        <value value="4"/>
        <description>
          <text>NonRoot Alarm.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>The type of auxiliary.</text>
    </description>
  </typedef>
  <typedef name="address-family-type">
    <type name="enumeration">
      <enum name="ipv4">
        <value value="1"/>
        <description>
          <text>The address type is IPv4.</text>
        </description>
      </enum>
      <enum name="ipv6">
        <value value="2"/>
        <description>
          <text>The address type is IPv6.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>The type of IP address.</text>
    </description>
  </typedef>
  <ext:task-name value="fault-mgr"/>
  <container name="fm">
    <description>
      <text>Fault management module.</text>
    </description>
    <container name="global">
      <description>
        <text>Configure the global parameters.</text>
      </description>
      <leaf name="correlation-enable">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable alarm correlation analysis.</text>
        </description>
      </leaf>
      <leaf name="inverse-mode">
        <type name="inverse-mode-type"/>
        <default value="forbid-reverse"/>
        <description>
          <text>Alarm reversion mode, which can be Forbid Reversion, Auto Resume, or Manual Resume.</text>
        </description>
      </leaf>
      <leaf name="history-record-mode">
        <type name="boolean"/>
        <default value="true"/>
        <description>
          <text>Enable/disable wrap historical alarm records.</text>
        </description>
      </leaf>
      <leaf name="trap-switch">
        <type name="global-trapstatus-type"/>
        <default value="default"/>
        <description>
          <text>Trap switch.</text>
        </description>
      </leaf>
      <leaf name="suppress-enable">
        <type name="boolean"/>
        <default value="true"/>
        <description>
          <text>Enable/disable alarm suppression.</text>
        </description>
      </leaf>
    </container>
    <container name="inverse-ports">
      <description>
        <text>List of alarm reversion ports.</text>
      </description>
      <list name="inverse-port">
        <key value="port-position"/>
        <description>
          <text>Configure the alarm reversion port.</text>
        </description>
        <leaf name="port-position">
          <type name="leafref">
            <path value="/ifm:ifm/ifm:interfaces/ifm:interface/ifm:name"/>
          </type>
          <must condition="((../../../global/inverse-mode='forbid-reverse' and ../state='off') or (../../../global/inverse-mode!='forbid-reverse') )"/>
          <description>
            <text>Name of a physical port.</text>
          </description>
        </leaf>
        <leaf name="state">
          <type name="inverse-status"/>
          <default value="off"/>
          <description>
            <text>Reversion status.</text>
          </description>
        </leaf>
      </list>
    </container>
    <container name="traps">
      <description>
        <text>List of the settings of the NMS host.</text>
      </description>
      <list name="trap">
        <ext:generated-by value="system"/>
        <key value="trap-name feature-name"/>
        <description>
          <text>Configure the trap.</text>
        </description>
        <ext:operation-exclude value="create"/>
        <leaf name="trap-name">
          <type name="string">
            <length value="1..63"/>
          </type>
          <description>
            <text>Name of a trap.</text>
          </description>
        </leaf>
        <leaf name="feature-name">
          <type name="string">
            <length value="1..32"/>
          </type>
          <description>
            <text>Module to which a trap belongs.</text>
          </description>
        </leaf>
        <leaf name="trap-cfg-status">
          <type name="trap-status"/>
          <ext:dynamic-default/>
          <description>
            <text>Configured trap enabling status.</text>
          </description>
        </leaf>
      </list>
    </container>
    <container name="alarms">
      <description>
        <text>List of alarm configuration query.</text>
      </description>
      <list name="alarm">
        <ext:generated-by value="system"/>
        <key value="alarm-name"/>
        <description>
          <text>Configure the alarm.</text>
        </description>
        <ext:operation-exclude value="create"/>
        <leaf name="alarm-name">
          <type name="string">
            <length value="1..63"/>
          </type>
          <description>
            <text>Name of an alarm, it is case sensitive.</text>
          </description>
        </leaf>
        <leaf name="level">
          <type name="severity-level"/>
          <description>
            <text>Severity of an alarm.</text>
          </description>
          <ext:support-filter value="true"/>
          <ext:dynamic-default/>
        </leaf>
        <leaf name="clear-suppress-time">
          <type name="uint32">
            <range value="0..600"/>
          </type>
          <units name="s"/>
          <description>
            <text>Suppression period after which an alarm is cleared.</text>
          </description>
          <ext:dynamic-default/>
        </leaf>
        <leaf name="cause-suppress-time">
          <type name="uint32">
            <range value="0..600"/>
          </type>
          <units name="s"/>
          <description>
            <text>Suppression period after which an alarm is generated.</text>
          </description>
          <ext:dynamic-default/>
        </leaf>
        <leaf name="module-name">
          <type name="string">
            <length value="1..31"/>
          </type>
          <config value="false"/>
          <description>
            <text>Module to which an alarm belongs.</text>
          </description>
          <ext:support-filter value="true"/>
        </leaf>
      </list>
    </container>
    <container name="alarm-masks">
      <description>
        <text>List of alarm mask configuration.</text>
      </description>
      <list name="alarm-mask">
        <key value="mask-name"/>
        <max-elements value="128"/>
        <description>
          <text>Configure the alarm mask.</text>
        </description>
        <leaf name="mask-name">
          <type name="string">
            <length value="1..31"/>
          </type>
          <description>
            <text>Name of an alarm mask.</text>
          </description>
        </leaf>
        <container name="mask-lists">
          <description>
            <text>List of alarm mask configuration.</text>
          </description>
          <list name="mask-list">
            <key value="alarm-id"/>
            <description>
              <text>Configure the alarm mask.</text>
            </description>
            <leaf name="alarm-id">
              <type name="uint32"/>
              <description>
                <text>Alarm id.</text>
              </description>
            </leaf>
            <leaf name="alarm-name">
              <type name="string">
                <length value="1..63"/>
              </type>
              <description>
                <text>Alarm name.</text>
              </description>
            </leaf>
            <leaf name="feature-id">
              <type name="uint32"/>
              <description>
                <text>Feature id.</text>
              </description>
            </leaf>
            <leaf name="feature-name">
              <type name="string">
                <length value="1..32"/>
              </type>
              <description>
                <text>Feature name.</text>
              </description>
            </leaf>
          </list>
        </container>
      </list>
    </container>
    <container name="suppress-infos">
      <description>
        <text>List of alarm suppress information.</text>
      </description>
      <list name="suppress-info">
        <key value="ipv4addr ipv6addr security-name vpn-instance-name"/>
        <description>
          <text>Configure alarm suppress information.</text>
        </description>
        <leaf name="ipv4addr">
          <type name="inet:ip-address-no-zone"/>
          <description>
            <text>IPv4 address.</text>
          </description>
        </leaf>
        <leaf name="ipv6addr">
          <type name="inet:ip-address-no-zone"/>
          <description>
            <text>IPv6 address.</text>
          </description>
        </leaf>
        <leaf name="security-name">
          <type name="string">
            <length value="1..169"/>
          </type>
          <description>
            <text>Security name.</text>
          </description>
        </leaf>
        <leaf name="vpn-instance-name">
          <type name="string">
            <length value="1..32"/>
          </type>
          <description>
            <text>Vpn name.</text>
          </description>
        </leaf>
      </list>
    </container>
    <container name="active-alarms">
      <config value="false"/>
      <description>
        <text>List of active alarms.</text>
      </description>
      <list name="active-alarm">
        <key value="sequence"/>
        <config value="false"/>
        <description>
          <text>Statistics of information about an active alarm.</text>
        </description>
        <leaf name="sequence">
          <type name="uint32"/>
          <config value="false"/>
          <description>
            <text>Sequence number of an active alarm.</text>
          </description>
        </leaf>
        <leaf name="alarm-name">
          <ext:support-filter value="true"/>
          <type name="leafref">
            <path value="../../../alarms/alarm/alarm-name"/>
          </type>
          <config value="false"/>
          <description>
            <text>Name of an active alarm.</text>
          </description>
        </leaf>
        <leaf name="alarm-id">
          <type name="uint32"/>
          <config value="false"/>
          <description>
            <text>ID of an active alarm.</text>
          </description>
        </leaf>
        <leaf name="level">
          <type name="severity-level"/>
          <config value="false"/>
          <description>
            <text>Severity of an active alarm.</text>
          </description>
          <ext:support-filter value="true"/>
        </leaf>
        <leaf name="generated-time">
          <type name="yang:date-and-time"/>
          <config value="false"/>
          <description>
            <text>Time when an active alarm is generated.</text>
          </description>
        </leaf>
        <leaf name="rootkind-flag">
          <type name="rootcause-indication"/>
          <config value="false"/>
          <description>
            <text>Flag indicating a root or correlative alarm.</text>
          </description>
          <ext:support-filter value="true"/>
        </leaf>
        <leaf name="rootalarm-sequence">
          <type name="uint32"/>
          <config value="false"/>
          <description>
            <text>Sequence number of a root alarm.</text>
          </description>
        </leaf>
        <leaf name="vsname">
          <type name="string">
            <length value="1..32"/>
          </type>
          <config value="false"/>
          <description>
            <text>Name of the source VS where an active alarm resides.</text>
          </description>
          <ext:support-filter value="true"/>
        </leaf>
      </list>
    </container>
    <container name="history-alarms">
      <config value="false"/>
      <description>
        <text>List of historical alarms.</text>
      </description>
      <list name="history-alarm">
        <key value="alarm-sequence"/>
        <config value="false"/>
        <description>
          <text>Statistics of information about a historical alarm.</text>
        </description>
        <leaf name="alarm-sequence">
          <type name="uint32"/>
          <config value="false"/>
          <description>
            <text>Sequence number of a historical alarm.</text>
          </description>
        </leaf>
        <leaf name="alarm-name">
          <ext:support-filter value="true"/>
          <type name="leafref">
            <path value="../../../alarms/alarm/alarm-name"/>
          </type>
          <config value="false"/>
          <description>
            <text>Name of a historical alarm.</text>
          </description>
        </leaf>
        <leaf name="alarm-id">
          <type name="uint32"/>
          <config value="false"/>
          <description>
            <text>ID of a historical alarm.</text>
          </description>
        </leaf>
        <leaf name="level">
          <type name="severity-level"/>
          <config value="false"/>
          <description>
            <text>Severity of a historical alarm.</text>
          </description>
          <ext:support-filter value="true"/>
        </leaf>
        <leaf name="generated-time">
          <type name="yang:date-and-time"/>
          <config value="false"/>
          <description>
            <text>Time when a historical alarm is generated.</text>
          </description>
        </leaf>
        <leaf name="cleared-time">
          <type name="yang:date-and-time"/>
          <config value="false"/>
          <description>
            <text>Time when a historical alarm is cleared.</text>
          </description>
        </leaf>
        <leaf name="reason">
          <type name="uint32"/>
          <config value="false"/>
          <description>
            <text>Reason ID of a historical alarm.</text>
          </description>
        </leaf>
        <leaf name="vsname">
          <type name="string">
            <length value="1..32"/>
          </type>
          <config value="false"/>
          <description>
            <text>Name of the source VS where a historical alarm resides.</text>
          </description>
          <ext:support-filter value="true"/>
        </leaf>
      </list>
    </container>
  </container>
  <rpc name="clear-all-history-alarm">
    <description>
      <text>Clear all historical alarms.</text>
    </description>
  </rpc>
  <rpc name="clear-history-alarm">
    <description>
      <text>Clear historical alarms by sequence.</text>
    </description>
    <input>
      <leaf name="alarm-sequence">
        <type name="uint32">
          <range value="1..4294967295"/>
        </type>
        <mandatory value="true"/>
        <description>
          <text>Sequence number of a historical alarm.</text>
        </description>
      </leaf>
    </input>
  </rpc>
  <rpc name="clear-all-active-alarm">
    <description>
      <text>Clear all active alarms.</text>
    </description>
  </rpc>
  <rpc name="clear-active-alarm">
    <description>
      <text>Clear active alarms by sequence.</text>
    </description>
    <input>
      <leaf name="alarm-sequence">
        <type name="uint32">
          <range value="1..4294967295"/>
        </type>
        <mandatory value="true"/>
        <description>
          <text>Sequence number of an active alarm.</text>
        </description>
      </leaf>
    </input>
  </rpc>
  <rpc name="reset-all-alarm-statistic">
    <description>
      <text>Clear all alarm statistics.</text>
    </description>
  </rpc>
  <augment target-node="/snmp:snmp/snmp:target-hosts/snmp:target-host">
    <description>
      <text>The NMS host for configuration.</text>
    </description>
    <container name="host-alarm">
      <description>
        <text>Configure of the NMS host.</text>
      </description>
      <leaf name="enable-alarm">
        <type name="host-enable-flag"/>
        <default value="true"/>
        <description>
          <text>Report alarms to a host.</text>
        </description>
      </leaf>
    </container>
  </augment>
</module>
