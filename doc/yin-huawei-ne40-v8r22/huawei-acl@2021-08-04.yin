<?xml version="1.0" encoding="UTF-8"?>
<module name="huawei-acl"
        xmlns="urn:ietf:params:xml:ns:yang:yin:1"
        xmlns:acl="urn:huawei:yang:huawei-acl"
        xmlns:ni="urn:huawei:yang:huawei-network-instance"
        xmlns:ifm="urn:huawei:yang:huawei-ifm"
        xmlns:l3vpn="urn:huawei:yang:huawei-l3vpn"
        xmlns:pub-type="urn:huawei:yang:huawei-pub-type"
        xmlns:timerange="urn:huawei:yang:huawei-time-range"
        xmlns:inet="urn:ietf:params:xml:ns:yang:ietf-inet-types"
        xmlns:ext="urn:huawei:yang:huawei-extension">
  <namespace uri="urn:huawei:yang:huawei-acl"/>
  <prefix value="acl"/>
  <import module="huawei-network-instance">
    <prefix value="ni"/>
  </import>
  <import module="huawei-ifm">
    <prefix value="ifm"/>
  </import>
  <import module="huawei-l3vpn">
    <prefix value="l3vpn"/>
  </import>
  <import module="huawei-pub-type">
    <prefix value="pub-type"/>
  </import>
  <import module="huawei-time-range">
    <prefix value="timerange"/>
  </import>
  <import module="ietf-inet-types">
    <prefix value="inet"/>
  </import>
  <import module="huawei-extension">
    <prefix value="ext"/>
  </import>
  <organization>
    <text>Huawei Technologies Co., Ltd.</text>
  </organization>
  <contact>
    <text>Huawei Industrial Base
Bantian, Longgang
Shenzhen 518129
People's Republic of China
Website: http://www.huawei.com
Email: support@huawei.com</text>
  </contact>
  <description>
    <text>Access Control List (ACL). An ACL is used to identify and select data packets through packet attributes. For example, applying an ACL in the firewall can either permit or discard data packets. Applying an ACL in IPsec can encrypt data packets that match ACL rules and forward those that do not match any ACL rule.</text>
  </description>
  <revision date="2021-08-04">
    <description>
      <text>Modify revision.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2019-06-23">
    <description>
      <text>Initial revision.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <ext:task-name value="acl"/>
  <typedef name="match-order">
    <type name="enumeration">
      <enum name="config">
        <value value="0"/>
        <description>
          <text>Rules in a rule group are matched in the order they are configured.</text>
        </description>
      </enum>
      <enum name="auto">
        <value value="1"/>
        <description>
          <text>Rules in a rule group are automatically matched based on the depth-first principle.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Matching order.</text>
    </description>
  </typedef>
  <typedef name="rule-action">
    <type name="enumeration">
      <enum name="permit">
        <value value="0"/>
        <description>
          <text>Permit packets.</text>
        </description>
      </enum>
      <enum name="deny">
        <value value="1"/>
        <description>
          <text>Deny packets.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Matching mode of basic ACL rules. The available options are permit and deny.</text>
    </description>
  </typedef>
  <typedef name="fragment-type">
    <type name="enumeration">
      <enum name="fragment-subseq">
        <value value="0"/>
        <description>
          <text>Non-first fragment in fragmentation.
Flag of checking the non-first fragment in fragmentation.</text>
        </description>
      </enum>
      <enum name="fragment">
        <value value="1"/>
        <description>
          <text>Non-first fragmented packet.
Flag of checking the non-first fragmented packets.</text>
        </description>
      </enum>
      <enum name="non-fragment">
        <value value="2"/>
        <description>
          <text>Non-fragmented packet.
Flag of checking the non-fragment packets.</text>
        </description>
      </enum>
      <enum name="non-subseq">
        <value value="3"/>
        <description>
          <text>First fragment or non-fragment packets.
Flag of checking the first fragment or non-fragment packets.</text>
        </description>
      </enum>
      <enum name="fragment-spe-first">
        <value value="4"/>
        <description>
          <text>First fragment of a packet.
Flag of checking the first fragment of the fragmented packets.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Type of packet fragmentation.</text>
    </description>
  </typedef>
  <typedef name="fragment-ipv6-type">
    <type name="enumeration">
      <enum name="fragment">
        <value value="1"/>
        <description>
          <text>IPv6 non-first fragmented packet.
Flag of checking the non-first fragmented packets.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Type of packet fragmentation.</text>
    </description>
  </typedef>
  <typedef name="range-type">
    <type name="enumeration">
      <enum name="neq">
        <value value="4"/>
        <description>
          <text>Not equal to the given port number.</text>
        </description>
      </enum>
      <enum name="range">
        <value value="5"/>
        <description>
          <text>Between two port numbers.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Range type.</text>
    </description>
  </typedef>
  <typedef name="acl6-identity">
    <type name="string">
      <length value="1..64"/>
      <pattern value="([1-3]\d{3})|([6-9]\d{3})|([0-9a-zA-Z]([^\s]*))"/>
    </type>
    <description>
      <text>ACL6-identity is begin with a-z or A-Z or 0-9.</text>
    </description>
  </typedef>
  <typedef name="offset-begin">
    <type name="enumeration">
      <enum name="l2-head">
        <value value="1"/>
        <description>
          <text>Layer 2 header.</text>
        </description>
      </enum>
      <enum name="ipv4-head">
        <value value="2"/>
        <description>
          <text>IPv4 header.</text>
        </description>
      </enum>
      <enum name="l4-head">
        <value value="3"/>
        <description>
          <text>Layer 4 header.</text>
        </description>
      </enum>
      <enum name="inner-ipv4-head">
        <value value="5"/>
        <description>
          <text>Inner IPv4 header.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Position of the start offset.</text>
    </description>
  </typedef>
  <typedef name="encap-type">
    <type name="enumeration">
      <enum name="ether-ii">
        <value value="1"/>
        <description>
          <text>Ethernet-II encapsulation.</text>
        </description>
      </enum>
      <enum name="802.3">
        <value value="2"/>
        <description>
          <text>802.3 encapsulation.</text>
        </description>
      </enum>
      <enum name="snap">
        <value value="3"/>
        <description>
          <text>SNAP encapsulation.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Encapsulation type.</text>
    </description>
  </typedef>
  <typedef name="group4-type">
    <type name="enumeration">
      <enum name="interface">
        <value value="0"/>
        <description>
          <text>Interface ACL.</text>
        </description>
      </enum>
      <enum name="link">
        <value value="1"/>
        <description>
          <text>Link ACL.</text>
        </description>
      </enum>
      <enum name="basic">
        <value value="2"/>
        <description>
          <text>Basic ACL.</text>
        </description>
      </enum>
      <enum name="advance">
        <value value="3"/>
        <description>
          <text>Advanced ACL.</text>
        </description>
      </enum>
      <enum name="mpls">
        <value value="7"/>
        <description>
          <text>MPLS ACL.</text>
        </description>
      </enum>
      <enum name="user">
        <value value="8"/>
        <description>
          <text>User ACL.</text>
        </description>
      </enum>
      <enum name="ARP">
        <value value="9"/>
        <description>
          <text>ARP ACL.</text>
        </description>
      </enum>
      <enum name="UCL">
        <value value="10"/>
        <description>
          <text>UCL.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Type of a rule group.</text>
    </description>
  </typedef>
  <typedef name="group6-type">
    <type name="enumeration">
      <enum name="basic">
        <value value="4"/>
        <description>
          <text>Basic ACL.</text>
        </description>
      </enum>
      <enum name="advance">
        <value value="5"/>
        <description>
          <text>Advanced ACL.</text>
        </description>
      </enum>
      <enum name="interface">
        <value value="6"/>
        <description>
          <text>Interface ACL.</text>
        </description>
      </enum>
      <enum name="UCL">
        <value value="11"/>
        <description>
          <text>UCL.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Type of a rule group.</text>
    </description>
  </typedef>
  <typedef name="ttl-range-type">
    <type name="enumeration">
      <enum name="lt">
        <value value="1"/>
        <description>
          <text>Less than the given number.</text>
        </description>
      </enum>
      <enum name="eq">
        <value value="2"/>
        <description>
          <text>Equal to the given number.</text>
        </description>
      </enum>
      <enum name="gt">
        <value value="3"/>
        <description>
          <text>Greater than the given number.</text>
        </description>
      </enum>
      <enum name="range">
        <value value="5"/>
        <description>
          <text>Between two numbers.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>TTL range type.</text>
    </description>
  </typedef>
  <typedef name="packet-mode">
    <type name="enumeration">
      <enum name="request">
        <value value="0"/>
        <description>
          <text>Specify ARP request packet.</text>
        </description>
      </enum>
      <enum name="reply">
        <value value="1"/>
        <description>
          <text>Specify ARP reply packet.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Packet type of ARP packet, request or reply.</text>
    </description>
  </typedef>
  <typedef name="tcp-flag-name">
    <type name="enumeration">
      <enum name="fin">
        <value value="1"/>
        <description>
          <text>FIN.</text>
        </description>
      </enum>
      <enum name="syn">
        <value value="2"/>
        <description>
          <text>SYN.</text>
        </description>
      </enum>
      <enum name="rst">
        <value value="4"/>
        <description>
          <text>RST.</text>
        </description>
      </enum>
      <enum name="psh">
        <value value="8"/>
        <description>
          <text>PSH.</text>
        </description>
      </enum>
      <enum name="ack">
        <value value="16"/>
        <description>
          <text>ACK.</text>
        </description>
      </enum>
      <enum name="urg">
        <value value="32"/>
        <description>
          <text>URG.</text>
        </description>
      </enum>
      <enum name="ece">
        <value value="64"/>
        <description>
          <text>ECE.</text>
        </description>
      </enum>
      <enum name="cwr">
        <value value="128"/>
        <description>
          <text>CWR.</text>
        </description>
      </enum>
      <enum name="ns">
        <value value="256"/>
        <description>
          <text>NS.</text>
        </description>
      </enum>
      <enum name="established">
        <value value="512"/>
        <description>
          <text>Established.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>TCP flag name.</text>
    </description>
  </typedef>
  <typedef name="vpn-type">
    <type name="enumeration">
      <enum name="all">
        <value value="0"/>
        <description>
          <text>ALL VPN instances.</text>
        </description>
      </enum>
      <enum name="all-private">
        <value value="1"/>
        <description>
          <text>All private VPN instances.</text>
        </description>
      </enum>
      <enum name="single">
        <value value="2"/>
        <description>
          <text>Single VPN instance.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>VPN type.</text>
    </description>
  </typedef>
  <typedef name="acl4-identity">
    <type name="string">
      <length value="1..64"/>
      <pattern value="([1-9]\d{3})|(10[0-9]{3})|(23[0-9]{3})|(99999)|([0-9a-zA-Z]([^\s]*))"/>
    </type>
    <description>
      <text>ACL4-identity is begin with a-z or A-Z or 0-9.</text>
    </description>
  </typedef>
  <container name="acl">
    <description>
      <text>Specify ACL configuration information. An ACL is used to identify and select data packets through packet attributes. For example, applying an ACL in the firewall can either permit or discard data packets. Applying an ACL in IPsec can encrypt data packets that match ACL rules and forward those that do not match any ACL rule.</text>
    </description>
    <container name="groups">
      <description>
        <text>List of all ACL rule groups.</text>
      </description>
      <list name="group">
        <key value="identity"/>
        <description>
          <text>Configure ACL rule group, which is a collection of rules. Other features can use the ACL control by referring to the ACL rule group name.</text>
        </description>
        <leaf name="identity">
          <type name="acl4-identity"/>
          <description>
            <text>ACL number or name. An ACL number ranges from 1000 to 10999 or 23000 to 23999. An ACL name must start with a letter or a digital, spaces not supported, and can not be a number. The number of an interface-based ACL ranges from 1000 to 1999. The number of a basic ACL ranges from 2000 to 2999. The number of an advanced ACL ranges from 3000 to 3999, and an advanced ACL can start with a letter. The number of an Ethernet frame header-based ACL ranges from 4000 to 4999. The number of a user-defined ACL ranges from 5000 to 5999. The number of an UCL ranges from 6000 to 9999. The number of an MPLS-based ACL ranges from 10000 to 10999. The number of an ARP-based ACL ranges from 23000 to 23999.</text>
          </description>
        </leaf>
        <leaf name="type">
          <type name="group4-type"/>
          <mandatory value="true"/>
          <description>
            <text>ACL type. When identity is a number, this value can not be merged. If number ranges from 1000 to 1999, the type value is interface. If number ranges from 2000 to 2999, the type value is basic. If number ranges from 3000 to 3999, the type value is advance. If number ranges from 4000 to 4999, the type value is link. If number ranges from 5000 to 5999, the type value is user. If number ranges from 6000 to 9999, the type value is UCL. If number ranges from 10000 to 10999, the type value is MPLS. If number ranges from 23000 to 23999, the type value is ARP.</text>
          </description>
          <ext:support-filter value="true"/>
        </leaf>
        <leaf name="match-order">
          <ext:operation-exclude value="update|delete">
            <when condition="../rule-basics or ../rule-advances or ../rule-ethernets or ../rule-interfaces or ../rule-mplss or ../rule-ucls"/>
            <description>
              <text>The 'match-order' cannot be updated, when rule exists.</text>
            </description>
          </ext:operation-exclude>
          <type name="match-order"/>
          <must condition="not (../match-order='auto' and ../type='mpls')"/>
          <default value="config"/>
          <description>
            <text>Matching order of ACL rules. ACL rules can be matched in depth first or configuration order. When an ACL rule exists, this value can not be changed.</text>
          </description>
          <ext:support-filter value="true"/>
        </leaf>
        <leaf name="step">
          <type name="uint32">
            <range value="1..20"/>
          </type>
          <default value="5"/>
          <description>
            <text>ACL step. The value can not be changed.</text>
          </description>
          <ext:operation-exclude value="update|delete">
            <description>
              <text>The value can not be changed.</text>
            </description>
          </ext:operation-exclude>
        </leaf>
        <leaf name="description">
          <type name="string">
            <length value="1..127"/>
            <pattern value="[^\?\s](([^\?\s]*)|[^\t\?]*[^\?\s])"/>
          </type>
          <description>
            <text>ACL description. The value cannot begin or end with a space.</text>
          </description>
        </leaf>
        <leaf name="number">
          <ext:operation-exclude value="update|delete">
            <description>
              <text>The 'number' cannot be updated or deleted.</text>
            </description>
          </ext:operation-exclude>
          <type name="uint32">
            <range value="1000..23999"/>
          </type>
          <description>
            <text>ACL number. The number value can be configured only when the value of identity starts with a-z or A-Z. The number value cannot be modified or deleted. After a numberd ACL is configured, it is not allowed to create a named ACL and then specify the same number. If a named ACL is configured and the number value is specified, the numbered ACL cannot be configured. If a named ACL is created but the number value is not specified, no number value can be specified for the named ACL.</text>
          </description>
        </leaf>
        <container name="rule-basics">
          <when condition="(../type = 'basic')"/>
          <description>
            <text>List of basic ACL rules. The basic ACL rule group where these rules reside is of the numeric type or name type. For the basic ACL rule group of the numeric type, the value ranges from 2000 to 2999.</text>
          </description>
          <list name="rule-basic">
            <key value="name"/>
            <unique tag="id"/>
            <description>
              <text>Configure basic ACL rule, used to permit or deny packets. Other features can use these rules through a rule group to match source IP addresses. When you create or modify a rule, ensure that parameters such as the action and source-ipaddr specified in the ACL rule are different from those specified in an existing ACL rule.</text>
            </description>
            <leaf name="name">
              <type name="string">
                <length value="1..32"/>
                <pattern value="[^_\s][^\s]*"/>
              </type>
              <description>
                <text>Name of a basic ACL rule. The rule name can be a number or character string without spaces, but cannot start with an underscore (_).</text>
              </description>
            </leaf>
            <leaf name="id">
              <when condition="../../../match-order = 'config'"/>
              <type name="uint32">
                <range value="0..4294967294"/>
              </type>
              <mandatory value="true"/>
              <description>
                <text>ID of a basic ACL rule in configuration mode.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="action">
              <type name="rule-action"/>
              <mandatory value="true"/>
              <description>
                <text>Matching mode of basic ACL rules. The available options are permit and deny.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="ias-priority">
              <type name="uint8">
                <range value="0..9"/>
              </type>
              <default value="0"/>
              <description>
                <text>Priority of a basic ACL rule in configuration mode.</text>
              </description>
            </leaf>
            <leaf name="active-status">
              <type name="pub-type:row-status"/>
              <default value="active"/>
              <config value="false"/>
              <description>
                <text>Whether a rule is valid at the current time.</text>
              </description>
            </leaf>
            <leaf name="source-ipaddr">
              <type name="inet:ipv4-address-no-zone"/>
              <must condition="(../source-ipaddr and ../source-wild) or (not (../source-ipaddr) and not (../source-wild))"/>
              <description>
                <text>Source IP address. The value must equal to the AND calculation result of source-ipaddr and source-wild.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="source-wild">
              <type name="inet:ipv4-address-no-zone"/>
              <must condition="(../source-ipaddr and ../source-wild) or (not (../source-ipaddr) and not (../source-wild))"/>
              <description>
                <text>Wildcard mask of a source IP address.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="fragment-type">
              <type name="fragment-type"/>
              <description>
                <text>Type of packet fragmentation.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <choice name="vpn">
              <default value="vpn-instance"/>
              <description>
                <text>VPN instance of rule.</text>
              </description>
              <case name="vpn-instance">
                <description>
                  <text>Specify one VPN instance.</text>
                </description>
                <leaf name="vpn-name">
                  <type name="leafref">
                    <path value="/ni:network-instance/ni:instances/ni:instance/ni:name"/>
                  </type>
                  <must condition="/ni:network-instance/ni:instances/ni:instance[ni:name=current()]/l3vpn:afs/l3vpn:af[l3vpn:type='ipv4-unicast']"/>
                  <default value="_public_"/>
                  <description>
                    <text>VPN instance name. Data packets can be filtered based on VPN instance names.</text>
                  </description>
                  <ext:support-filter value="true"/>
                </leaf>
              </case>
              <case name="vpn-any">
                <description>
                  <text>Specify any VPN instance.</text>
                </description>
                <leaf name="vpn-any">
                  <type name="empty"/>
                  <description>
                    <text>Any VPN Instance.</text>
                  </description>
                </leaf>
              </case>
            </choice>
            <leaf name="time-range-name">
              <type name="leafref">
                <path value="/timerange:time-range/timerange:time-range-instances/timerange:time-range-instance/timerange:name"/>
              </type>
              <description>
                <text>Name of a time range in which an ACL rule takes effect. The value is a string of 1 to 32 characters and must start with an uppercase or lowercase letter.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="description">
              <type name="string">
                <length value="1..127"/>
                <pattern value="[^\?\s](([^\?\s]*)|[^\t\?]*[^\?\s])"/>
              </type>
              <description>
                <text>Description about an ACL rule. The value cannot begin or end with a space.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <container name="match-statistics">
              <config value="false"/>
              <description>
                <text>Operational state of basic ACL rules are matched.</text>
              </description>
              <leaf name="match-count">
                <type name="uint64"/>
                <description>
                  <text>Number of times when a basic ACL rule is matched.</text>
                </description>
              </leaf>
            </container>
            <leaf name="priority">
              <type name="uint32">
                <range value="0..4294967294"/>
              </type>
              <config value="false"/>
              <description>
                <text>Priority of a basic ACL rule in configuration mode.</text>
              </description>
            </leaf>
          </list>
        </container>
        <container name="rule-advances">
          <when condition="(../type = 'advance')"/>
          <description>
            <text>List of advanced ACL rules. The advanced ACL rule group where these rules reside is of the numeric type or name type. For the advanced ACL rule group of the numeric type, the value ranges from 3000 to 3999.</text>
          </description>
          <list name="rule-advance">
            <key value="name"/>
            <unique tag="id"/>
            <description>
              <text>Configure advanced ACL rule, used to permit or deny packets. Other features can use the ACL control by referring to the rule group. When you create or modify a rule, ensure that parameters such as the action and source-ipaddr specified in the ACL rule are different from those specified in an existing ACL rule.</text>
            </description>
            <leaf name="name">
              <type name="string">
                <length value="1..32"/>
                <pattern value="[^_\s][^\s]*"/>
              </type>
              <description>
                <text>Name of an advanced ACL rule. The rule name can be a number or character string without spaces, but cannot start with an underscore (_).</text>
              </description>
            </leaf>
            <leaf name="id">
              <when condition="../../../match-order = 'config'"/>
              <type name="uint32">
                <range value="0..4294967294"/>
              </type>
              <mandatory value="true"/>
              <description>
                <text>ID of an advanced ACL rule in configuration mode.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="action">
              <type name="rule-action"/>
              <mandatory value="true"/>
              <description>
                <text>Matching mode of advanced ACL rules. The available options are permit and deny.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="ias-priority">
              <type name="uint8">
                <range value="0..9"/>
              </type>
              <default value="0"/>
              <description>
                <text>Priority of a advance ACL rule in configuration mode.</text>
              </description>
            </leaf>
            <leaf name="active-status">
              <type name="pub-type:row-status"/>
              <default value="active"/>
              <config value="false"/>
              <description>
                <text>Whether a rule is valid at the current time.</text>
              </description>
            </leaf>
            <choice name="protocol-type">
              <mandatory value="true"/>
              <description>
                <text>Protocol type value.</text>
              </description>
              <case name="single">
                <description>
                  <text>Specify the specific protocol.</text>
                </description>
                <leaf name="protocol">
                  <type name="uint8">
                    <ext:value-meaning>
                      <ext:item value="0">
                        <ext:meaning value="IP"/>
                      </ext:item>
                      <ext:item value="1">
                        <ext:meaning value="ICMP"/>
                      </ext:item>
                      <ext:item value="2">
                        <ext:meaning value="IGMP"/>
                      </ext:item>
                      <ext:item value="4">
                        <ext:meaning value="IPINIP"/>
                      </ext:item>
                      <ext:item value="6">
                        <ext:meaning value="TCP"/>
                      </ext:item>
                      <ext:item value="17">
                        <ext:meaning value="UDP"/>
                      </ext:item>
                      <ext:item value="47">
                        <ext:meaning value="GRE"/>
                      </ext:item>
                      <ext:item value="89">
                        <ext:meaning value="OSPF"/>
                      </ext:item>
                    </ext:value-meaning>
                  </type>
                  <description>
                    <text>Protocol type value (0: any IPv4 protocol; 1: ICMP; 2: IGMP; 4: IPINIP; 6: TCP; 17: UDP; 47: GRE; 89: OSPF).</text>
                  </description>
                  <ext:support-filter value="true"/>
                </leaf>
              </case>
              <case name="zero">
                <description>
                  <text>Match zero protocol packet.</text>
                </description>
                <leaf name="protocol-zero">
                  <type name="empty"/>
                  <description>
                    <text>Match zero protocol packet.</text>
                  </description>
                </leaf>
              </case>
            </choice>
            <choice name="source">
              <description>
                <text>Specify source parameters.</text>
              </description>
              <case name="ip">
                <description>
                  <text>Source IP and mask.</text>
                </description>
                <leaf name="source-ipaddr">
                  <type name="inet:ipv4-address-no-zone"/>
                  <must condition="(../source-ipaddr and ../source-wild) or (not (../source-ipaddr) and not (../source-wild))"/>
                  <description>
                    <text>Source IP address. The value must equal to the AND calculation result of source-ipaddr and source-wild.</text>
                  </description>
                  <ext:support-filter value="true"/>
                </leaf>
                <leaf name="source-wild">
                  <type name="inet:ipv4-address-no-zone"/>
                  <must condition="(../source-ipaddr and ../source-wild) or (not (../source-ipaddr) and not (../source-wild))"/>
                  <description>
                    <text>Wildcard mask of the source IP address.</text>
                  </description>
                  <ext:support-filter value="true"/>
                </leaf>
              </case>
              <case name="ip-pool">
                <description>
                  <text>Source IP pool.</text>
                </description>
                <leaf name="source-pool-name">
                  <type name="leafref">
                    <path value="../../../../../ip-pools/ip-pool/name"/>
                  </type>
                  <description>
                    <text>Name of a source pool.</text>
                  </description>
                </leaf>
              </case>
            </choice>
            <choice name="dest">
              <description>
                <text>Specify destination parameters.</text>
              </description>
              <case name="ip">
                <description>
                  <text>Destination IP and mask.</text>
                </description>
                <leaf name="dest-ipaddr">
                  <type name="inet:ipv4-address-no-zone"/>
                  <must condition="(../dest-ipaddr and ../dest-wild) or (not (../dest-ipaddr) and not (../dest-wild))"/>
                  <description>
                    <text>Destination IP address. The value must equal to the and calculation result of dest ipaddr and dest wild.</text>
                  </description>
                  <ext:support-filter value="true"/>
                </leaf>
                <leaf name="dest-wild">
                  <type name="inet:ipv4-address-no-zone"/>
                  <must condition="(../dest-ipaddr and ../dest-wild) or (not (../dest-ipaddr) and not (../dest-wild))"/>
                  <description>
                    <text>Wildcard mask of a destination IP address.</text>
                  </description>
                  <ext:support-filter value="true"/>
                </leaf>
              </case>
              <case name="ip-pool">
                <description>
                  <text>Destination IP pool.</text>
                </description>
                <leaf name="dest-pool-name">
                  <type name="leafref">
                    <path value="../../../../../ip-pools/ip-pool/name"/>
                  </type>
                  <description>
                    <text>Name of a destination pool.</text>
                  </description>
                </leaf>
              </case>
            </choice>
            <choice name="packets-priority">
              <description>
                <text>Specify packets priority.</text>
              </description>
              <case name="tos">
                <description>
                  <text>Specify packets priority.</text>
                </description>
                <leaf name="precedence">
                  <type name="uint8">
                    <range value="0..7"/>
                  </type>
                  <description>
                    <text>Data packets can be filtered based on the priority field.</text>
                  </description>
                </leaf>
                <leaf name="tos">
                  <type name="uint8">
                    <range value="0..15"/>
                  </type>
                  <description>
                    <text>Tos value on which data packet filtering is based.</text>
                  </description>
                </leaf>
              </case>
              <case name="dscp">
                <description>
                  <text>Differentiated services code point.</text>
                </description>
                <leaf name="dscp">
                  <type name="uint8">
                    <range value="0..63"/>
                  </type>
                  <description>
                    <text>Differentiated services code point.</text>
                  </description>
                </leaf>
              </case>
            </choice>
            <choice name="vpn">
              <default value="vpn-instance"/>
              <description>
                <text>VPN instance of rule.</text>
              </description>
              <case name="vpn-instance">
                <description>
                  <text>Specify one VPN instance.</text>
                </description>
                <leaf name="vpn-name">
                  <type name="leafref">
                    <path value="/ni:network-instance/ni:instances/ni:instance/ni:name"/>
                  </type>
                  <must condition="/ni:network-instance/ni:instances/ni:instance[ni:name=current()]/l3vpn:afs/l3vpn:af[l3vpn:type='ipv4-unicast']"/>
                  <default value="_public_"/>
                  <description>
                    <text>VPN instance name. Data packets can be filtered based on VPN instance names.</text>
                  </description>
                  <ext:support-filter value="true"/>
                </leaf>
              </case>
              <case name="vpn-any">
                <description>
                  <text>Specify any VPN instance.</text>
                </description>
                <leaf name="vpn-any">
                  <type name="empty"/>
                  <description>
                    <text>Any VPN instance.</text>
                  </description>
                </leaf>
              </case>
            </choice>
            <choice name="tcp-flag">
              <description>
                <text>Specify TCP-flag.</text>
              </description>
              <case name="mask">
                <description>
                  <text>Specify TCP-flag and mask.</text>
                </description>
                <leaf name="tcp-flag-value">
                  <when condition="../protocol=6"/>
                  <type name="uint8">
                    <range value="0..63"/>
                  </type>
                  <mandatory value="true"/>
                  <description>
                    <text>TCP header flag.</text>
                  </description>
                </leaf>
                <leaf name="tcp-flag-mask">
                  <when condition="../protocol=6"/>
                  <type name="uint16">
                    <range value="0..63"/>
                  </type>
                  <default value="63"/>
                  <description>
                    <text>Mask of TCP header flag.</text>
                  </description>
                </leaf>
              </case>
              <case name="established">
                <description>
                  <text>Specify established.</text>
                </description>
                <leaf name="established">
                  <when condition="../protocol=6"/>
                  <type name="empty"/>
                  <description>
                    <text>Match established connections.</text>
                  </description>
                </leaf>
              </case>
            </choice>
            <choice name="source-port">
              <description>
                <text>Specify source port.</text>
              </description>
              <case name="range">
                <description>
                  <text>Specify source port number range.</text>
                </description>
                <leaf name="source-port-begin">
                  <when condition="../protocol=17 or ../protocol=6"/>
                  <type name="uint16">
                    <range value="0..65535"/>
                  </type>
                  <must condition="((../source-port-begin and ../source-port-end) and (../source-port-begin&lt;=../source-port-end) and not(../source-port-begin=0 and ../source-port-end=65535)) or (not (../source-port-begin) and not (../source-port-end))"/>
                  <must condition="(not (../fragment-type) or (../fragment-type!='fragment' and ../fragment-type!='fragment-subseq'))"/>
                  <description>
                    <text>Start port number of the source port.</text>
                  </description>
                </leaf>
                <leaf name="source-port-end">
                  <when condition="../protocol=17 or ../protocol=6"/>
                  <type name="uint16">
                    <range value="0..65535"/>
                  </type>
                  <must condition="((../source-port-begin and ../source-port-end) and (../source-port-begin&lt;=../source-port-end) and not(../source-port-begin=0 and ../source-port-end=65535)) or (not (../source-port-begin) and not (../source-port-end))"/>
                  <must condition="(not (../fragment-type) or (../fragment-type!='fragment' and ../fragment-type!='fragment-subseq'))"/>
                  <description>
                    <text>End port number of the source port.</text>
                  </description>
                </leaf>
              </case>
              <case name="not-equal">
                <description>
                  <text>Specify source port number by not equal.</text>
                </description>
                <leaf name="source-port-value">
                  <when condition="../protocol=17 or ../protocol=6"/>
                  <type name="uint16">
                    <range value="0..65535"/>
                  </type>
                  <description>
                    <text>Port number of the source port.</text>
                  </description>
                </leaf>
              </case>
            </choice>
            <choice name="dest-port">
              <description>
                <text>Specify destination port.</text>
              </description>
              <case name="range">
                <description>
                  <text>Specify destination port number range.</text>
                </description>
                <leaf name="dest-port-begin">
                  <when condition="../protocol=17 or ../protocol=6"/>
                  <type name="uint16">
                    <range value="0..65535"/>
                  </type>
                  <must condition="((../dest-port-begin and ../dest-port-end) and (../dest-port-begin&lt;=../dest-port-end) and not(../dest-port-begin=0 and ../dest-port-end=65535)) or (not (../dest-port-begin) and  not (../dest-port-end))"/>
                  <must condition="(not (../fragment-type) or (../fragment-type!='fragment' and ../fragment-type!='fragment-subseq'))"/>
                  <description>
                    <text>Start port number of the destination port.</text>
                  </description>
                </leaf>
                <leaf name="dest-port-end">
                  <when condition="../protocol=17 or ../protocol=6"/>
                  <type name="uint16">
                    <range value="0..65535"/>
                  </type>
                  <must condition="((../dest-port-begin and ../dest-port-end) and (../dest-port-begin&lt;=../dest-port-end) and not(../dest-port-begin=0 and ../dest-port-end=65535)) or (not (../dest-port-begin) and  not (../dest-port-end))"/>
                  <must condition="(not (../fragment-type) or (../fragment-type!='fragment' and ../fragment-type!='fragment-subseq'))"/>
                  <description>
                    <text>End port number of the destination port.</text>
                  </description>
                </leaf>
              </case>
              <case name="not-equal">
                <description>
                  <text>Specify destination port number by not equal.</text>
                </description>
                <leaf name="dest-port-value">
                  <when condition="../protocol=17 or ../protocol=6"/>
                  <type name="uint16">
                    <range value="0..65535"/>
                  </type>
                  <description>
                    <text>Port number of the dest port.</text>
                  </description>
                </leaf>
              </case>
            </choice>
            <choice name="ttl">
              <description>
                <text>Specify TTL value.</text>
              </description>
              <case name="range">
                <description>
                  <text>Specify TTL value range.</text>
                </description>
                <leaf name="ttl-begin">
                  <type name="uint8">
                    <range value="1..255"/>
                  </type>
                  <must condition="((../ttl-begin&lt;=../ttl-end) and not(../ttl-begin=1 and ../ttl-end=255))"/>
                  <mandatory value="true"/>
                  <description>
                    <text>Start TTL value.</text>
                  </description>
                </leaf>
                <leaf name="ttl-end">
                  <type name="uint8">
                    <range value="1..255"/>
                  </type>
                  <must condition="((../ttl-begin&lt;=../ttl-end) and not(../ttl-begin=1 and ../ttl-end=255))"/>
                  <mandatory value="true"/>
                  <description>
                    <text>End TTL value.</text>
                  </description>
                </leaf>
              </case>
              <case name="not-equal">
                <description>
                  <text>Specify TTL value by not equal.</text>
                </description>
                <leaf name="ttl-value">
                  <type name="uint8">
                    <range value="1..255"/>
                  </type>
                  <description>
                    <text>TTL value.</text>
                  </description>
                </leaf>
              </case>
            </choice>
            <leaf name="description">
              <type name="string">
                <length value="1..127"/>
                <pattern value="[^\?\s](([^\?\s]*)|[^\t\?]*[^\?\s])"/>
              </type>
              <description>
                <text>Description about an ACL rule. The value cannot begin or end with a space.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="fragment-type">
              <type name="fragment-type"/>
              <must condition="(../fragment-type!='fragment' and ../fragment-type!='fragment-subseq') or ((../fragment-type='fragment' or ../fragment-type='fragment-subseq') and (not(../dest-port-begin) and not(../source-port-begin) and not(../dest-port-end) and not(../source-port-end)))"/>
              <description>
                <text>Type of packet fragmentation.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <choice name="packet-length">
              <description>
                <text>Specify packet length value range.</text>
              </description>
              <case name="range">
                <description>
                  <text>Specify packet length value range.</text>
                </description>
                <leaf name="packet-len-begin">
                  <type name="uint16">
                    <range value="0..65535"/>
                  </type>
                  <must condition="((../packet-len-begin and ../packet-len-end) and (../packet-len-begin&lt;=../packet-len-end) and not(../packet-len-begin=0 and ../packet-len-end=65535)) or (not (../packet-len-begin) and not (../packet-len-end))"/>
                  <description>
                    <text>Start packet length value.</text>
                  </description>
                </leaf>
                <leaf name="packet-len-end">
                  <type name="uint16">
                    <range value="0..65535"/>
                  </type>
                  <must condition="((../packet-len-begin and ../packet-len-end) and (../packet-len-begin&lt;=../packet-len-end) and not(../packet-len-begin=0 and ../packet-len-end=65535)) or (not (../packet-len-begin) and not (../packet-len-end))"/>
                  <description>
                    <text>End packet length value.</text>
                  </description>
                </leaf>
              </case>
              <case name="not-equal">
                <description>
                  <text>Specify packet length value by not equal.</text>
                </description>
                <leaf name="packet-len-value">
                  <type name="uint16">
                    <range value="0..65535"/>
                  </type>
                  <description>
                    <text>Packet length value.</text>
                  </description>
                </leaf>
              </case>
            </choice>
            <leaf name="icmp-type">
              <when condition="../protocol=1"/>
              <type name="uint16">
                <range value="0..255"/>
              </type>
              <description>
                <text>ICMP type. This parameter is available only when the packet protocol is ICMP. If this parameter is not set, packets of all ICMP types are matched.</text>
              </description>
            </leaf>
            <leaf name="icmp-type-end">
              <when condition="../protocol=1 and ../icmp-type"/>
              <type name="uint16">
                <range value="1..255"/>
              </type>
              <must condition="../icmp-type&lt;../icmp-type-end"/>
              <description>
                <text>ICMP type end. This parameter is available only when the packet protocol is ICMP. If this parameter is not set, it indicates that the packets of all ICMP types can match.</text>
              </description>
            </leaf>
            <leaf name="icmp-code">
              <when condition="../protocol=1 and ../icmp-type"/>
              <type name="uint16">
                <range value="0..255"/>
              </type>
              <description>
                <text>ICMP message code. Data packets can be filtered based on the ICMP message code. Some well known ICMP-names: address-mask-reply type=18, code=0; address-mask-request type=17, code=0; echo type=8, code=0; echo-reply type=0, code=0; fragmentneed-dfset type=3, code=4; host-redirect type=5, code=1; host-tos-redirect type=5, code=3; host-unreachable type=3, code=1; information-reply type=16, code=0; information-request type=15, code=0; net-redirect type=5, code=0; net-tos-redirect type=5, code=2; net-unreachable type=3, code=0; parameter-problem type=12, code=0; port-unreachable type=3, code=3; protocol-unreachable type=3, code=2; reassembly-timeout type=11, code=1; source-quench type=4, code=0; source-route-failed type=3, code=5; timestamp-reply type=14, code=0; timestamp-request type=13, code=0; ttl-exceeded type=11, code=0.</text>
              </description>
            </leaf>
            <leaf name="vni">
              <when condition="../protocol=17"/>
              <type name="uint32">
                <range value="1..16777215"/>
              </type>
              <description>
                <text>VXLAN ID.</text>
              </description>
            </leaf>
            <leaf name="priority">
              <type name="uint32">
                <range value="0..4294967294"/>
              </type>
              <config value="false"/>
              <description>
                <text>Priority of an advanced ACL rule in configuration mode.</text>
              </description>
            </leaf>
            <leaf name="time-range-name">
              <type name="leafref">
                <path value="/timerange:time-range/timerange:time-range-instances/timerange:time-range-instance/timerange:name"/>
              </type>
              <description>
                <text>Name of a time range in which an ACL rule takes effect. The value is a string of 1 to 32 characters and must start with an uppercase or lowercase letter.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="log-enable">
              <type name="boolean"/>
              <default value="false"/>
              <description>
                <text>Enable/disable logging matched data packets.</text>
              </description>
            </leaf>
            <container name="match-statistics">
              <config value="false"/>
              <description>
                <text>Operational state of advanced ACL rules are matched.</text>
              </description>
              <leaf name="match-count">
                <type name="uint64"/>
                <config value="false"/>
                <description>
                  <text>Number of times when an advance ACL rule is matched.</text>
                </description>
              </leaf>
            </container>
          </list>
        </container>
        <container name="rule-ethernets">
          <when condition="(../type = 'link')"/>
          <description>
            <text>List of Ethernet frame header-based ACL rules. The ACL rule group where these rules reside is of the numeric type or name type. For the Ethernet frame header-based ACL rule group of the numeric type, the value ranges from 4000 to 4999.</text>
          </description>
          <list name="rule-ethernet">
            <key value="name"/>
            <unique tag="id"/>
            <description>
              <text>Configure Ethernet frame header-based ACL rule, used to permit or deny packets. Other features can use these rules through a rule group to match source IP addresses. When you create or modify a rule, ensure that parameters such as the action and frame-type specified in the ACL rule are different from those specified in an existing ACL rule.</text>
            </description>
            <leaf name="name">
              <type name="string">
                <length value="1..32"/>
                <pattern value="[^_\s][^\s]*"/>
              </type>
              <description>
                <text>Name of an Ethernet frame header-based ACL rule. The rule name can be a number or character string without spaces, but cannot start with an underscore (_).</text>
              </description>
            </leaf>
            <leaf name="id">
              <when condition="../../../match-order = 'config'"/>
              <type name="uint32">
                <range value="0..4294967294"/>
              </type>
              <mandatory value="true"/>
              <description>
                <text>ID of an Ethernet frame header-based ACL rule in configuration mode.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="action">
              <type name="rule-action"/>
              <mandatory value="true"/>
              <description>
                <text>Matching mode of Ethernet frame header-based ACL rules. The available options are permit and deny.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="ias-priority">
              <type name="uint8">
                <range value="0..9"/>
              </type>
              <default value="0"/>
              <description>
                <text>Priority of a Ethernet ACL rule in configuration mode.</text>
              </description>
            </leaf>
            <leaf name="active-status">
              <type name="pub-type:row-status"/>
              <default value="active"/>
              <config value="false"/>
              <description>
                <text>Whether a rule is valid at the current time.</text>
              </description>
            </leaf>
            <leaf name="frame-type">
              <type name="string">
                <length value="3..6"/>
                <pattern value="0[xX][a-fA-F0-9]{1,4}"/>
              </type>
              <description>
                <text>Type of layer 2 Ethernet frame header protocols. The value must equal to the and calculation result of frame-type and frame-mask.</text>
              </description>
            </leaf>
            <leaf name="frame-mask">
              <when condition="../frame-type"/>
              <type name="string">
                <length value="3..6"/>
                <pattern value="0[xX][a-fA-F0-9]{1,4}"/>
              </type>
              <default value="0xffff"/>
              <description>
                <text>Mask of the layer 2 Ethernet frame header protocols.</text>
              </description>
            </leaf>
            <leaf name="source-mac">
              <type name="pub-type:mac-address"/>
              <description>
                <text>Source MAC address of an Ethernet frame. The value must equal to the and calculation result of source-mac and source-mac-mask.</text>
              </description>
            </leaf>
            <leaf name="source-mac-mask">
              <when condition="../source-mac"/>
              <type name="pub-type:mac-address"/>
              <default value="ffff-ffff-ffff"/>
              <description>
                <text>Source MAC address of an Ethernet frame.</text>
              </description>
            </leaf>
            <leaf name="dest-mac">
              <type name="pub-type:mac-address"/>
              <description>
                <text>Destination MAC address of an Ethernet frame. The value must equal to the and calculation result of dest-mac and dest-mac-mask.</text>
              </description>
            </leaf>
            <leaf name="dest-mac-mask">
              <when condition="../dest-mac"/>
              <type name="pub-type:mac-address"/>
              <default value="ffff-ffff-ffff"/>
              <description>
                <text>Destination MAC address mask of an Ethernet frame.</text>
              </description>
            </leaf>
            <leaf name="vlan-id">
              <type name="uint16">
                <range value="1..4094"/>
              </type>
              <description>
                <text>VLAN ID.</text>
              </description>
            </leaf>
            <leaf name="ce-vlan-id">
              <type name="uint16">
                <range value="1..4094"/>
              </type>
              <description>
                <text>CE-VLAN ID.</text>
              </description>
            </leaf>
            <leaf name="value-8021p">
              <type name="uint8">
                <range value="0..7"/>
              </type>
              <description>
                <text>Priority of 802.1p.</text>
              </description>
            </leaf>
            <leaf name="ce-vlan-value-8021p">
              <type name="uint8">
                <range value="0..7"/>
              </type>
              <description>
                <text>802.1p priority in the CE-VLAN tag.</text>
              </description>
            </leaf>
            <leaf name="time-range-name">
              <type name="leafref">
                <path value="/timerange:time-range/timerange:time-range-instances/timerange:time-range-instance/timerange:name"/>
              </type>
              <description>
                <text>Name of a time range in which an ACL rule takes effect. The value is a string of 1 to 32 characters and must start with an uppercase or lowercase letter.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="description">
              <type name="string">
                <length value="1..127"/>
                <pattern value="[^\?\s](([^\?\s]*)|[^\t\?]*[^\?\s])"/>
              </type>
              <description>
                <text>Description about an ACL rule. The value cannot begin or end with a space.</text>
              </description>
            </leaf>
            <leaf name="priority">
              <type name="uint32">
                <range value="0..4294967294"/>
              </type>
              <config value="false"/>
              <description>
                <text>Priority of an Ethernet frame header-based ACL rule in configuration mode.</text>
              </description>
            </leaf>
            <container name="match-statistics">
              <config value="false"/>
              <description>
                <text>Operational state of times Ethernet frame header-based ACL rules are matched.</text>
              </description>
              <leaf name="match-count">
                <type name="uint64"/>
                <config value="false"/>
                <description>
                  <text>Number of times when an user ACL rule is matched.</text>
                </description>
              </leaf>
            </container>
          </list>
        </container>
        <container name="rule-interfaces">
          <when condition="(../type = 'interface')"/>
          <description>
            <text>List of interface-based ACL rules. The ACL rule group where these rules reside is of the numeric type or name type. For the interface-based ACL rule group of the numeric type, the value ranges from 1000 to 1999.</text>
          </description>
          <list name="rule-interface">
            <key value="name"/>
            <unique tag="id"/>
            <description>
              <text>Configure interface-based ACL rule, used to permit or deny packets. Other features can use the ACL control by referring to the rule group.</text>
            </description>
            <leaf name="name">
              <type name="string">
                <length value="1..32"/>
                <pattern value="[^_\s][^\s]*"/>
              </type>
              <description>
                <text>Name of an interface-based ACL rule. The rule name can be a number or character string without spaces, but cannot start with an underscore (_).</text>
              </description>
            </leaf>
            <leaf name="id">
              <when condition="../../../match-order = 'config'"/>
              <type name="uint32">
                <range value="0..4294967294"/>
              </type>
              <mandatory value="true"/>
              <description>
                <text>ID of an interface-based ACL rule in configuration mode.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="action">
              <type name="rule-action"/>
              <mandatory value="true"/>
              <description>
                <text>Matching mode of interface-based ACL rules. The available options are permit and deny.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <choice name="interface">
              <mandatory value="true"/>
              <description>
                <text>Specify interface parameter.</text>
              </description>
              <case name="interface-any">
                <description>
                  <text>Specify interface any.</text>
                </description>
                <leaf name="if-any">
                  <type name="empty"/>
                  <description>
                    <text>Any interface.</text>
                  </description>
                </leaf>
              </case>
              <case name="interface-name">
                <description>
                  <text>Specify interface name.</text>
                </description>
                <leaf name="if-name">
                  <type name="leafref">
                    <path value="/ifm:ifm/ifm:interfaces/ifm:interface/ifm:name"/>
                  </type>
                  <description>
                    <text>Name of the interface into which the data packets come.</text>
                  </description>
                </leaf>
              </case>
            </choice>
            <leaf name="time-range-name">
              <type name="leafref">
                <path value="/timerange:time-range/timerange:time-range-instances/timerange:time-range-instance/timerange:name"/>
              </type>
              <description>
                <text>Name of a time range in which an ACL rule takes effect. The value is a string of 1 to 32 characters and must start with an uppercase or lowercase letter.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="active-status">
              <type name="pub-type:row-status"/>
              <default value="active"/>
              <config value="false"/>
              <description>
                <text>Whether a rule is valid at the current time.</text>
              </description>
            </leaf>
            <leaf name="description">
              <type name="string">
                <length value="1..127"/>
                <pattern value="[^\?\s](([^\?\s]*)|[^\t\?]*[^\?\s])"/>
              </type>
              <description>
                <text>Description about an ACL rule. The value cannot begin or end with a space.</text>
              </description>
            </leaf>
            <container name="match-statistics">
              <config value="false"/>
              <description>
                <text>Operational state of times interface-based ACL rules are matched.</text>
              </description>
              <leaf name="match-count">
                <type name="uint64"/>
                <config value="false"/>
                <description>
                  <text>Number of times when an user ACL rule is matched.</text>
                </description>
              </leaf>
            </container>
          </list>
        </container>
        <container name="rule-mplss">
          <when condition="(../type = 'mpls')"/>
          <description>
            <text>List of MPLS ACL rules. The MPLS ACL rule group where these rules reside is of the numeric type, with the value ranging from 10000 to 10999.</text>
          </description>
          <list name="rule-mpls">
            <key value="name"/>
            <unique tag="id"/>
            <description>
              <text>Configure MPLS ACL rule, used to permit or deny packets. Other features can use the ACL control by referring to the rule group. When you create or modify a rule, ensure that parameters such as the action and lables specified in the ACL rule are different from those specified in an existing ACL rule.</text>
            </description>
            <leaf name="name">
              <type name="string">
                <length value="1..32"/>
                <pattern value="[^_\s][^\s]*"/>
              </type>
              <description>
                <text>Name of a MPLS ACL rule. The rule name can be a number or character string without spaces, but cannot start with an underscore (_).</text>
              </description>
            </leaf>
            <leaf name="id">
              <when condition="../../../match-order = 'config'"/>
              <type name="uint32">
                <range value="0..4294967294"/>
              </type>
              <mandatory value="true"/>
              <description>
                <text>ID of an advanced ACL rule in configuration mode.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="action">
              <type name="rule-action"/>
              <mandatory value="true"/>
              <description>
                <text>Matching mode of advanced ACL rules. The available options are permit and deny.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="description">
              <type name="string">
                <length value="1..127"/>
                <pattern value="[^\?\s](([^\?\s]*)|[^\t\?]*[^\?\s])"/>
              </type>
              <description>
                <text>Description about an ACL rule. The value cannot begin or end with a space.</text>
              </description>
            </leaf>
            <leaf name="priority">
              <type name="uint32">
                <range value="0..4294967294"/>
              </type>
              <config value="false"/>
              <description>
                <text>Priority of an MPLS ACL rule in configuration mode.</text>
              </description>
            </leaf>
            <container name="lables">
              <description>
                <text>List of MPLS label configuration of rule.</text>
              </description>
              <list name="lable">
                <must condition="(./exp-value) or (./label-value) or (./ttl-begin and ./ttl-end)"/>
                <must condition="((./ttl-begin and ./ttl-end) and (./ttl-begin&lt;=./ttl-end) and not(./ttl-begin=0 and ./ttl-end=255)) or (not(./ttl-begin) and not(./ttl-end))"/>
                <key value="sequence"/>
                <description>
                  <text>Configure MPLS label configuration of rule.</text>
                </description>
                <leaf name="sequence">
                  <type name="uint8">
                    <range value="1..4"/>
                  </type>
                  <description>
                    <text>Sequence number.</text>
                  </description>
                </leaf>
                <leaf name="exp-value">
                  <type name="uint8">
                    <range value="0..7"/>
                  </type>
                  <description>
                    <text>EXP value.</text>
                  </description>
                </leaf>
                <leaf name="label-value">
                  <type name="uint32">
                    <range value="0..1048575"/>
                  </type>
                  <description>
                    <text>Label value.</text>
                  </description>
                </leaf>
                <leaf name="ttl-begin">
                  <when condition="../sequence != 4"/>
                  <type name="uint16">
                    <range value="0..255"/>
                  </type>
                  <description>
                    <text>Begin TTL value.</text>
                  </description>
                </leaf>
                <leaf name="ttl-end">
                  <when condition="../sequence != 4"/>
                  <type name="uint16">
                    <range value="0..255"/>
                  </type>
                  <description>
                    <text>End TTL value.</text>
                  </description>
                </leaf>
              </list>
            </container>
          </list>
        </container>
        <container name="rule-arps">
          <when condition="(../type = 'ARP')"/>
          <description>
            <text>List of ARP ACL rules. The ARP ACL rule group where these rules reside is of the numeric type, with the value ranging from 23000 to 23999.</text>
          </description>
          <list name="rule-arp">
            <must condition="(../../match-order='config')"/>
            <must condition="(./source-ipaddr and ./source-wild) or (not(./source-ipaddr) and not(./source-wild))"/>
            <must condition="(./dest-ipaddr and ./dest-wild) or (not(./dest-ipaddr) and not(./dest-wild))"/>
            <key value="name"/>
            <unique tag="id"/>
            <description>
              <text>Configure ARP ACL rule, used to permit or deny packets. Other features can use the ACL control by referring to the rule group.</text>
            </description>
            <leaf name="name">
              <type name="string">
                <length value="1..32"/>
                <pattern value="[^_\s][^\s]*"/>
              </type>
              <description>
                <text>Name of an ARP ACL rule. User can specify number or string without spaces, but start with _is not permitted.</text>
              </description>
            </leaf>
            <leaf name="id">
              <type name="uint32">
                <range value="0..4294967294"/>
              </type>
              <mandatory value="true"/>
              <description>
                <text>ID of an ARP ACL rule in configuration mode.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="action">
              <type name="rule-action"/>
              <mandatory value="true"/>
              <description>
                <text>Matching mode of interface-based ACL rules. The available options are permit and deny.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="time-range-name">
              <type name="leafref">
                <path value="/timerange:time-range/timerange:time-range-instances/timerange:time-range-instance/timerange:name"/>
              </type>
              <description>
                <text>Name of a period of time after which an ACL rule expires. The value is a string of 1 to 32 characters, starting with a lower- or upper-case English letter.</text>
              </description>
            </leaf>
            <leaf name="packet-mode">
              <type name="packet-mode"/>
              <default value="request"/>
              <description>
                <text>Packet type of ARP packet, request or reply.</text>
              </description>
            </leaf>
            <leaf name="source-ipaddr">
              <type name="inet:ipv4-address-no-zone"/>
              <description>
                <text>Source IP address.</text>
              </description>
            </leaf>
            <leaf name="source-wild">
              <type name="inet:ipv4-address-no-zone"/>
              <description>
                <text>Wildcard mask of the source IP address.</text>
              </description>
            </leaf>
            <leaf name="dest-ipaddr">
              <when condition="../packet-mode='reply'"/>
              <type name="inet:ipv4-address-no-zone"/>
              <description>
                <text>Destination IP address.</text>
              </description>
            </leaf>
            <leaf name="dest-wild">
              <when condition="../packet-mode='reply'"/>
              <type name="inet:ipv4-address-no-zone"/>
              <description>
                <text>Wildcard mask of the destination IP address.</text>
              </description>
            </leaf>
            <leaf name="source-mac">
              <type name="pub-type:mac-address"/>
              <description>
                <text>Source MAC address of the ARP packet. Input foramt sample:1-1-1,0001-0001-0001.</text>
              </description>
            </leaf>
            <leaf name="source-mac-mask">
              <when condition="../source-mac"/>
              <type name="pub-type:mac-address"/>
              <default value="ffff-ffff-ffff"/>
              <description>
                <text>Mask of the source MAC address. Input foramt sample:1-1-1,0001-0001-0001.</text>
              </description>
            </leaf>
            <leaf name="dest-mac">
              <type name="pub-type:mac-address"/>
              <must condition="../packet-mode='reply'"/>
              <description>
                <text>Destination MAC address of the ARP packet. Input foramt sample:1-1-1,0001-0001-0001.</text>
              </description>
            </leaf>
            <leaf name="dest-mac-mask">
              <when condition="../dest-mac"/>
              <type name="pub-type:mac-address"/>
              <default value="ffff-ffff-ffff"/>
              <description>
                <text>Mask of the destination MAC address. Input foramt sample:1-1-1,0001-0001-0001.</text>
              </description>
            </leaf>
            <leaf name="description">
              <type name="string">
                <length value="1..127"/>
                <pattern value="[^\?\s](([^\?\s]*)|[^\t\?]*[^\?\s])"/>
              </type>
              <description>
                <text>Description about an ACL rule. The value cannot begin or end with a space.</text>
              </description>
            </leaf>
            <leaf name="active-status">
              <type name="pub-type:row-status"/>
              <default value="active"/>
              <config value="false"/>
              <description>
                <text>Indicates whether a rule is valid at the current time.</text>
              </description>
            </leaf>
            <container name="match-statistics">
              <config value="false"/>
              <description>
                <text>Operational state of matching count of all user ACL rules.</text>
              </description>
              <leaf name="match-count">
                <type name="uint64"/>
                <config value="false"/>
                <description>
                  <text>Number of times when an user ACL rule is matched.</text>
                </description>
              </leaf>
            </container>
          </list>
        </container>
      </list>
    </container>
    <container name="group6s">
      <description>
        <text>List of ACL6 rule groups.</text>
      </description>
      <list name="group6">
        <key value="identity"/>
        <description>
          <text>Configure ACL6 rule group, which is a collection of multiple ACL6 rules. Other features can use the ACL6 control by referring to the ACL6 rule group name.</text>
        </description>
        <leaf name="identity">
          <type name="acl6-identity"/>
          <description>
            <text>ACL6 number or name. An ACL6 number ranges from 1000 to 3999. An ACL name must start with a letter or a digital, spaces not supported, and can not be a number. The number of an interface-based ACL6 ranges from 1000 to 1999. The number of a basic ACL6 ranges from 2000 to 2999. The number of an advanced ACL6 ranges from 3000 to 3999, and an advanced ACL can start with a letter.</text>
          </description>
        </leaf>
        <leaf name="type">
          <type name="group6-type"/>
          <mandatory value="true"/>
          <description>
            <text>ACL Type. When identity is a number, this value can not be merged. If number ranges from 1000 to 1999, the type value is interface, If number ranges from 2000 to 2999, the type value is basic, If number ranges from 3000 to 3999, the type value is advance.</text>
          </description>
          <ext:support-filter value="true"/>
        </leaf>
        <leaf name="match-order">
          <ext:operation-exclude value="update|delete">
            <when condition="../rule-basics or ../rule-advances or ../rule-ucls"/>
            <description>
              <text>The 'match-order' cannot be updated, when rule exists.</text>
            </description>
          </ext:operation-exclude>
          <type name="match-order"/>
          <default value="config"/>
          <description>
            <text>Matching order of an ACL6 rule. ACL rules can be matched in the order of depth or configuration. When an ACL rule exists, this value can not be changed.</text>
          </description>
          <ext:support-filter value="true"/>
        </leaf>
        <leaf name="step">
          <type name="uint32">
            <range value="1..20"/>
          </type>
          <default value="5"/>
          <description>
            <text>Step of an ACL6 rule. The value can not be changed.</text>
          </description>
          <ext:operation-exclude value="update|delete">
            <description>
              <text>The value can not be changed.</text>
            </description>
          </ext:operation-exclude>
        </leaf>
        <leaf name="description">
          <type name="string">
            <length value="1..127"/>
            <pattern value="[^\?\s](([^\?\s]*)|[^\t\?]*[^\?\s])"/>
          </type>
          <description>
            <text>Description about an ACL6 rule group. The value cannot begin or end with a space.</text>
          </description>
        </leaf>
        <container name="rule-basics">
          <when condition="(../type = 'basic')"/>
          <description>
            <text>List of basic ACL6 rules. The ACL6 rule group where these rules reside is of the numeric type or name type. For the basic ACL6 rule group of the numeric type, the value ranges from 2000 to 2999.</text>
          </description>
          <list name="rule-basic">
            <key value="name"/>
            <unique tag="id"/>
            <description>
              <text>Configure basic ACL6 rule, used to permit or deny packets. Other features can use the ACL control by referring to the rule group.</text>
            </description>
            <leaf name="name">
              <type name="string">
                <length value="1..32"/>
                <pattern value="[^_\s][^\s]*"/>
              </type>
              <description>
                <text>Name of an ACL6 rule. The rule name can be a number or character string without spaces, but cannot start with an underscore (_).</text>
              </description>
            </leaf>
            <leaf name="id">
              <when condition="../../../match-order = 'config'"/>
              <type name="uint32">
                <range value="0..4294967294"/>
              </type>
              <mandatory value="true"/>
              <description>
                <text>ID of an ACL6 rule in configuration mode.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="action">
              <type name="rule-action"/>
              <mandatory value="true"/>
              <description>
                <text>Matching mode of ACL6 rules. The available options are permit and deny.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="ias-priority">
              <type name="uint8">
                <range value="0..9"/>
              </type>
              <default value="0"/>
              <description>
                <text>Priority of a basic ACL rule in configuration mode.</text>
              </description>
            </leaf>
            <leaf name="active-status">
              <type name="pub-type:row-status"/>
              <default value="active"/>
              <config value="false"/>
              <description>
                <text>Whether a rule is valid at the current time.</text>
              </description>
            </leaf>
            <leaf name="source-ipaddr">
              <type name="inet:ipv6-address-no-zone"/>
              <description>
                <text>Source IPv6 address.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <choice name="source-ip-mask">
              <description>
                <text>Source mask.</text>
              </description>
              <case name="positive-mask-len">
                <description>
                  <text>Source IPv6 address mask.</text>
                </description>
                <leaf name="source-mask-len">
                  <type name="uint32">
                    <range value="1..128"/>
                  </type>
                  <must condition="../source-ipaddr and ../source-mask-len"/>
                  <description>
                    <text>Source IPv6 address mask.</text>
                  </description>
                </leaf>
              </case>
              <case name="negative-mask">
                <description>
                  <text>Wildcard mask of a source IPv6 address.</text>
                </description>
                <leaf name="source-wild">
                  <type name="inet:ipv6-address-no-zone"/>
                  <must condition="../source-ipaddr and ../source-wild"/>
                  <description>
                    <text>Wildcard mask of a source IPv6 address.</text>
                  </description>
                </leaf>
              </case>
            </choice>
            <leaf name="fragment-type">
              <type name="fragment-ipv6-type"/>
              <description>
                <text>Type of packet fragmentation.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <choice name="vpn">
              <default value="vpn-instance"/>
              <description>
                <text>VPN instance of rule.</text>
              </description>
              <case name="vpn-instance">
                <description>
                  <text>Specify one VPN instance.</text>
                </description>
                <leaf name="vpn-name">
                  <type name="leafref">
                    <path value="/ni:network-instance/ni:instances/ni:instance/ni:name"/>
                  </type>
                  <must condition="/ni:network-instance/ni:instances/ni:instance[ni:name=current()]/l3vpn:afs/l3vpn:af[l3vpn:type='ipv6-unicast']"/>
                  <default value="_public_"/>
                  <description>
                    <text>VPN instance name. Data packets can be filtered based on VPN instance names.</text>
                  </description>
                  <ext:support-filter value="true"/>
                </leaf>
              </case>
              <case name="vpn-any">
                <description>
                  <text>Specify any VPN instance.</text>
                </description>
                <leaf name="vpn-any">
                  <type name="empty"/>
                  <description>
                    <text>Any VPN Instance.</text>
                  </description>
                  <ext:support-filter value="true"/>
                </leaf>
              </case>
            </choice>
            <leaf name="time-range-name">
              <type name="leafref">
                <path value="/timerange:time-range/timerange:time-range-instances/timerange:time-range-instance/timerange:name"/>
              </type>
              <description>
                <text>Name of a time range in which an ACL rule takes effect. The value is a string of 1 to 32 characters and must start with an uppercase or lowercase letter.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="description">
              <type name="string">
                <length value="1..127"/>
                <pattern value="[^\?\s](([^\?\s]*)|[^\t\?]*[^\?\s])"/>
              </type>
              <description>
                <text>Description about an ACL rule. The value cannot begin or end with a space.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <container name="match-statistics">
              <config value="false"/>
              <description>
                <text>Operational state of times ACL6 rules are matched.</text>
              </description>
              <leaf name="match-count">
                <type name="uint64"/>
                <config value="false"/>
                <description>
                  <text>Information about the rule matched count.</text>
                </description>
              </leaf>
            </container>
          </list>
        </container>
        <container name="rule-advances">
          <when condition="(../type = 'advance')"/>
          <description>
            <text>List of advanced ACL6 rules. The ACL6 rule group where these rules reside is of the numeric type or name type. For the ACL6 rule group of the numeric type, the value ranges from 3000 to 3999.</text>
          </description>
          <list name="rule-advance">
            <key value="name"/>
            <unique tag="id"/>
            <description>
              <text>Configure advanced ACL6 rule, used to permit or deny packets. Other features can use the ACL control by referring to the rule group. When you create or modify a rule, ensure that parameters such as the action and source-ipaddr specified in the ACL rule are different from those specified in an existing ACL rule.</text>
            </description>
            <leaf name="name">
              <type name="string">
                <length value="1..32"/>
                <pattern value="[^_\s][^\s]*"/>
              </type>
              <description>
                <text>Name of an advanced ACL6 rule. The rule name can be a number or character string without spaces, but cannot start with an underscore (_).</text>
              </description>
            </leaf>
            <leaf name="id">
              <when condition="../../../match-order = 'config'"/>
              <type name="uint32">
                <range value="0..4294967294"/>
              </type>
              <mandatory value="true"/>
              <description>
                <text>ID of an advanced ACL6 rule in configuration mode.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="action">
              <type name="rule-action"/>
              <mandatory value="true"/>
              <description>
                <text>Matching mode of advanced ACL6 rules. The available options are permit and deny.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="ias-priority">
              <type name="uint8">
                <range value="0..9"/>
              </type>
              <default value="0"/>
              <description>
                <text>Priority of a advance ACL rule in configuration mode.</text>
              </description>
            </leaf>
            <choice name="protocol-type">
              <mandatory value="true"/>
              <description>
                <text>IPv6 Protocol value.</text>
              </description>
              <case name="single">
                <description>
                  <text>Specify the specific protocol.</text>
                </description>
                <leaf name="protocol">
                  <type name="uint8">
                    <ext:value-meaning>
                      <ext:item value="0">
                        <ext:meaning value="IPV6"/>
                      </ext:item>
                      <ext:item value="6">
                        <ext:meaning value="TCP"/>
                      </ext:item>
                      <ext:item value="17">
                        <ext:meaning value="UDP"/>
                      </ext:item>
                      <ext:item value="43">
                        <ext:meaning value="IPV6-ROUTING"/>
                      </ext:item>
                      <ext:item value="44">
                        <ext:meaning value="IPV6-FRAG"/>
                      </ext:item>
                      <ext:item value="47">
                        <ext:meaning value="GRE"/>
                      </ext:item>
                      <ext:item value="50">
                        <ext:meaning value="IPV6-ESP"/>
                      </ext:item>
                      <ext:item value="51">
                        <ext:meaning value="IPV6-AH"/>
                      </ext:item>
                      <ext:item value="58">
                        <ext:meaning value="ICMPV6"/>
                      </ext:item>
                      <ext:item value="60">
                        <ext:meaning value="IPV6-DESTINATION"/>
                      </ext:item>
                      <ext:item value="89">
                        <ext:meaning value="OSPF"/>
                      </ext:item>
                    </ext:value-meaning>
                  </type>
                  <description>
                    <text>Protocol type value (0: any IPv6 protocol; 6: TCP; 17: UDP; 43: IPv6-ROUTING; 44: IPv6-FRAG; 47: GRE; 50: IPv6-ESP; 51: IPv6-AH; 58: ICMPV6; 60: IPv6-DESTINATION; 89: OSPF).</text>
                  </description>
                  <ext:support-filter value="true"/>
                </leaf>
              </case>
              <case name="zero">
                <description>
                  <text>Match zero protocol packet.</text>
                </description>
                <leaf name="hoport">
                  <type name="empty"/>
                  <description>
                    <text>Match zero protocol packet.</text>
                  </description>
                </leaf>
              </case>
            </choice>
            <choice name="source">
              <description>
                <text>Specify source parameters.</text>
              </description>
              <case name="ip">
                <description>
                  <text>Source IP and mask.</text>
                </description>
                <leaf name="source-ipaddr">
                  <type name="inet:ipv6-address-no-zone"/>
                  <mandatory value="true"/>
                  <description>
                    <text>Source IPv6 address. The value must equal to the AND calculation result of source-ipaddr and source-mask-len.</text>
                  </description>
                </leaf>
                <choice name="source-ipaddr-mask">
                  <mandatory value="true"/>
                  <description>
                    <text>Source IP mask.</text>
                  </description>
                  <case name="positive-mask-len">
                    <description>
                      <text>Mask of the source IP address.</text>
                    </description>
                    <leaf name="source-mask-len">
                      <type name="uint32">
                        <range value="1..128"/>
                      </type>
                      <description>
                        <text>Mask of the source IP address.</text>
                      </description>
                    </leaf>
                  </case>
                  <case name="negative-mask">
                    <description>
                      <text>Wildcard mask of a source IPv6 address.</text>
                    </description>
                    <leaf name="source-wild">
                      <type name="inet:ipv6-address-no-zone"/>
                      <description>
                        <text>Wildcard mask of a source IPv6 address.</text>
                      </description>
                    </leaf>
                  </case>
                </choice>
              </case>
              <case name="ip-pool">
                <description>
                  <text>Source IP pool.</text>
                </description>
                <leaf name="source-pool6-name">
                  <type name="leafref">
                    <path value="../../../../../ip-pool6s/ip-pool6/name"/>
                  </type>
                  <description>
                    <text>Name of a source IPv6 pool.</text>
                  </description>
                  <ext:support-filter value="true"/>
                </leaf>
              </case>
            </choice>
            <choice name="dest">
              <description>
                <text>Destination parameters.</text>
              </description>
              <case name="ip">
                <description>
                  <text>Destination IPv6 address.</text>
                </description>
                <leaf name="dest-ipaddr">
                  <type name="inet:ipv6-address-no-zone"/>
                  <mandatory value="true"/>
                  <description>
                    <text>Destination IPv6 address. The value must equal to the and calculation result of dest-ipaddr and dest-mask-len.</text>
                  </description>
                </leaf>
                <choice name="dest-ipaddr-mask">
                  <mandatory value="true"/>
                  <description>
                    <text>Specify destination mask.</text>
                  </description>
                  <case name="positive-mask-len">
                    <description>
                      <text>Mask of the destination IP address.</text>
                    </description>
                    <leaf name="dest-mask-len">
                      <type name="uint32">
                        <range value="1..128"/>
                      </type>
                      <description>
                        <text>Mask of the destination IP address.</text>
                      </description>
                    </leaf>
                  </case>
                  <case name="negative-mask">
                    <description>
                      <text>Wildcard mask of a destination IPv6 address.</text>
                    </description>
                    <leaf name="dest-wild">
                      <type name="inet:ipv6-address-no-zone"/>
                      <description>
                        <text>Wildcard mask of a destination IPv6 address.</text>
                      </description>
                    </leaf>
                  </case>
                </choice>
              </case>
            </choice>
            <choice name="packets-priority">
              <description>
                <text>Specify packets priority.</text>
              </description>
              <case name="tos">
                <description>
                  <text>Specify packets priority.</text>
                </description>
                <leaf name="precedence">
                  <type name="uint8">
                    <range value="0..7"/>
                  </type>
                  <description>
                    <text>Data packets can be filtered based on the priority field.</text>
                  </description>
                </leaf>
                <leaf name="tos">
                  <type name="uint8">
                    <range value="0..15"/>
                  </type>
                  <description>
                    <text>ToS value on which data packet filtering is based.</text>
                  </description>
                </leaf>
              </case>
              <case name="dscp">
                <description>
                  <text>Differentiated services code point.</text>
                </description>
                <leaf name="dscp">
                  <type name="uint8">
                    <range value="0..63"/>
                  </type>
                  <description>
                    <text>Differentiated services code point.</text>
                  </description>
                </leaf>
              </case>
            </choice>
            <leaf name="icmp-type">
              <when condition="../protocol=58"/>
              <type name="uint16">
                <range value="0..255"/>
              </type>
              <description>
                <text>ICMP type. This parameter is available only when the packet protocol is ICMP. If this parameter is not set, packets of all ICMP types are matched.</text>
              </description>
            </leaf>
            <leaf name="icmp-type-end">
              <when condition="../protocol=58 and ../icmp-type"/>
              <type name="uint16">
                <range value="0..255"/>
              </type>
              <must condition="../icmp-type&lt;../icmp-type-end"/>
              <description>
                <text>ICMP type end. This parameter is available only when the packet protocol is ICMP. If this parameter is not set, it indicates that the packets of all ICMP types can match.</text>
              </description>
            </leaf>
            <leaf name="icmp-code">
              <when condition="../protocol=58 and ../icmp-type"/>
              <type name="uint16">
                <range value="0..255"/>
              </type>
              <description>
                <text>ICMP message code. Data packets can be filtered based on the ICMP message code.</text>
              </description>
            </leaf>
            <leaf name="proto-option-code">
              <when condition="../protocol=60 or ../hoport"/>
              <type name="uint8">
                <range value="0..255"/>
              </type>
              <description>
                <text>IPv6 protocol option code.</text>
              </description>
            </leaf>
            <leaf name="proto-routing-type">
              <when condition="../protocol=43"/>
              <type name="uint8">
                <range value="0..255"/>
              </type>
              <description>
                <text>IPv6 protocol routing type.</text>
              </description>
            </leaf>
            <choice name="vpn">
              <default value="vpn-instance"/>
              <description>
                <text>VPN instance of rule.</text>
              </description>
              <case name="vpn-instance">
                <description>
                  <text>Specify one VPN instance.</text>
                </description>
                <leaf name="vpn-name">
                  <type name="leafref">
                    <path value="/ni:network-instance/ni:instances/ni:instance/ni:name"/>
                  </type>
                  <must condition="/ni:network-instance/ni:instances/ni:instance[ni:name=current()]/l3vpn:afs/l3vpn:af[l3vpn:type='ipv6-unicast']"/>
                  <default value="_public_"/>
                  <description>
                    <text>VPN instance name. Data packets can be filtered based on VPN instance names.</text>
                  </description>
                  <ext:support-filter value="true"/>
                </leaf>
              </case>
              <case name="vpn-any">
                <description>
                  <text>Specify any VPN instance.</text>
                </description>
                <leaf name="vpn-any">
                  <type name="empty"/>
                  <description>
                    <text>Any VPN instance.</text>
                  </description>
                </leaf>
              </case>
            </choice>
            <choice name="tcp-flag">
              <description>
                <text>Specify TCP-flag.</text>
              </description>
              <case name="mask">
                <description>
                  <text>Specify tcp-flag and mask.</text>
                </description>
                <leaf name="tcp-flag-value">
                  <when condition="../protocol=6"/>
                  <type name="uint16">
                    <range value="0..63"/>
                  </type>
                  <description>
                    <text>TCP flag value.</text>
                  </description>
                </leaf>
                <leaf name="tcp-flag-mask">
                  <when condition="../protocol=6 and ../tcp-flag-value"/>
                  <type name="uint16">
                    <range value="0..63"/>
                  </type>
                  <default value="63"/>
                  <description>
                    <text>TCP flag mask value.</text>
                  </description>
                </leaf>
              </case>
              <case name="established">
                <description>
                  <text>Specify established.</text>
                </description>
                <leaf name="established">
                  <when condition="../protocol=6"/>
                  <type name="empty"/>
                  <description>
                    <text>Match established connections.</text>
                  </description>
                </leaf>
              </case>
            </choice>
            <choice name="source-port">
              <description>
                <text>Specify source port.</text>
              </description>
              <case name="range">
                <description>
                  <text>Specify source port.</text>
                </description>
                <leaf name="source-port-begin">
                  <when condition="../protocol=6 or ../protocol=17"/>
                  <type name="uint16">
                    <range value="0..65535"/>
                  </type>
                  <must condition="((../source-port-begin and ../source-port-end) and (../source-port-begin&lt;=../source-port-end) and not(../source-port-begin=0 and ../source-port-end=65535)) or (not (../source-port-begin) and  not (../source-port-end))"/>
                  <must condition="(not(../fragment-type))"/>
                  <description>
                    <text>Start port number of the source port.</text>
                  </description>
                </leaf>
                <leaf name="source-port-end">
                  <when condition="(../protocol=6 or ../protocol=17)"/>
                  <type name="uint16">
                    <range value="0..65535"/>
                  </type>
                  <must condition="((../source-port-begin and ../source-port-end) and (../source-port-begin&lt;=../source-port-end) and not(../source-port-begin=0 and ../source-port-end=65535)) or (not (../source-port-begin) and  not (../source-port-end))"/>
                  <must condition="(not(../fragment-type))"/>
                  <description>
                    <text>End port number of the source port.</text>
                  </description>
                </leaf>
              </case>
              <case name="not-equal">
                <description>
                  <text>Specify source port number by not equal.</text>
                </description>
                <leaf name="source-port-value">
                  <when condition="../protocol=6 or ../protocol=17"/>
                  <type name="uint16">
                    <range value="0..65535"/>
                  </type>
                  <description>
                    <text>Port number of the source port.</text>
                  </description>
                </leaf>
              </case>
            </choice>
            <choice name="dest-port">
              <description>
                <text>Specify destination port.</text>
              </description>
              <case name="range">
                <description>
                  <text>Specify destination port.</text>
                </description>
                <leaf name="dest-port-begin">
                  <when condition="../protocol=6 or ../protocol=17"/>
                  <type name="uint16">
                    <range value="0..65535"/>
                  </type>
                  <must condition="((../dest-port-begin and ../dest-port-end) and (../dest-port-begin&lt;=../dest-port-end) and not(../dest-port-begin=0 and ../dest-port-end=65535)) or (not (../dest-port-begin) and  not (../dest-port-end))"/>
                  <must condition="(not(../fragment-type))"/>
                  <description>
                    <text>Start port number of the destination port.</text>
                  </description>
                </leaf>
                <leaf name="dest-port-end">
                  <when condition="../protocol=6 or ../protocol=17"/>
                  <type name="uint16">
                    <range value="0..65535"/>
                  </type>
                  <must condition="((../dest-port-begin and ../dest-port-end) and (../dest-port-begin&lt;=../dest-port-end) and not(../dest-port-begin=0 and ../dest-port-end=65535)) or (not (../dest-port-begin) and  not (../dest-port-end))"/>
                  <must condition="(not(../fragment-type))"/>
                  <description>
                    <text>End port number of the destination port.</text>
                  </description>
                </leaf>
              </case>
              <case name="not-equal">
                <description>
                  <text>Specify destination port.</text>
                </description>
                <leaf name="dest-port-value">
                  <when condition="../protocol=6 or ../protocol=17"/>
                  <type name="uint16">
                    <range value="0..65535"/>
                  </type>
                  <description>
                    <text>Port number of the source port.</text>
                  </description>
                </leaf>
              </case>
            </choice>
            <leaf name="description">
              <type name="string">
                <length value="1..127"/>
                <pattern value="[^\?\s](([^\?\s]*)|[^\t\?]*[^\?\s])"/>
              </type>
              <description>
                <text>Description about an ACL rule. The value cannot begin or end with a space.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="fragment-type">
              <type name="fragment-ipv6-type"/>
              <must condition="(not(../dest-port-begin) and not(../dest-port-end) and not(../source-port-begin) and not(../source-port-end))"/>
              <description>
                <text>Type of packet fragmentation.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="priority">
              <type name="uint32">
                <range value="0..4294967294"/>
              </type>
              <config value="false"/>
              <description>
                <text>Priority of an advanced ACL rule in configuration mode.</text>
              </description>
            </leaf>
            <leaf name="time-range-name">
              <type name="leafref">
                <path value="/timerange:time-range/timerange:time-range-instances/timerange:time-range-instance/timerange:name"/>
              </type>
              <description>
                <text>Name of a time range in which an ACL rule takes effect. The value is a string of 1 to 32 characters and must start with an uppercase or lowercase letter.</text>
              </description>
            </leaf>
            <leaf name="log-enable">
              <type name="boolean"/>
              <default value="false"/>
              <description>
                <text>Enable/disable logging matched data packets.</text>
              </description>
            </leaf>
            <leaf name="active-status">
              <type name="pub-type:row-status"/>
              <default value="active"/>
              <config value="false"/>
              <description>
                <text>Whether a rule is valid at the current time.</text>
              </description>
            </leaf>
            <container name="match-statistics">
              <config value="false"/>
              <description>
                <text>Operational state of times rules are matched.</text>
              </description>
              <leaf name="match-count">
                <type name="uint64"/>
                <config value="false"/>
                <description>
                  <text>Information about the rule matched count.</text>
                </description>
              </leaf>
            </container>
          </list>
        </container>
        <container name="rule-interfaces">
          <when condition="(../type = 'interface')"/>
          <description>
            <text>List of interface-based ACL6 rules. The ACL6 rule group where these rules reside is of the numeric type, ranging from 1000 to 1999.</text>
          </description>
          <list name="rule-interface">
            <key value="name"/>
            <unique tag="id"/>
            <description>
              <text>Configure interface-based ACL6 rule, used to permit or deny packets. Other features can use the ACL control by referring to the rule group.</text>
            </description>
            <leaf name="name">
              <type name="string">
                <length value="1..32"/>
                <pattern value="[^_\s][^\s]*"/>
              </type>
              <description>
                <text>Name of an interface-based ACL6 rule. The rule name can be a number or character string without spaces, but cannot start with an underscore (_).</text>
              </description>
            </leaf>
            <leaf name="id">
              <when condition="../../../match-order = 'config'"/>
              <type name="uint32">
                <range value="0..4294967294"/>
              </type>
              <mandatory value="true"/>
              <description>
                <text>ID of an interface based ACL6 rule in configuration mode.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="action">
              <type name="rule-action"/>
              <mandatory value="true"/>
              <description>
                <text>Matching mode of interface-based ACL6 rules. The available options are permit and deny.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <choice name="interface">
              <mandatory value="true"/>
              <description>
                <text>Specify interface parameter.</text>
              </description>
              <case name="interface-any">
                <description>
                  <text>Specify interface any.</text>
                </description>
                <leaf name="if-any">
                  <type name="empty"/>
                  <description>
                    <text>Enable/disable any interface.</text>
                  </description>
                </leaf>
              </case>
              <case name="interface-name">
                <description>
                  <text>Specify interface name.</text>
                </description>
                <leaf name="if-name">
                  <type name="leafref">
                    <path value="/ifm:ifm/ifm:interfaces/ifm:interface/ifm:name"/>
                  </type>
                  <description>
                    <text>Name of the interface into which the data packets come.</text>
                  </description>
                </leaf>
              </case>
            </choice>
            <leaf name="active-status">
              <type name="pub-type:row-status"/>
              <default value="active"/>
              <config value="false"/>
              <description>
                <text>Whether a rule is valid at the current time.</text>
              </description>
            </leaf>
            <leaf name="time-range-name">
              <type name="leafref">
                <path value="/timerange:time-range/timerange:time-range-instances/timerange:time-range-instance/timerange:name"/>
              </type>
              <description>
                <text>Name of a time range in which an ACL rule takes effect. The value is a string of 1 to 32 characters and must start with an uppercase or lowercase letter.</text>
              </description>
              <ext:support-filter value="true"/>
            </leaf>
            <leaf name="description">
              <type name="string">
                <length value="1..127"/>
                <pattern value="[^\?\s](([^\?\s]*)|[^\t\?]*[^\?\s])"/>
              </type>
              <description>
                <text>Description about an ACL rule. The value cannot begin or end with a space.</text>
              </description>
            </leaf>
            <container name="match-statistics">
              <config value="false"/>
              <description>
                <text>Operational state of times interface-based ACL6 rules are matched.</text>
              </description>
              <leaf name="match-count">
                <type name="uint64"/>
                <config value="false"/>
                <description>
                  <text>Information about the rule matched count.</text>
                </description>
              </leaf>
            </container>
          </list>
        </container>
      </list>
    </container>
    <container name="ip-pools">
      <description>
        <text>List of all ACL pools.</text>
      </description>
      <list name="ip-pool">
        <key value="name"/>
        <max-elements value="256"/>
        <description>
          <text>Configure ACL pool, which is a collection of IP addresses.</text>
        </description>
        <leaf name="name">
          <type name="string">
            <length value="1..32"/>
          </type>
          <description>
            <text>Name of an ACL pool.</text>
          </description>
        </leaf>
        <leaf name="apply-bgp-ipv4-peer">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable all BGP IPv4 peers.</text>
          </description>
          <ext:support-filter value="true"/>
        </leaf>
        <leaf name="bgp-peer-vpn">
          <when condition="(../apply-bgp-ipv4-peer='true')"/>
          <type name="vpn-type"/>
          <default value="all"/>
          <description>
            <text>Apply BGP IPv4 peer VPN type.</text>
          </description>
          <ext:support-filter value="true"/>
        </leaf>
        <leaf name="bgp-peer-vpn-name">
          <when condition="(../bgp-peer-vpn='single')"/>
          <type name="leafref">
            <path value="/ni:network-instance/ni:instances/ni:instance/ni:name"/>
          </type>
          <must condition="../bgp-peer-vpn-name='_public_' or not(../../ip-pool[bgp-peer-vpn-name=current()])"/>
          <must condition="/ni:network-instance/ni:instances/ni:instance[ni:name=current()]/l3vpn:afs/l3vpn:af[l3vpn:type='ipv4-unicast']"/>
          <default value="_public_"/>
          <description>
            <text>Apply BGP IPv4 peer VPN name.</text>
          </description>
          <ext:support-filter value="true"/>
        </leaf>
        <container name="ipaddrs">
          <must condition="not(../apply-bgp-ipv4-peer) or (../apply-bgp-ipv4-peer='false')"/>
          <description>
            <text>List of all IP addresses for ACL pools.</text>
          </description>
          <list name="ipaddr">
            <key value="address mask"/>
            <description>
              <text>Configure IP addresses in a pool.</text>
            </description>
            <leaf name="address">
              <type name="inet:ipv4-address-no-zone"/>
              <description>
                <text>IP address.</text>
              </description>
            </leaf>
            <leaf name="mask">
              <type name="inet:ipv4-address-no-zone"/>
              <description>
                <text>IP address wildcard mask.</text>
              </description>
            </leaf>
          </list>
        </container>
      </list>
    </container>
    <container name="ip-pool6s">
      <description>
        <text>List of all ACL IPv6 pools.</text>
      </description>
      <list name="ip-pool6">
        <key value="name"/>
        <max-elements value="256"/>
        <description>
          <text>Configure ACL IPv6 pool, which is a collection of IPv6 addresses.</text>
        </description>
        <leaf name="name">
          <type name="string">
            <length value="1..32"/>
          </type>
          <description>
            <text>Name of an ACL IPv6 pool.</text>
          </description>
        </leaf>
        <leaf name="apply-bgp-ipv6-peer">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable all BGP IPv6 peers.</text>
          </description>
          <ext:support-filter value="true"/>
        </leaf>
        <leaf name="bgp-peer-vpn">
          <when condition="(../apply-bgp-ipv6-peer='true')"/>
          <type name="vpn-type"/>
          <default value="all"/>
          <description>
            <text>Apply BGP IPv6 peer VPN type.</text>
          </description>
          <ext:support-filter value="true"/>
        </leaf>
        <leaf name="bgp-peer-vpn-name">
          <when condition="(../bgp-peer-vpn='single')"/>
          <type name="leafref">
            <path value="/ni:network-instance/ni:instances/ni:instance/ni:name"/>
          </type>
          <must condition="../bgp-peer-vpn-name='_public_' or not(../../ip-pool6[bgp-peer-vpn-name=current()])"/>
          <must condition="/ni:network-instance/ni:instances/ni:instance[ni:name=current()]/l3vpn:afs/l3vpn:af[l3vpn:type='ipv6-unicast']"/>
          <default value="_public_"/>
          <description>
            <text>Apply BGP IPv6 peer VPN name.</text>
          </description>
          <ext:support-filter value="true"/>
        </leaf>
      </list>
    </container>
    <container name="port-pools">
      <description>
        <text>List of all ACL port pools.</text>
      </description>
      <list name="port-pool">
        <key value="name"/>
        <max-elements value="256"/>
        <description>
          <text>Configure ACL port pool, which is a collection of port number range.</text>
        </description>
        <leaf name="name">
          <type name="string">
            <length value="1..32"/>
          </type>
          <description>
            <text>Name of an ACL port pool.</text>
          </description>
        </leaf>
        <container name="ports">
          <description>
            <text>List of all port number range for ACL port pools.</text>
          </description>
          <list name="port">
            <must condition="(operation='range' and (number-begin&lt;=number-end)) or (operation='neq' and (number-begin=number-end))"/>
            <key value="operation number-begin number-end"/>
            <description>
              <text>Configure port number range in a pool.</text>
            </description>
            <leaf name="operation">
              <type name="range-type"/>
              <description>
                <text>Range type of the port.</text>
              </description>
            </leaf>
            <leaf name="number-begin">
              <type name="uint16">
                <range value="0..65535"/>
              </type>
              <description>
                <text>Begin number of the port.</text>
              </description>
            </leaf>
            <leaf name="number-end">
              <type name="uint16">
                <range value="0..65535"/>
              </type>
              <description>
                <text>End number of the port.</text>
              </description>
            </leaf>
          </list>
        </container>
      </list>
    </container>
  </container>
</module>
