<?xml version="1.0" encoding="UTF-8"?>
<module name="huawei-clocksync-comm"
        xmlns="urn:ietf:params:xml:ns:yang:yin:1"
        xmlns:clocksync-comm="urn:huawei:yang:huawei-clocksync-comm"
        xmlns:ext="urn:huawei:yang:huawei-extension"
        xmlns:ifm="urn:huawei:yang:huawei-ifm">
  <namespace uri="urn:huawei:yang:huawei-clocksync-comm"/>
  <prefix value="clocksync-comm"/>
  <import module="huawei-extension">
    <prefix value="ext"/>
  </import>
  <import module="huawei-ifm">
    <prefix value="ifm"/>
  </import>
  <organization>
    <text>Huawei Technologies Co., Ltd.</text>
  </organization>
  <contact>
    <text>Huawei Industrial Base
Bantian, Longgang
Shenzhen 518129
People's Republic of China
Website: http://www.huawei.com
Email: support@huawei.com</text>
  </contact>
  <description>
    <text>Clock comm data model define.</text>
  </description>
  <revision date="2020-03-04">
    <description>
      <text>Modify the node description.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2019-09-29">
    <description>
      <text>Initial revision.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <ext:task-name value="clksync"/>
  <typedef name="clock-pull-in-status">
    <type name="enumeration">
      <enum name="out">
        <value value="0"/>
        <description>
          <text>Pull-out.</text>
        </description>
      </enum>
      <enum name="in">
        <value value="1"/>
        <description>
          <text>Pull-in.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Clock pull-in state.</text>
    </description>
  </typedef>
  <typedef name="clock-run-mode">
    <type name="enumeration">
      <enum name="free">
        <value value="2"/>
        <description>
          <text>Run mode type is free.</text>
        </description>
      </enum>
      <enum name="hold">
        <value value="1"/>
        <description>
          <text>Run mode type is hold.</text>
        </description>
      </enum>
      <enum name="normal">
        <value value="0"/>
        <description>
          <text>Run mode type is normal.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Clock run mode.</text>
    </description>
  </typedef>
  <typedef name="clock-bits-type">
    <type name="enumeration">
      <enum name="1pps">
        <value value="3"/>
        <description>
          <text>Bits type is 1pps.</text>
        </description>
      </enum>
      <enum name="2mhz">
        <value value="1"/>
        <description>
          <text>Bits type is 2mhz.</text>
        </description>
      </enum>
      <enum name="2mbps">
        <value value="0"/>
        <description>
          <text>Bits type is 2mbps.</text>
        </description>
      </enum>
      <enum name="dcls">
        <value value="2"/>
        <description>
          <text>Bits type is dcls.</text>
        </description>
      </enum>
      <enum name="none">
        <value value="255"/>
        <description>
          <text>Bits type is none.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Clock bits type.</text>
    </description>
  </typedef>
  <typedef name="clock-trace-status">
    <type name="enumeration">
      <enum name="freerun">
        <value value="0"/>
        <description>
          <text>Trace ststus is freerun.</text>
        </description>
      </enum>
      <enum name="fastlock">
        <value value="1"/>
        <description>
          <text>Trace ststus is fastlock.</text>
        </description>
      </enum>
      <enum name="trace">
        <value value="2"/>
        <description>
          <text>Trace ststus is trace.</text>
        </description>
      </enum>
      <enum name="hold">
        <value value="3"/>
        <description>
          <text>Trace ststus is hold.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Clock trace status.</text>
    </description>
  </typedef>
  <typedef name="clock-time-sync-mode">
    <type name="enumeration">
      <enum name="none">
        <value value="0"/>
        <description>
          <text>Time sync mode is none.</text>
        </description>
      </enum>
      <enum name="ptp">
        <value value="1"/>
        <description>
          <text>Time sync mode is ptp.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Clock time sync mode.</text>
    </description>
  </typedef>
  <typedef name="clock-freq-sync-mode">
    <type name="enumeration">
      <enum name="none">
        <value value="0"/>
        <description>
          <text>Freq sync mode is none.</text>
        </description>
      </enum>
      <enum name="phyfreq">
        <value value="1"/>
        <description>
          <text>Freq sync mode is phyfreq.</text>
        </description>
      </enum>
      <enum name="ptpfreq">
        <value value="2"/>
        <description>
          <text>Freq sync mode is ptpfreq.</text>
        </description>
      </enum>
      <enum name="ptpacrfreq">
        <value value="3"/>
        <description>
          <text>Freq sync mode is ptpacrfreq.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Clock freq sync mode.</text>
    </description>
  </typedef>
  <typedef name="clock-time-sync-status">
    <type name="enumeration">
      <enum name="sync">
        <value value="0"/>
        <description>
          <text>Time sync status is sync.</text>
        </description>
      </enum>
      <enum name="unsync">
        <value value="1"/>
        <description>
          <text>Time sync status is unsync.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Clock time sync status.</text>
    </description>
  </typedef>
  <container name="clocksync-comm">
    <config value="false"/>
    <description>
      <text>Common clock information.</text>
    </description>
    <container name="clock-status">
      <description>
        <text>Statistics of system clock status.</text>
      </description>
      <leaf name="clk-pull-in-status">
        <type name="clock-pull-in-status"/>
        <description>
          <text>Clock pull-in state.</text>
        </description>
      </leaf>
      <leaf name="time-sync-mode">
        <type name="clock-time-sync-mode"/>
        <default value="none"/>
        <description>
          <text>Mode of time synchronization.</text>
        </description>
      </leaf>
      <leaf name="time-sync-status">
        <type name="clock-time-sync-status"/>
        <default value="unsync"/>
        <description>
          <text>Status of time synchronization.</text>
        </description>
      </leaf>
      <leaf name="time-lock-status">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Locking status of time synchronization.</text>
        </description>
      </leaf>
      <leaf name="freq-sync-mode">
        <type name="clock-freq-sync-mode"/>
        <default value="none"/>
        <description>
          <text>Mode of frequency synchronization.</text>
        </description>
      </leaf>
      <leaf name="sys-clk-trace-status">
        <type name="clock-trace-status"/>
        <default value="freerun"/>
        <description>
          <text>Status of frequency synchronization.</text>
        </description>
      </leaf>
      <leaf name="freq-lock-status">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Locking status of frequency synchronization.</text>
        </description>
      </leaf>
    </container>
  </container>
  <augment target-node="/ifm:ifm/ifm:interfaces/ifm:interface">
    <description>
      <text>Interface.</text>
    </description>
    <container name="clocksync-flexe">
      <description>
        <text>Configure clock synchronization on FlexE interfaces.</text>
      </description>
      <container name="phy-ports">
        <description>
          <text>Configure physical FlexE interface.</text>
        </description>
        <container name="phy-port">
          <description>
            <text>Configure physical FlexE interface.</text>
          </description>
          <leaf name="lgc-port-name">
            <type name="leafref">
              <path value="/ifm:ifm/ifm:interfaces/ifm:interface/ifm:name"/>
            </type>
            <must condition="/ifm:ifm/ifm:interfaces/ifm:interface[ifm:name=current()]/ifm:type='FlexE'"/>
            <description>
              <text>Logical FlexE interface name.</text>
            </description>
          </leaf>
        </container>
      </container>
    </container>
  </augment>
</module>
