<?xml version="1.0" encoding="UTF-8"?>
<module name="huawei-bras-dhcp-access"
        xmlns="urn:ietf:params:xml:ns:yang:yin:1"
        xmlns:bras-dhcp-access="urn:huawei:yang:huawei-bras-dhcp-access"
        xmlns:inet="urn:ietf:params:xml:ns:yang:ietf-inet-types"
        xmlns:ext="urn:huawei:yang:huawei-extension"
        xmlns:aaa="urn:huawei:yang:huawei-aaa"
        xmlns:ifm="urn:huawei:yang:huawei-ifm"
        xmlns:bras-basic-access="urn:huawei:yang:huawei-bras-basic-access">
  <namespace uri="urn:huawei:yang:huawei-bras-dhcp-access"/>
  <prefix value="bras-dhcp-access"/>
  <import module="ietf-inet-types">
    <prefix value="inet"/>
  </import>
  <import module="huawei-extension">
    <prefix value="ext"/>
  </import>
  <import module="huawei-aaa">
    <prefix value="aaa"/>
  </import>
  <import module="huawei-ifm">
    <prefix value="ifm"/>
  </import>
  <import module="huawei-bras-basic-access">
    <prefix value="bras-basic-access"/>
  </import>
  <organization>
    <text>Huawei Technologies Co., Ltd.</text>
  </organization>
  <contact>
    <text>Huawei Industrial Base
Bantian, Longgang
Shenzhen 518129
People's Republic of China
Website: http://www.huawei.com
Email: support@huawei.com</text>
  </contact>
  <description>
    <text>Configure the DHCP user access.</text>
  </description>
  <revision date="2020-02-22">
    <description>
      <text>Description modification.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2019-10-26">
    <description>
      <text>Third revision.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2019-10-17">
    <description>
      <text>Second revision.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2019-04-03">
    <description>
      <text>Initial revision.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <ext:task-name value="bras-control"/>
  <grouping name="server-ack-group">
    <description>
      <text>Server ack group.</text>
    </description>
    <container name="server-ack">
      <description>
        <text>Configure the router to process ACK packets that are destined for gateways and proactively sent by a DHCP server when users are online.</text>
      </description>
      <leaf name="enable">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable the router to process ACK packets that are destined for gateways and proactively sent by a DHCP server when users are online.</text>
        </description>
      </leaf>
    </container>
  </grouping>
  <grouping name="parse-qos-profile-group">
    <description>
      <text>Configures an option 64 parsing mode for the router to parse QoS profile names carried in ACK packets from a DHCP server.</text>
    </description>
    <container name="parse-qos-profile">
      <must condition="parse='true' or (separator='|' and segment=2)"/>
      <must condition="not (parse='true' and /bras-basic-access:bras-basic-access/bras-basic-access:dhcp-multiple-sessions/bras-basic-access:enable='true')"/>
      <description>
        <text>Configure an Option 64 parsing mode for the router to parse QoS profile names carried in ACK packets from a DHCP server.</text>
      </description>
      <leaf name="parse">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable Option 64 parsing mode.</text>
        </description>
      </leaf>
      <leaf name="separator">
        <ext:case-sensitivity value="lower-only"/>
        <type name="string">
          <length value="1"/>
          <pattern value="[^A-Z]"/>
        </type>
        <default value="|"/>
        <description>
          <text>Delimiter that divides an Option 64 value into several segments. The value is one case-insensitive character, spaces unsupported.</text>
        </description>
      </leaf>
      <leaf name="segment">
        <type name="uint8">
          <range value="1..3"/>
        </type>
        <default value="2"/>
        <description>
          <text>Segment which is divided from an Option 64 value and is specified as the QoS profile name to be delivered.</text>
        </description>
      </leaf>
    </container>
  </grouping>
  <grouping name="through-packet-group">
    <description>
      <text>Through packet group.</text>
    </description>
    <container name="through-packet">
      <description>
        <text>Configure the router to transparently transmit Dynamic Host Configuration Protocol (DHCPv4) packets.</text>
      </description>
      <leaf name="enable">
        <type name="boolean"/>
        <default value="true"/>
        <description>
          <text>Enable/disable the router to transparently transmit Dynamic Host Configuration Protocol (DHCPv4) packets.</text>
        </description>
      </leaf>
    </container>
  </grouping>
  <grouping name="ipoe-service-group">
    <description>
      <text>IPoE service group.</text>
    </description>
    <container name="ipoe-service">
      <description>
        <text>Configure IPoE service.</text>
      </description>
      <leaf name="type">
        <type name="enumeration">
          <enum name="ipv4">
            <value value="1"/>
            <description>
              <text>IPv4.</text>
            </description>
          </enum>
          <enum name="ipv6">
            <value value="2"/>
            <description>
              <text>IPv6.</text>
            </description>
          </enum>
        </type>
        <description>
          <text>IPoE service type.</text>
        </description>
      </leaf>
    </container>
  </grouping>
  <grouping name="extern-templete-group">
    <description>
      <text>Extern templete group.</text>
    </description>
    <choice name="templete-mode">
      <description>
        <text>Choose the external templete mode broadcast or reply trust.</text>
      </description>
      <case name="broadcast">
        <description>
          <text>DHCP broadcast.</text>
        </description>
        <container name="broadcast">
          <description>
            <text>Configure DHCP broadcast.</text>
          </description>
          <leaf name="enable">
            <type name="empty"/>
            <description>
              <text>Enables DHCP broadcast.</text>
            </description>
          </leaf>
        </container>
      </case>
      <case name="reply-trust">
        <description>
          <text>Reply-trust.</text>
        </description>
        <container name="reply-trust">
          <description>
            <text>Configure reply trust.</text>
          </description>
          <leaf name="enable">
            <type name="empty"/>
            <description>
              <text>Enables a device to use the broadcast flag value in a DHCP request packet.</text>
            </description>
          </leaf>
        </container>
      </case>
    </choice>
  </grouping>
  <grouping name="option-update-group">
    <description>
      <text>Option update group.</text>
    </description>
    <container name="option-update">
      <description>
        <text>Configure the function of updating Option 82 when a user is online.</text>
      </description>
      <leaf name="enable">
        <type name="empty"/>
        <description>
          <text>Enable the function of updating Option 82 when a user is online.</text>
        </description>
      </leaf>
    </container>
  </grouping>
  <grouping name="session-mismatch-group">
    <description>
      <text>Session mismatch group.</text>
    </description>
    <container name="session-mismatch">
      <description>
        <text>Configure session mismath.</text>
      </description>
      <leaf name="action">
        <type name="enumeration">
          <enum name="offline">
            <value value="1"/>
            <description>
              <text>Offline type.</text>
            </description>
          </enum>
          <enum name="roam-ipv4">
            <value value="2"/>
            <description>
              <text>Triggers to modify the VLAN and interface information of the online user who has sent discover or request packet on roaming.</text>
            </description>
          </enum>
          <enum name="roam-ipv6">
            <value value="3"/>
            <description>
              <text>Triggers to modify the VLAN and interface information of the online user who has sent solicit packet on roaming.</text>
            </description>
          </enum>
          <enum name="roam-ipv4-ipv6">
            <value value="4"/>
            <description>
              <text>Triggers to modify the VLAN and interface information of the online user who has sent discover or request and solicit packet on roaming.</text>
            </description>
          </enum>
          <enum name="roam-nd">
            <value value="5"/>
            <description>
              <text>Triggers to modify the VLAN and interface information of the online user who has sent RS packet on roaming.</text>
            </description>
          </enum>
          <enum name="roam-nd-ipv4">
            <value value="6"/>
            <description>
              <text>Triggers to modify the VLAN and interface information of the online user who has sent discover or request and RS packet on roaming.</text>
            </description>
          </enum>
          <enum name="roam-nd-ipv6">
            <value value="7"/>
            <description>
              <text>Triggers to modify the VLAN and interface information of the online user who has sent solicit and RS packet on roaming.</text>
            </description>
          </enum>
          <enum name="roam-nd-ipv4-ipv6">
            <value value="8"/>
            <description>
              <text>Triggers to modify the VLAN and interface information of the online user who has sent discover or request and solicit and RS packet on roaming.</text>
            </description>
          </enum>
        </type>
        <description>
          <text>Logs out online users to go offline or roam.</text>
        </description>
      </leaf>
    </container>
  </grouping>
  <grouping name="force-renew-group">
    <description>
      <text>Forcerenew group.</text>
    </description>
    <container name="force-renew">
      <description>
        <text>Configure DHCPv4 forcerenew.</text>
      </description>
      <leaf name="interval">
        <type name="uint16">
          <range value="1..300"/>
        </type>
        <default value="30"/>
        <description>
          <text>Specifies the retransmission delay of a forcerenew message.</text>
        </description>
      </leaf>
      <leaf name="time">
        <type name="uint16">
          <range value="1..10"/>
        </type>
        <default value="3"/>
        <description>
          <text>Specifies the retransmission times of a forcerenew message.</text>
        </description>
      </leaf>
    </container>
  </grouping>
  <grouping name="ip-ttl-group">
    <description>
      <text>IP TTL group.</text>
    </description>
    <container name="ip-ttl">
      <description>
        <text>Configure the Time to Live (TLL) value of DHCP response packets.</text>
      </description>
      <leaf name="value">
        <type name="uint8">
          <range value="1..255"/>
        </type>
        <description>
          <text>TTL value of DHCP response packets.</text>
        </description>
      </leaf>
    </container>
  </grouping>
  <grouping name="option61-group">
    <description>
      <text>Option 61 group.</text>
    </description>
    <container name="option61">
      <description>
        <text>Configure the value of the Option 61 field.</text>
      </description>
      <leaf name="hardware-type">
        <type name="enumeration">
          <enum name="string">
            <value value="0"/>
            <description>
              <text>Encapsulates the MAC address in the character string format into the Option 61 field.</text>
            </description>
          </enum>
          <enum name="hex">
            <value value="1"/>
            <description>
              <text>Encapsulates the MAC address in the hexadecimal format into the Option 61 field.</text>
            </description>
          </enum>
        </type>
        <description>
          <text>Sets the value of the Option 61 field.</text>
        </description>
      </leaf>
    </container>
  </grouping>
  <grouping name="rebuild-group">
    <description>
      <text>Rebuild group.</text>
    </description>
    <container name="rebuild">
      <description>
        <text>Configure DHCP Option 82 version3 flag.</text>
      </description>
      <choice name="type">
        <description>
          <text>Sets DHCP Option 82 version3 type.</text>
        </description>
        <case name="self-define">
          <description>
            <text>Configure self-define rebuild type.</text>
          </description>
          <leaf name="circuit-id">
            <type name="string">
              <length value="1..64"/>
            </type>
            <description>
              <text>DHCP Option 82 circuit ID value self define.</text>
            </description>
          </leaf>
          <leaf name="remote-id">
            <type name="string">
              <length value="1..64"/>
            </type>
            <description>
              <text>DHCP Option 82 remote ID value self define.</text>
            </description>
          </leaf>
          <leaf name="inner-vlan">
            <type name="uint32">
              <range value="1..4094"/>
            </type>
            <description>
              <text>DHCP Option 82 inner VLAN value self define.</text>
            </description>
          </leaf>
          <leaf name="out-vlan">
            <type name="uint32">
              <range value="1..4094"/>
            </type>
            <description>
              <text>DHCP Option 82 out VLAN value self define.</text>
            </description>
          </leaf>
        </case>
        <case name="version3">
          <description>
            <text>Configure version3 rebuild type.</text>
          </description>
          <leaf name="version3-option37-type">
            <type name="enumeration">
              <enum name="version3option37neba">
                <value value="0"/>
                <description>
                  <text>Specifies the type of DHCP Option 82 as version3 Option 37 as NEBA.</text>
                </description>
              </enum>
              <enum name="version3option37vula">
                <value value="1"/>
                <description>
                  <text>Specifies the type of DHCP Option 82 as version3 Option 37 as VULA.</text>
                </description>
              </enum>
            </type>
            <description>
              <text>Specifies the type of dhcp Option 82 as version3 Option 37.</text>
            </description>
          </leaf>
        </case>
        <case name="version4">
          <description>
            <text>Configure version4 rebuild type.</text>
          </description>
          <leaf name="version4">
            <type name="empty"/>
            <description>
              <text>Configure version4 rebuild type.</text>
            </description>
          </leaf>
        </case>
      </choice>
    </container>
  </grouping>
  <grouping name="option82-mismatch-group">
    <description>
      <text>Option82 mismatch group.</text>
    </description>
    <container name="option82-mismatch">
      <description>
        <text>Configure the function of checking Option 82.</text>
      </description>
      <leaf name="offline">
        <type name="empty"/>
        <description>
          <text>Enables the function of checking Option 82, when Option 82 mismatch bring the user offline.</text>
        </description>
      </leaf>
    </container>
  </grouping>
  <container name="bras-dhcp-access">
    <description>
      <text>Configure the DHCP user access.</text>
    </description>
    <container name="global">
      <description>
        <text>Configure DHCP user access global.</text>
      </description>
      <uses name="server-ack-group"/>
      <uses name="parse-qos-profile-group"/>
      <container name="request-packet-check">
        <description>
          <text>Configure check of DHCP request packets with Option 50 fields.</text>
        </description>
        <leaf name="enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable check of DHCP request packets with Option 50 fields.</text>
          </description>
        </leaf>
      </container>
      <container name="dhcp-request">
        <description>
          <text>Configure a TTL value for DHCP packets sent to a remote DHCP server.</text>
        </description>
        <leaf name="ttl">
          <type name="uint8">
            <range value="1..255"/>
          </type>
          <default value="16"/>
          <description>
            <text>Global TTL value.</text>
          </description>
        </leaf>
      </container>
      <container name="redirect-ds-domain">
        <must condition="((option-code) and (option-string-redirect)) or (not(option-code) and not(option-string-redirect))"/>
        <description>
          <text>Configure the router to identify enterprise users and redirect them to a specified BA classification domain.</text>
        </description>
        <leaf name="option-code">
          <type name="uint8">
            <range value="224..254"/>
          </type>
          <description>
            <text>Specifies an option code.</text>
          </description>
        </leaf>
        <leaf name="option-string-redirect">
          <type name="string">
            <length value="1..32"/>
          </type>
          <description>
            <text>Specifies a character string in the option field.</text>
          </description>
        </leaf>
      </container>
      <container name="client-packet-check">
        <description>
          <text>Configure DHCP client packet check type.</text>
        </description>
        <leaf name="strict">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable strict check.</text>
          </description>
        </leaf>
        <leaf name="layer2-ip-loose">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable loose check for layer2 destination ip.</text>
          </description>
        </leaf>
      </container>
      <container name="option82-access">
        <description>
          <text>Configure Option 82 access to radius by bras.</text>
        </description>
        <leaf name="enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable Option 82 access to radius.</text>
          </description>
        </leaf>
      </container>
      <uses name="through-packet-group"/>
      <container name="wait-request">
        <description>
          <text>Configure the DHCPv4 wait request time.</text>
        </description>
        <leaf name="time-value">
          <type name="uint8">
            <range value="5..60"/>
          </type>
          <default value="25"/>
          <description>
            <text>Specifies the DHCPv4 wait request time.</text>
          </description>
        </leaf>
      </container>
      <container name="through-nak">
        <description>
          <text>Configure the router to transparently transmit Dynamic Host Configuration Protocol (DHCPv4) NAK packets.</text>
        </description>
        <leaf name="enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable the router to transparently transmit Dynamic Host Configuration Protocol (DHCPv4) NAK packets.</text>
          </description>
        </leaf>
      </container>
      <container name="option61-insert">
        <description>
          <text>Configure encapsulate the Option 61 field into packets.</text>
        </description>
        <leaf name="enable">
          <type name="boolean"/>
          <default value="true"/>
          <description>
            <text>Enable/disable encapsulate the Option 61 field into packets.</text>
          </description>
        </leaf>
        <leaf name="hardware-type">
          <type name="enumeration">
            <enum name="ethernet-10mb">
              <value value="1"/>
              <description>
                <text>The hardware type is encapsulated into Ethernet (10 Mbit/s).</text>
              </description>
            </enum>
          </type>
          <description>
            <text>Set hardware-type value of Option 61 field.</text>
          </description>
        </leaf>
      </container>
      <container name="invalid-server-detect">
        <description>
          <text>Configure an interval at which the router checks the invalid DHCPv4 server.</text>
        </description>
        <leaf name="interval">
          <type name="uint32">
            <range value="0..65535"/>
          </type>
          <default value="0"/>
          <description>
            <text>The interval value.</text>
          </description>
        </leaf>
      </container>
      <container name="option82-location">
        <description>
          <text>Configure the router to encapsulate Option 82 behind all options in the DHCP Offer and ACK messages replied to DHCP clients.</text>
        </description>
        <leaf name="enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable encapsulate Option 82 behind all options.</text>
          </description>
        </leaf>
      </container>
      <container name="release-packet">
        <description>
          <text>Configure the source IP address in the header of the DHCPv4 release packet.</text>
        </description>
        <leaf name="source-ip-type">
          <type name="enumeration">
            <enum name="subscriber-ip">
              <value value="0"/>
              <description>
                <text>Subscriber ip.</text>
              </description>
            </enum>
            <enum name="interface-ip">
              <value value="1"/>
              <description>
                <text>Interface ip.</text>
              </description>
            </enum>
          </type>
          <default value="interface-ip"/>
          <description>
            <text>Sets the source IP address in the header of the DHCPv4 release packet.</text>
          </description>
        </leaf>
      </container>
      <container name="discover-speed">
        <must condition="(./packet-value and ./second-value) or (not(./packet-value) and not(./second-value))"/>
        <description>
          <text>Configure the speed threshold at which discover packets are received.</text>
        </description>
        <leaf name="packet-value">
          <type name="uint32">
            <range value="1..3000"/>
          </type>
          <description>
            <text>Specifies the maximum number of discover packets that are received within a specified time period.</text>
          </description>
        </leaf>
        <leaf name="second-value">
          <type name="uint32">
            <range value="1..10"/>
          </type>
          <units name="s"/>
          <description>
            <text>Specified time period.</text>
          </description>
        </leaf>
      </container>
      <container name="giaddr-packet-discard">
        <description>
          <text>Configure the router to discard DHCP packets with a non-zero GiAddr address sent from Layer3 remote DHCP clients so that these clients cannot go online.</text>
        </description>
        <leaf name="enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable DHCP packets with a non-zero GiAddr address.</text>
          </description>
        </leaf>
      </container>
      <container name="user-threshold">
        <description>
          <text>Configure an alarm threshold for DHCP users allowed to access.</text>
        </description>
        <leaf name="slot-warning-value">
          <type name="uint8">
            <range value="1..100"/>
          </type>
          <default value="100"/>
          <description>
            <text>Sets an alarm threshold for DHCP users allowed to access an interface board.</text>
          </description>
        </leaf>
        <leaf name="entire-warning-value">
          <type name="uint8">
            <range value="1..100"/>
          </type>
          <default value="100"/>
          <description>
            <text>Sets an alarm threshold for DHCP users allowed to access the entire.</text>
          </description>
        </leaf>
      </container>
      <container name="lease-end-time-orignal">
        <description>
          <text>Configure the router to apply the original lease time for DHCPv4 users that go online again after going offline abnormally. By default, the lease time for DHCPv4 users is reset after they abnormally go offline and then go online again.</text>
        </description>
        <leaf name="enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable the router to apply the original lease time for DHCPv4 users that go online again after going offline abnormally.</text>
          </description>
        </leaf>
      </container>
      <container name="strict-check-request-server-ip">
        <description>
          <text>Configure strict check for DHCP server IP addresses in DHCP request messages.</text>
        </description>
        <leaf name="enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable strict check for DHCP server IP addresses in DHCP request messages.</text>
          </description>
        </leaf>
      </container>
      <container name="discard-release-packet">
        <description>
          <text>Configure the backup device to discard DHCPv4 release messages in RUI scenarios.</text>
        </description>
        <leaf name="enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable the backup device to discard DHCPv4 release messages in RUI scenarios.</text>
          </description>
        </leaf>
      </container>
      <container name="ppp-server-packet-check">
        <description>
          <text>Configure loose check for PPP or L2TP user ip from server.</text>
        </description>
        <leaf name="loose-mode">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable loose check for PPP or L2TP user ip from server.</text>
          </description>
        </leaf>
      </container>
      <container name="server-packet">
        <description>
          <text>Configure strict or lose check on replay packets received from the DHCPv4 server.</text>
        </description>
        <leaf name="check-mode">
          <type name="enumeration">
            <enum name="loose">
              <value value="0"/>
              <description>
                <text>Indicates the loose check of the reply packet from the DHCPv4 server.</text>
              </description>
            </enum>
            <enum name="strict">
              <value value="1"/>
              <description>
                <text>Indicates the strict check of the reply packet from the DHCPv4 server.</text>
              </description>
            </enum>
          </type>
          <default value="strict"/>
          <description>
            <text>Indicates the loose or strict check of the reply packet from the DHCPv4 server.</text>
          </description>
        </leaf>
        <leaf name="loose-include-option3">
          <when condition="../check-mode='loose'"/>
          <type name="empty"/>
          <description>
            <text>Indicates the option value. Only Option 3 can be specified. If this parameter is not configured, the router does not conduct loose check on reply packets that do not carry Option 3 from the DHCPv4 server. If this parameter is configured, the router conducts loose check on all reply packets from the DHCPv4 server, including those carrying option 3.</text>
          </description>
        </leaf>
      </container>
      <container name="frame-ip-not-in-pool-range">
        <description>
          <text>Configure lease management for IPv6 addresses delivered by the RADIUS server that are not in the domain address pool for layer 2 DHCPv6 users.</text>
        </description>
        <leaf name="unnumbered-loopback-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable gateway unnumbered so that Layer 2 DHCP users can use IP addresses delivered by the RADIUS server that are not in the domain address pool to go online.</text>
          </description>
        </leaf>
        <leaf name="exclude-leasemanage-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable lease management for IPv6 addresses delivered by the RADIUS server that are not in the domain address pool for Layer 2 DHCPv6 users.</text>
          </description>
        </leaf>
      </container>
      <container name="conflict-ip-offline">
        <description>
          <text>Configure DHCP conflict ip address offline.</text>
        </description>
        <leaf name="online-user">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable triggers an online user to go offline if the IP address used by the online user is the same as the IP address assigned to a new user by the remote DHCP server.</text>
          </description>
        </leaf>
        <leaf name="include-new-user">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable the router to log out an online user and deny access of a new user if it detects that the IP address assigned to the new user from a remote address pool.</text>
          </description>
        </leaf>
        <leaf name="new-user-include-frame-ip">
          <when condition="../include-new-user='true'"/>
          <type name="empty"/>
          <description>
            <text>The new user by the RADIUS server is the same as the IP address of the online user.</text>
          </description>
        </leaf>
      </container>
      <container name="vendor-class-or-option60">
        <description>
          <text>Configure the vendor-class (DHCPv4 Option 60/DHCPv6 Option 16) attribute of DHCP packets. Then, the router can allocate IP addresses in the address pool based on the domain name. You can configure partial match or complete match for the content containing the domain name.</text>
        </description>
        <leaf name="option-type">
          <type name="enumeration">
            <enum name="dhcp-option60">
              <value value="0"/>
              <description>
                <text>Specifies the config type by DHCP Option 60.</text>
              </description>
            </enum>
            <enum name="vendor-class">
              <value value="1"/>
              <description>
                <text>Specifies the config type by vendor-class.</text>
              </description>
            </enum>
          </type>
          <description>
            <text>Specifies the config type by DHCP Option 60 or vendor-class.</text>
          </description>
        </leaf>
        <leaf name="include-domain-type">
          <when condition="../option-type"/>
          <type name="enumeration">
            <enum name="domain-include">
              <value value="0"/>
              <description>
                <text>Indicates that the vendor-class option contains the domain name.</text>
              </description>
            </enum>
            <enum name="domain-patial-include">
              <value value="1"/>
              <description>
                <text>Indicates that the vendor-class option contains a partial domain name.</text>
              </description>
            </enum>
          </type>
          <default value="domain-include"/>
          <description>
            <text>Indicates that the vendor-class option contains the domain name or a partial domain name.</text>
          </description>
        </leaf>
        <leaf name="match-type">
          <when condition="../option-type"/>
          <type name="enumeration">
            <enum name="exact-match">
              <value value="0"/>
              <description>
                <text>Indicates the content of the vendor-class string complete match.</text>
              </description>
            </enum>
            <enum name="partial-match">
              <value value="1"/>
              <description>
                <text>Indicates the content of the vendor-class string partial match (complete match is not required).</text>
              </description>
            </enum>
          </type>
          <default value="exact-match"/>
          <description>
            <text>Indicates the content of the vendor-class string complete match or partial match (complete match is not required).</text>
          </description>
        </leaf>
        <leaf name="encrypt-flag">
          <when condition="../option-type"/>
          <type name="empty"/>
          <description>
            <text>Encrypts the domain name in the vendor-class option or not.</text>
          </description>
        </leaf>
        <choice name="decode-mode">
          <description>
            <text>Choose the decode mode with CN or other.</text>
          </description>
          <case name="cn">
            <description>
              <text>Choose the CN mode.</text>
            </description>
            <leaf name="cn">
              <when condition="../option-type"/>
              <type name="empty"/>
              <description>
                <text>Uses the cn mode for user domain identification.</text>
              </description>
            </leaf>
          </case>
          <case name="self-define">
            <description>
              <text>Choose the self define mode.</text>
            </description>
            <leaf name="offset">
              <when condition="../option-type"/>
              <type name="uint8">
                <range value="1..254"/>
              </type>
              <must condition="(../length or ../code)"/>
              <description>
                <text>Specifies the offset of a vendor-class option. After this parameter is configured, the BRAS identifies a user domain based on the vendor-class option after offset.</text>
              </description>
            </leaf>
            <choice name="decode-type">
              <description>
                <text>Choose the decode type.</text>
              </description>
              <case name="option">
                <description>
                  <text>Choose the option mode.</text>
                </description>
                <leaf name="length">
                  <when condition="../option-type"/>
                  <type name="uint8">
                    <range value="1..254"/>
                  </type>
                  <description>
                    <text>Specifies which part of a vendor-class option is used for user domain identification. After this parameter is configured, only the specified part of the vendor-class option is used for domain identification.</text>
                  </description>
                </leaf>
              </case>
              <case name="sub-option">
                <description>
                  <text>Choose the sub option mode.</text>
                </description>
                <leaf name="code">
                  <when condition="../option-type"/>
                  <type name="uint8">
                    <range value="1..255"/>
                  </type>
                  <description>
                    <text>Specifies the code of a vendor-class sub-option used for user domain identification.</text>
                  </description>
                </leaf>
                <leaf name="sub-offset">
                  <when condition="../code"/>
                  <type name="uint8">
                    <range value="1..254"/>
                  </type>
                  <description>
                    <text>Specifies the offset for a vendor-class sub-option used for user domain identification.</text>
                  </description>
                </leaf>
                <leaf name="sub-length">
                  <when condition="../code"/>
                  <type name="uint8">
                    <range value="1..254"/>
                  </type>
                  <description>
                    <text>Specifies which part of a vendor-class sub-option is used for user domain identification. After this parameter is configured, only the specified part of the vendor-class sub-option is used for domain identification.</text>
                  </description>
                </leaf>
              </case>
            </choice>
          </case>
        </choice>
      </container>
      <container name="giaddr-policy">
        <description>
          <text>Configure the value of the Giaddr field in a packet.</text>
        </description>
        <leaf name="dhcp-layer2-giaddr-clear">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable the value of the Giaddr field in a packet to be sent to a Layer 2 user to 0.</text>
          </description>
        </leaf>
      </container>
      <container name="whitelist-session-car">
        <must condition="./cir &lt;= ./pir"/>
        <must condition="./cbs &lt;= ./pbs"/>
        <description>
          <text>Configure DHCPv4 access whitelist session-car.</text>
        </description>
        <leaf name="enable">
          <type name="boolean"/>
          <default value="true"/>
          <description>
            <text>Enable/disable DHCPv4 access whitelist session-car.</text>
          </description>
        </leaf>
        <leaf name="cir">
          <type name="uint32">
            <range value="0..1000000"/>
          </type>
          <units name="kbit/s"/>
          <default value="512"/>
          <description>
            <text>DHCPv4 protocol packets committed information rate.</text>
          </description>
        </leaf>
        <leaf name="cbs">
          <type name="uint32">
            <range value="0..9000000"/>
          </type>
          <units name="Byte"/>
          <default value="64000"/>
          <description>
            <text>DHCPv4 protocol packets committed burst size.</text>
          </description>
        </leaf>
        <leaf name="pir">
          <type name="uint32">
            <range value="0..1000000"/>
          </type>
          <units name="kbit/s"/>
          <default value="1200"/>
          <description>
            <text>DHCPv4 protocol packets peak information rate.</text>
          </description>
        </leaf>
        <leaf name="pbs">
          <type name="uint32">
            <range value="0..9000000"/>
          </type>
          <units name="Byte"/>
          <default value="150000"/>
          <description>
            <text>DHCPv4 protocol packets peak burst size.</text>
          </description>
        </leaf>
      </container>
    </container>
    <container name="rebind-no-user-action">
      <description>
        <text>Configure the action of device who has no receive a client's DHCP rebind message if a corresponding user entry does not exist on the device.</text>
      </description>
      <choice name="nak-action">
        <description>
          <text>Choose the action of device who has no receive a client's DHCP rebind message if a corresponding user entry does not exist on the device.</text>
        </description>
        <case name="keep-silence">
          <description>
            <text>Disable the device from sending an NAK message in response to a client's DHCP rebind message if a corresponding user entry does not exist on the device.</text>
          </description>
          <leaf name="keep-silence">
            <type name="empty"/>
            <description>
              <text>In a cold backup scenario, disables the device from sending an NAK message in response to a client's DHCP rebind message if a corresponding user entry does not exist on the device.</text>
            </description>
          </leaf>
        </case>
        <case name="reply-server-ip">
          <description>
            <text>Force the device to send an NAK message from server-ip.</text>
          </description>
          <leaf name="reply-server-ip">
            <type name="inet:ipv4-address-no-zone"/>
            <description>
              <text>Force the device to send an NAK message from server-ip.</text>
            </description>
          </leaf>
        </case>
      </choice>
    </container>
    <container name="dhcp-access-statistics">
      <config value="false"/>
      <description>
        <text>Display statistics for the DHCP module.</text>
      </description>
      <leaf name="client-send-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of packets received from clients.</text>
        </description>
      </leaf>
      <leaf name="received-discover-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of discover packets received from clients.</text>
        </description>
      </leaf>
      <leaf name="received-request-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of Request packets received from clients.</text>
        </description>
      </leaf>
      <leaf name="bootp-request-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of BOOTP request packets received from clients.</text>
        </description>
      </leaf>
      <leaf name="select-request-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of select request packets received from clients.</text>
        </description>
      </leaf>
      <leaf name="reboot-request-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of reboot request packets received from clients.</text>
        </description>
      </leaf>
      <leaf name="renew-request-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of renew request packets received from clients.</text>
        </description>
      </leaf>
      <leaf name="rebind-request-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of reboot rebind request packets received from clients.</text>
        </description>
      </leaf>
      <leaf name="received-decline-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of decline packets received from clients.</text>
        </description>
      </leaf>
      <leaf name="received-release-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of release packets received from clients.</text>
        </description>
      </leaf>
      <leaf name="received-inform-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of inform packets received from clients.</text>
        </description>
      </leaf>
      <leaf name="server-send-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of packets received from servers.</text>
        </description>
      </leaf>
      <leaf name="received-offer-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of offer packets received from servers.</text>
        </description>
      </leaf>
      <leaf name="received-ack-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of ACK packets received from servers.</text>
        </description>
      </leaf>
      <leaf name="received-nak-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of NAK packets received from servers.</text>
        </description>
      </leaf>
      <leaf name="received-forcerenew-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of forcerenew packets received from servers.</text>
        </description>
      </leaf>
      <leaf name="forbidden-discover-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of discover packets discarded based on ACL rules.</text>
        </description>
      </leaf>
      <leaf name="forbidden-request-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of request packets discarded based on ACL rules.</text>
        </description>
      </leaf>
      <leaf name="client-option-errors">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of client packets with an incorrect option.</text>
        </description>
      </leaf>
      <leaf name="client-hops-errors">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of client packets with an incorrect number of hops.</text>
        </description>
      </leaf>
      <leaf name="client-hardware-type-errors">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of client packets with an incorrect hardware type.</text>
        </description>
      </leaf>
      <leaf name="client-length-errors">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of client packets with an incorrect length.</text>
        </description>
      </leaf>
      <leaf name="client-mac-errors">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of error client packets with the first byte of the MAC address being 01.</text>
        </description>
      </leaf>
      <leaf name="client-null-mac-errors">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of error client packets with the MAC address being all 0s.</text>
        </description>
      </leaf>
      <leaf name="client-sname-errors">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of client packets whose Sname fields are incorrect.</text>
        </description>
      </leaf>
      <leaf name="client-boot-file-errors">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of client packets whose BootFile fields are incorrect.</text>
        </description>
      </leaf>
      <leaf name="server-option-errors">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of server packets with an incorrect option.</text>
        </description>
      </leaf>
      <leaf name="access-limit-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of packets that cannot be sent due to the access limit.</text>
        </description>
      </leaf>
      <leaf name="invalid-server-ip-offer-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of offer packets with invalid server IP addresses.</text>
        </description>
      </leaf>
      <leaf name="invalid-server-ip-nak-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of NAK packets with invalid server IP addresses.</text>
        </description>
      </leaf>
      <leaf name="invalid-server-ip-nak-new-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of NAK packets discarded due to their invalid server IP addresses.</text>
        </description>
      </leaf>
      <leaf name="server-hardware-type-errors">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of server packets with an incorrect hardware type.</text>
        </description>
      </leaf>
      <leaf name="server-length-errors">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of server packets with an incorrect length.</text>
        </description>
      </leaf>
      <leaf name="server-mac-errors">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of error server packets with the first byte of the MAC address being 01.</text>
        </description>
      </leaf>
      <leaf name="server-sname-errors">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of server packets whose Sname fields are incorrect.</text>
        </description>
      </leaf>
      <leaf name="server-bootfile-errors">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of server packets whose BootFile fields are incorrect.</text>
        </description>
      </leaf>
      <leaf name="confict-ip-offer-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of offer packets with conflicted IP addresses received from servers.</text>
        </description>
      </leaf>
      <leaf name="confict-ip-ack-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of ACK packets with conflicted IP addresses received from servers.</text>
        </description>
      </leaf>
      <leaf name="sent-client-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Statistics about packets sent to clients.</text>
        </description>
      </leaf>
      <leaf name="sent-offer-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of offer packets sent to clients.</text>
        </description>
      </leaf>
      <leaf name="sent-ack-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of ACK packets sent to clients.</text>
        </description>
      </leaf>
      <leaf name="sent-nak-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of NAK packets sent to clients.</text>
        </description>
      </leaf>
      <leaf name="sent-server-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Statistics about packets sent to servers.</text>
        </description>
      </leaf>
      <leaf name="sent-discover-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of discover packets sent to servers.</text>
        </description>
      </leaf>
      <leaf name="sent-request-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of request packets sent to servers.</text>
        </description>
      </leaf>
      <leaf name="sent-release-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of release packets sent to servers.</text>
        </description>
      </leaf>
      <leaf name="sent-decline-packets">
        <type name="uint32"/>
        <default value="0"/>
        <config value="false"/>
        <description>
          <text>Number of decline packets sent to servers.</text>
        </description>
      </leaf>
    </container>
    <container name="bgp-over-ipoe">
      <description>
        <text>Configure BGP route forwarding between a CPE and BRAS.</text>
      </description>
      <leaf name="enable">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable BGP route forwarding between a CPE and BRAS.</text>
        </description>
      </leaf>
    </container>
  </container>
  <augment target-node="/aaa:aaa/aaa:domains/aaa:domain/bras-basic-access:bas">
    <description>
      <text>BAS domain configuration.</text>
    </description>
    <container name="dhcp-access">
      <description>
        <text>Configure DHCP access in domain scenario.</text>
      </description>
      <uses name="server-ack-group"/>
      <uses name="parse-qos-profile-group"/>
      <container name="option121-routes">
        <description>
          <text>List of static routes assigned to DHCP clients. The destination IP address is the value obtained by performing a bitwise and operation of the destination IP address and mask length.</text>
        </description>
        <list name="option121-route">
          <key value="destination-ip mask-length gateway"/>
          <description>
            <text>Assign static routes to DHCP clients, and the destination IP address is the value obtained by performing a bitwise and operation of the destination IP address and mask length.</text>
          </description>
          <leaf name="destination-ip">
            <type name="inet:ipv4-address-no-zone"/>
            <description>
              <text>Destination IPv4 address.</text>
            </description>
          </leaf>
          <leaf name="mask-length">
            <type name="uint16">
              <range value="0..32"/>
            </type>
            <description>
              <text>Mask length.</text>
            </description>
          </leaf>
          <leaf name="gateway">
            <type name="inet:ipv4-address-no-zone"/>
            <description>
              <text>Gateway address.</text>
            </description>
          </leaf>
        </list>
      </container>
      <uses name="through-packet-group"/>
      <container name="coa-zero-lease-dual-cut">
        <description>
          <text>Configure zero lease by COA for DHCP stack.</text>
        </description>
        <leaf name="enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable dual cut zero lease user.</text>
          </description>
        </leaf>
      </container>
      <container name="user-offline-by-send-packet">
        <description>
          <text>Configure user offline by send packets.</text>
        </description>
        <leaf name="discover">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable DHCP user offline by discover packet.</text>
          </description>
        </leaf>
        <leaf name="reboot-request">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable DHCP user offline by reboot-request packet.</text>
          </description>
        </leaf>
      </container>
    </container>
  </augment>
  <augment target-node="/ifm:ifm/ifm:interfaces/ifm:interface/bras-basic-access:bas/bras-basic-access:access-type/bras-basic-access:layer2-subscriber/bras-basic-access:layer2-subscriber">
    <description>
      <text>Layer2 subscriber access type.</text>
    </description>
    <container name="dhcp-access">
      <must condition="not((./option-update/enable) and (./option82-mismatch/offline))"/>
      <description>
        <text>Configure DHCP access.</text>
      </description>
      <uses name="extern-templete-group"/>
      <uses name="ipoe-service-group"/>
      <uses name="option-update-group"/>
      <uses name="session-mismatch-group"/>
      <uses name="force-renew-group"/>
      <uses name="ip-ttl-group"/>
      <uses name="option61-group"/>
      <uses name="rebuild-group"/>
      <uses name="option82-mismatch-group"/>
    </container>
  </augment>
  <augment target-node="/ifm:ifm/ifm:interfaces/ifm:interface/bras-basic-access:bas/bras-basic-access:access-type/bras-basic-access:layer2-leaseline/bras-basic-access:layer2-leaseline">
    <description>
      <text>Layer2 leaseline access type.</text>
    </description>
    <container name="dhcp-access">
      <must condition="not((./option-update/enable) and (./option82-mismatch/offline))"/>
      <description>
        <text>Configure DHCP access.</text>
      </description>
      <uses name="extern-templete-group"/>
      <uses name="option-update-group"/>
      <uses name="force-renew-group"/>
      <uses name="ip-ttl-group"/>
      <uses name="option61-group"/>
      <uses name="rebuild-group"/>
      <uses name="option82-mismatch-group"/>
    </container>
  </augment>
</module>
