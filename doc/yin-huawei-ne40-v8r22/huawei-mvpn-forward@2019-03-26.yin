<?xml version="1.0" encoding="UTF-8"?>
<module name="huawei-mvpn-forward"
        xmlns="urn:ietf:params:xml:ns:yang:yin:1"
        xmlns:mvpn-forward="urn:huawei:yang:huawei-mvpn-forward"
        xmlns:ni="urn:huawei:yang:huawei-network-instance"
        xmlns:l3vpn="urn:huawei:yang:huawei-l3vpn"
        xmlns:ext="urn:huawei:yang:huawei-extension"
        xmlns:mvpn="urn:huawei:yang:huawei-mvpn">
  <namespace uri="urn:huawei:yang:huawei-mvpn-forward"/>
  <prefix value="mvpn-forward"/>
  <import module="huawei-network-instance">
    <prefix value="ni"/>
  </import>
  <import module="huawei-l3vpn">
    <prefix value="l3vpn"/>
  </import>
  <import module="huawei-extension">
    <prefix value="ext"/>
  </import>
  <import module="huawei-mvpn">
    <prefix value="mvpn"/>
  </import>
  <organization>
    <text>Huawei Technologies Co., Ltd.</text>
  </organization>
  <contact>
    <text>Huawei Industrial Base
Bantian, Longgang
Shenzhen 518129
People's Republic of China
Website: http://www.huawei.com
Email: support@huawei.com</text>
  </contact>
  <description>
    <text>Multicast virtual private network.</text>
  </description>
  <revision date="2019-03-26">
    <description>
      <text>Init revision.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <ext:task-name value="mvpn"/>
  <typedef name="service-class">
    <type name="enumeration">
      <enum name="be">
        <value value="0"/>
        <description>
          <text>Service type of BE.</text>
        </description>
      </enum>
      <enum name="af1">
        <value value="1"/>
        <description>
          <text>Service type of AF1.</text>
        </description>
      </enum>
      <enum name="af2">
        <value value="2"/>
        <description>
          <text>Service type of AF2.</text>
        </description>
      </enum>
      <enum name="af3">
        <value value="3"/>
        <description>
          <text>Service type of AF3.</text>
        </description>
      </enum>
      <enum name="af4">
        <value value="4"/>
        <description>
          <text>Service type of AF4.</text>
        </description>
      </enum>
      <enum name="ef">
        <value value="5"/>
        <description>
          <text>Service type of EF.</text>
        </description>
      </enum>
      <enum name="cs6">
        <value value="6"/>
        <description>
          <text>Service type of CS6.</text>
        </description>
      </enum>
      <enum name="cs7">
        <value value="7"/>
        <description>
          <text>Service type of CS7.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Service type.</text>
    </description>
  </typedef>
  <typedef name="color">
    <type name="enumeration">
      <enum name="green">
        <value value="0"/>
        <description>
          <text>Green.</text>
        </description>
      </enum>
      <enum name="yellow">
        <value value="1"/>
        <description>
          <text>Yellow.</text>
        </description>
      </enum>
      <enum name="red">
        <value value="2"/>
        <description>
          <text>Red.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Color type.</text>
    </description>
  </typedef>
  <typedef name="enableflag">
    <type name="enumeration">
      <enum name="true">
        <value value="1"/>
        <description>
          <text>Multicast-vpn TTL propagate is enabled.</text>
        </description>
      </enum>
      <enum name="false">
        <value value="0"/>
        <description>
          <text>Multicast-vpn TTL propagate is disabled.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Enable flag type.</text>
    </description>
  </typedef>
  <container name="mvpn-forward">
    <description>
      <text>Multicast forwarding table.</text>
    </description>
    <container name="global">
      <description>
        <text>Configure MVPN global configuration.</text>
      </description>
      <container name="ttl-propagate">
        <description>
          <text>Configure MVPN TTL value.</text>
        </description>
        <leaf name="enable">
          <type name="enableflag"/>
          <default value="false"/>
          <description>
            <text>Propagate the TTL value used by the private network to the public network.</text>
          </description>
        </leaf>
      </container>
      <container name="multicast-vpn-slots">
        <description>
          <text>List of MVPN integrated boards.</text>
        </description>
        <list name="multicast-vpn-slot">
          <key value="slot"/>
          <description>
            <text>Configure MVPN integrated board.</text>
          </description>
          <leaf name="slot">
            <type name="string">
              <length value="1..15"/>
            </type>
            <description>
              <text>Slot number of the board on which MVPN is to be enabled.</text>
            </description>
          </leaf>
        </list>
      </container>
      <container name="ng-mvpn-forward-mode">
        <description>
          <text>Configure the NGMVPN forwarding mode. You can modify the configuration five minutes after the configuration takes effect.</text>
        </description>
        <leaf name="propagate-enable">
          <type name="enableflag"/>
          <default value="false"/>
          <description>
            <text>Config loopback mode.</text>
          </description>
        </leaf>
      </container>
    </container>
  </container>
  <augment target-node="/ni:network-instance/ni:instances/ni:instance/l3vpn:afs/l3vpn:af/mvpn:mvpn/mvpn:mvpn-type/mvpn:ng-mvpn/mvpn:ng">
    <description>
      <text>Configure WTR attribute on MVPN template.</text>
    </description>
    <container name="multicast-wtr">
      <when condition="../mvpn:is-c-multicast-frr='true'"/>
      <description>
        <text>Configure wait time restore.</text>
      </description>
      <leaf name="wtr">
        <type name="uint16">
          <range value="60..1800"/>
        </type>
        <units name="s"/>
        <default value="600"/>
        <description>
          <text>Wait time restore.</text>
        </description>
      </leaf>
    </container>
  </augment>
</module>
