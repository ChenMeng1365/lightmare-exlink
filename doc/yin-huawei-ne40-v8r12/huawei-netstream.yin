<?xml version="1.0" encoding="UTF-8"?>
<module name="huawei-netstream"
        xmlns="urn:ietf:params:xml:ns:yang:yin:1"
        xmlns:netstream="urn:huawei:yang:huawei-netstream"
        xmlns:devm="urn:huawei:yang:huawei-devm"
        xmlns:ifm="urn:huawei:yang:huawei-ifm"
        xmlns:inet="urn:ietf:params:xml:ns:yang:ietf-inet-types"
        xmlns:ext="urn:huawei:yang:huawei-extension"
        xmlns:ni="urn:huawei:yang:huawei-network-instance"
        xmlns:l3vpn="urn:huawei:yang:huawei-l3vpn"
        xmlns:yang="urn:ietf:params:xml:ns:yang:ietf-yang-types"
        xmlns:pub-type="urn:huawei:yang:huawei-pub-type">
  <namespace uri="urn:huawei:yang:huawei-netstream"/>
  <prefix value="netstream"/>
  <import module="huawei-devm">
    <prefix value="devm"/>
  </import>
  <import module="huawei-ifm">
    <prefix value="ifm"/>
  </import>
  <import module="ietf-inet-types">
    <prefix value="inet"/>
  </import>
  <import module="huawei-extension">
    <prefix value="ext"/>
  </import>
  <import module="huawei-network-instance">
    <prefix value="ni"/>
  </import>
  <import module="huawei-l3vpn">
    <prefix value="l3vpn"/>
  </import>
  <import module="ietf-yang-types">
    <prefix value="yang"/>
  </import>
  <import module="huawei-pub-type">
    <prefix value="pub-type"/>
  </import>
  <organization>
    <text>Huawei Technologies Co., Ltd.</text>
  </organization>
  <contact>
    <text>Huawei Industrial Base
Bantian, Longgang
Shenzhen 518129
People's Republic of China
Website: http://www.huawei.com
Email: support@huawei.com</text>
  </contact>
  <description>
    <text>Netstream.</text>
  </description>
  <revision date="2019-06-27">
    <description>
      <text>Initial revision.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <ext:task-name value="netstream"/>
  <typedef name="nsm-direction">
    <type name="enumeration">
      <enum name="inbound">
        <value value="0"/>
        <description>
          <text>Inbound.</text>
        </description>
      </enum>
      <enum name="outbound">
        <value value="1"/>
        <description>
          <text>Outbound.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Description of sampler direction.</text>
    </description>
  </typedef>
  <typedef name="nsm-agg-type">
    <type name="enumeration">
      <enum name="as">
        <value value="0"/>
        <description>
          <text>AS aggregation.</text>
        </description>
      </enum>
      <enum name="as-tos">
        <value value="1"/>
        <description>
          <text>AS-ToS aggregation.</text>
        </description>
      </enum>
      <enum name="protocol-port">
        <value value="2"/>
        <description>
          <text>Protocol-port.</text>
        </description>
      </enum>
      <enum name="protocol-port-tos">
        <value value="3"/>
        <description>
          <text>Protocol-port-ToS aggregation.</text>
        </description>
      </enum>
      <enum name="source-prefix">
        <value value="4"/>
        <description>
          <text>Source-prefix aggregation. It classifies flows by four key values, that is, the source AS number, source mask length, source prefix, and incoming interface index.</text>
        </description>
      </enum>
      <enum name="source-prefix-tos">
        <value value="5"/>
        <description>
          <text>Source prefix-ToS aggregation. It classifies flows by five key values, that is, the source AS number, source mask length, source prefix, ToS, and incoming interface index.</text>
        </description>
      </enum>
      <enum name="destination-prefix">
        <value value="6"/>
        <description>
          <text>Destination-prefix aggregation. It classifies flows by four key values, that is, the destination AS number, destination mask length, destination prefix, and outgoing interface index.</text>
        </description>
      </enum>
      <enum name="destination-prefix-tos">
        <value value="7"/>
        <description>
          <text>Destination prefix-ToS aggregation. It classifies flows by five key values, that is, the destination AS number, destination mask length, destination prefix, ToS, and outgoing interface index.</text>
        </description>
      </enum>
      <enum name="prefix">
        <value value="8"/>
        <description>
          <text>Prefix aggregation. It classifies flows by eight key values, that is, the source AS number, destination AS number, source mask length, destination mask length, source prefix, destination prefix, incoming interface index, and outgoing interface index.</text>
        </description>
      </enum>
      <enum name="prefix-tos">
        <value value="9"/>
        <description>
          <text>Prefix-ToS aggregation. It classifies flows by nine key values, that is, the source AS number, destination AS number, source mask length, destination mask length, source prefix, destination prefix, ToS, incoming interface index, and outgoing interface index.</text>
        </description>
      </enum>
      <enum name="mpls-label">
        <value value="10"/>
        <description>
          <text>MPLS-label aggregation. It classifies flows by six key values, that is, the first layer label, second layer label, third layer label, TopLabelIpAddress, stack bottom symbol of the first layer label, and the EXP value of the first layer label.</text>
        </description>
      </enum>
      <enum name="vlan-id">
        <value value="11"/>
        <description>
          <text>VLAN-ID aggregation. It classifies flows by two key values, that is, the VLAN ID and incoming interface index.</text>
        </description>
      </enum>
      <enum name="bgp-nexthop-tos">
        <value value="12"/>
        <description>
          <text>BGP next hop-ToS aggregation. It classifies streams by six key values including the BGP next hop, source AS number, destination AS number, incoming interface index, outgoing interface index, and ToS.</text>
        </description>
      </enum>
      <enum name="index-tos">
        <value value="13"/>
        <description>
          <text>Interface index-ToS aggregation. It classifies flows by three key values, that is, the incoming interface index, outgoing interface index, and ToS.</text>
        </description>
      </enum>
      <enum name="source-index-tos">
        <value value="14"/>
        <description>
          <text>Interface source-index-ToS aggregation.</text>
        </description>
      </enum>
      <enum name="bgp-community">
        <value value="15"/>
        <description>
          <text>BGP Community Aggregation.</text>
        </description>
      </enum>
      <enum name="vni-sip-dip">
        <value value="16"/>
        <description>
          <text>It classifies flows by three key values, that is, the vni id, sip, and dip.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Description of aggregation type.</text>
    </description>
  </typedef>
  <typedef name="nsm-enable">
    <type name="enumeration">
      <enum name="false">
        <value value="0"/>
        <description>
          <text>Disabling.</text>
        </description>
      </enum>
      <enum name="true">
        <value value="1"/>
        <description>
          <text>Enabling.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Description of enable type.</text>
    </description>
  </typedef>
  <typedef name="nsm-origin-version">
    <type name="enumeration">
      <enum name="5">
        <value value="5"/>
        <description>
          <text>Version 5.</text>
        </description>
      </enum>
      <enum name="9">
        <value value="9"/>
        <description>
          <text>Version 9.</text>
        </description>
      </enum>
      <enum name="ipfix">
        <value value="10"/>
        <description>
          <text>Version ipfix.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Description of origin version type.</text>
    </description>
  </typedef>
  <typedef name="nsm-as-type">
    <type name="enumeration">
      <enum name="invalid-as">
        <value value="0"/>
        <description>
          <text>Invalid system ID.</text>
        </description>
      </enum>
      <enum name="origin-as">
        <value value="1"/>
        <description>
          <text>Start AS number.</text>
        </description>
      </enum>
      <enum name="peer-as">
        <value value="2"/>
        <description>
          <text>Adjacent AS number.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Description of as type.</text>
    </description>
  </typedef>
  <typedef name="nsm-as-mode-index">
    <type name="enumeration">
      <enum name="16">
        <value value="0"/>
        <description>
          <text>16-bit interface index carried in exported NetStream packets.</text>
        </description>
      </enum>
      <enum name="32">
        <value value="1"/>
        <description>
          <text>32-bit interface index carried in exported NetStream packets.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Description of as mode index type.</text>
    </description>
  </typedef>
  <typedef name="nsm-mpls-aware">
    <type name="enumeration">
      <enum name="ip-only">
        <value value="0"/>
        <description>
          <text>IP address collection mode.</text>
        </description>
      </enum>
      <enum name="label-and-ip">
        <value value="1"/>
        <description>
          <text>Inner IP packet and label collection mode.</text>
        </description>
      </enum>
      <enum name="label-only">
        <value value="2"/>
        <description>
          <text>Label collection mode.</text>
        </description>
      </enum>
      <enum name="invalid-mpls">
        <value value="3"/>
        <description>
          <text>Invalid_MPLS.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Description of MPLS aware type.</text>
    </description>
  </typedef>
  <typedef name="nsm-flow-type">
    <type name="enumeration">
      <enum name="ip-flow">
        <value value="0"/>
        <description>
          <text>IPv4.</text>
        </description>
      </enum>
      <enum name="ipv6-flow">
        <value value="1"/>
        <description>
          <text>IPv6.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Description of flow type.</text>
    </description>
  </typedef>
  <typedef name="nsm-srv6-aware">
    <type name="enumeration">
      <enum name="inner-header">
        <value value="1"/>
        <description>
          <text>Collect inner layer header.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Description of SRv6 aware.</text>
    </description>
  </typedef>
  <typedef name="nsm-destination-board">
    <type name="enumeration">
      <enum name="self">
        <value value="0"/>
        <description>
          <text>To Self.</text>
        </description>
      </enum>
      <enum name="main">
        <value value="1"/>
        <description>
          <text>To Main.</text>
        </description>
      </enum>
      <enum name="bak">
        <value value="2"/>
        <description>
          <text>To Bak.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Description of destination board type.</text>
    </description>
  </typedef>
  <typedef name="nsm-statistic-type">
    <type name="enumeration">
      <enum name="template">
        <value value="0"/>
        <description>
          <text>Template statistics.</text>
        </description>
      </enum>
      <enum name="pack">
        <value value="1"/>
        <description>
          <text>Packet statistics.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Description of statistic type.</text>
    </description>
  </typedef>
  <typedef name="nsm-template-type">
    <type name="enumeration">
      <enum name="option">
        <value value="0"/>
        <description>
          <text>Option statistics.</text>
        </description>
      </enum>
      <enum name="aggregation">
        <value value="1"/>
        <description>
          <text>Aggregation template statistics.</text>
        </description>
      </enum>
      <enum name="origin">
        <value value="2"/>
        <description>
          <text>Origin template statistics.</text>
        </description>
      </enum>
      <enum name="record">
        <value value="3"/>
        <description>
          <text>Flexible template statistics.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Description of template type.</text>
    </description>
  </typedef>
  <typedef name="nsm-tal-type">
    <type name="enumeration">
      <enum name="mpls">
        <value value="1"/>
        <description>
          <text>MPLS.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Description of tal type.</text>
    </description>
  </typedef>
  <typedef name="nsm-pkt-type">
    <type name="enumeration">
      <enum name="ipv4">
        <value value="1"/>
        <description>
          <text>IPv4 packet.</text>
        </description>
      </enum>
      <enum name="mpls">
        <value value="2"/>
        <description>
          <text>MPLS packet.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Description of packet.</text>
    </description>
  </typedef>
  <container name="netstream">
    <description>
      <text>Netstream.</text>
    </description>
    <container name="flow-instances">
      <description>
        <text>List of configure global instance.</text>
      </description>
      <list name="flow-instance">
        <key value="flow-type"/>
        <description>
          <text>Configure global instance.</text>
        </description>
        <ext:generated-by value="system">
          <description>
            <text>The all instances are generated by system automatically.</text>
          </description>
        </ext:generated-by>
        <ext:operation-exclude value="create|delete">
          <description>
            <text>The all instances cannot be created or deleted.</text>
          </description>
        </ext:operation-exclude>
        <leaf name="flow-type">
          <type name="nsm-flow-type"/>
          <description>
            <text>Flow type.</text>
          </description>
        </leaf>
        <leaf name="source-ipv4-address">
          <type name="inet:ipv4-address-no-zone"/>
          <description>
            <text>Source IPv4 address.</text>
          </description>
        </leaf>
        <leaf name="source-ipv4-port">
          <when condition="not(not(../source-ipv4-address))"/>
          <type name="uint16">
            <range value="1..65535"/>
          </type>
          <default value="40000"/>
          <description>
            <text>Source IPv4 port.</text>
          </description>
        </leaf>
        <leaf name="source-ipv6-address">
          <type name="inet:ipv6-address-no-zone"/>
          <description>
            <text>Source IPv6 address.</text>
          </description>
        </leaf>
        <leaf name="source-ipv6-port">
          <when condition="not(not(../source-ipv6-address))"/>
          <type name="uint16">
            <range value="1..65535"/>
          </type>
          <default value="40000"/>
          <description>
            <text>Source IPv6 port.</text>
          </description>
        </leaf>
        <leaf name="export-version">
          <type name="nsm-origin-version"/>
          <must condition="(../flow-type='ipv6-flow' and (../export-version='9' or ../export-version='ipfix') ) or ((not(../flow-type='ipv6-flow') and (../export-version='5' or ../export-version='9' or ../export-version='ipfix') ))"/>
          <description>
            <text>Version of NetStream statistics packets. The value of IPv4 can be 5,9 or ipfix, the value of IPv6 can be 9 or ipfix.</text>
          </description>
        </leaf>
        <leaf name="as-type">
          <type name="nsm-as-type"/>
          <must condition="../as-type='invalid-as' or (../as-type!='invalid-as' and ../flow-type='ip-flow')"/>
          <default value="invalid-as"/>
          <description>
            <text>AS number of a specified IP address. The available options are origin-as (start AS number) and peer-as (adjacent AS number).</text>
          </description>
        </leaf>
        <leaf name="bgp-nexthop">
          <type name="nsm-enable"/>
          <must condition="(../export-version and ../export-version != '5' and ../bgp-nexthop= 'true') or ../bgp-nexthop = 'false'"/>
          <default value="false"/>
          <description>
            <text>Whether exported statistics contain BGP next hop information. Version 5 does not support BGP next hop.</text>
          </description>
        </leaf>
        <leaf name="template-timeout-rate">
          <type name="uint16">
            <range value="1..3600"/>
          </type>
          <units name="min"/>
          <default value="30"/>
          <description>
            <text>The interval for refreshing the template.</text>
          </description>
        </leaf>
        <leaf name="option-template-timeout-rate">
          <type name="uint16">
            <range value="1..3600"/>
          </type>
          <units name="min"/>
          <default value="30"/>
          <description>
            <text>Interval for refreshing the Option template.</text>
          </description>
        </leaf>
        <leaf name="option-template-refresh-rate">
          <type name="uint16">
            <range value="1..600"/>
          </type>
          <units name="packet"/>
          <default value="20"/>
          <description>
            <text>Packet-interval refreshing time of the option template.</text>
          </description>
        </leaf>
        <leaf name="option-data-timeout-rate">
          <type name="uint16">
            <range value="1..16"/>
          </type>
          <units name="min"/>
          <default value="16"/>
          <description>
            <text>Interval for refreshing the option data.</text>
          </description>
        </leaf>
        <choice name="agg-active-age">
          <default value="minutes"/>
          <description>
            <text>Specify the active aging time of aggregation flows.</text>
          </description>
          <case name="minutes">
            <description>
              <text>Specify the active aging time (mins) of aggregation flows.</text>
            </description>
            <leaf name="agg-active-age-minutes">
              <type name="uint32">
                <range value="1..60"/>
              </type>
              <units name="min"/>
              <default value="5"/>
              <description>
                <text>Specify the active aging time (mins) of aggregation flows.</text>
              </description>
            </leaf>
          </case>
          <case name="seconds">
            <description>
              <text>Specify the active aging time (secs) of aggregation flows.</text>
            </description>
            <leaf name="agg-active-age-seconds">
              <type name="uint8">
                <range value="15..59"/>
              </type>
              <units name="s"/>
              <description>
                <text>Specify the active aging time (secs) of aggregation flows.</text>
              </description>
            </leaf>
          </case>
        </choice>
        <leaf name="agg-inactive-age-seconds">
          <type name="uint32">
            <range value="5..600"/>
          </type>
          <units name="s"/>
          <default value="300"/>
          <description>
            <text>Inactive aging time of aggregation flows.</text>
          </description>
        </leaf>
        <choice name="origin-active-age">
          <default value="minutes"/>
          <description>
            <text>Active aging time of original flows.</text>
          </description>
          <case name="minutes">
            <description>
              <text>Active aging time (mins) of original flows.</text>
            </description>
            <leaf name="origin-active-age-minutes">
              <type name="uint32">
                <range value="1..60"/>
              </type>
              <units name="min"/>
              <default value="30"/>
              <description>
                <text>Active aging time (mins) of original flows.</text>
              </description>
            </leaf>
          </case>
          <case name="seconds">
            <description>
              <text>Active aging time (secs) of original flows.</text>
            </description>
            <leaf name="origin-active-age-seconds">
              <type name="uint8">
                <range value="15..59"/>
              </type>
              <units name="s"/>
              <description>
                <text>Active aging time (secs) of original flows.</text>
              </description>
            </leaf>
          </case>
        </choice>
        <leaf name="origin-inactive-seconds">
          <type name="uint32">
            <range value="5..600"/>
          </type>
          <units name="s"/>
          <default value="30"/>
          <description>
            <text>Inactive aging time of original flows.</text>
          </description>
        </leaf>
        <leaf name="as-mode">
          <type name="nsm-as-mode-index"/>
          <default value="16"/>
          <description>
            <text>Mode supported by ASs.</text>
          </description>
        </leaf>
        <leaf name="index-switch">
          <type name="nsm-as-mode-index"/>
          <default value="16"/>
          <description>
            <text>NetStream interface index.</text>
          </description>
        </leaf>
        <leaf name="tcpflag-enable">
          <type name="nsm-enable"/>
          <default value="false"/>
          <description>
            <text>Whether tcp-flag information is extracted during the processing of sampling packets.</text>
          </description>
        </leaf>
        <leaf name="mpls-aware-enable">
          <type name="nsm-mpls-aware"/>
          <default value="ip-only"/>
          <description>
            <text>Whether Layer 3 labels are extracted during the processing of sampling packets. The default value is ip-only, that is, not to extract the label.label-only indicates that only the label is extracted; label-and-ip indicates that both the label and IP address are extracted.</text>
          </description>
        </leaf>
        <leaf name="interface-option-enable">
          <type name="nsm-enable"/>
          <default value="false"/>
          <description>
            <text>Flow of statistics about interface options, including the interface index for enabling NetStream in inbound direction or outbound direction, and corresponding sampling values.</text>
          </description>
        </leaf>
        <leaf name="ttl-flag">
          <type name="nsm-enable"/>
          <must condition="(../export-version and ../export-version != '5' and ../ttl-flag= 'true') or ../ttl-flag = 'false'"/>
          <default value="false"/>
          <description>
            <text>Whether exported statistics contain TTL information.</text>
          </description>
        </leaf>
        <leaf name="sequence-number-fix">
          <type name="nsm-enable"/>
          <default value="false"/>
          <description>
            <text>Whether the numbering mode of IPFIX version packet is fixed mode.</text>
          </description>
        </leaf>
        <leaf name="srv6-aware">
          <type name="nsm-srv6-aware"/>
          <must condition="../flow-type='ipv6-flow'"/>
          <description>
            <text>Whether collect inner layer header of SRv6 packet.</text>
          </description>
        </leaf>
        <container name="sampler-rates">
          <description>
            <text>List of configure global sampler instance.</text>
          </description>
          <list name="sampler-rate">
            <key value="direction"/>
            <description>
              <text>Configure global sampler instance.</text>
            </description>
            <leaf name="direction">
              <type name="nsm-direction"/>
              <description>
                <text>Sampler direction.</text>
              </description>
            </leaf>
            <choice name="sampler-type">
              <mandatory value="true"/>
              <description>
                <text>Sampler type.</text>
              </description>
              <case name="fix-packets">
                <description>
                  <text>Fix-pack value.</text>
                </description>
                <leaf name="fix-packets-value">
                  <type name="uint32">
                    <range value="1..65535"/>
                  </type>
                  <description>
                    <text>Fix-pack value.</text>
                  </description>
                </leaf>
              </case>
              <case name="fix-time">
                <description>
                  <text>Fix-time value.</text>
                </description>
                <leaf name="fix-time-value">
                  <type name="uint32">
                    <range value="5..30000"/>
                  </type>
                  <description>
                    <text>Fix-time value.</text>
                  </description>
                </leaf>
              </case>
              <case name="random-packets">
                <description>
                  <text>Random-pack value.</text>
                </description>
                <leaf name="random-packets-value">
                  <type name="uint32">
                    <range value="1..65535"/>
                  </type>
                  <description>
                    <text>Random-pack value.</text>
                  </description>
                </leaf>
              </case>
            </choice>
          </list>
        </container>
        <container name="export-ipv4-hosts">
          <description>
            <text>List of configure export vpn destination IPv4 address instance.</text>
          </description>
          <list name="export-ipv4-host">
            <key value="address port vpn-name"/>
            <max-elements value="8"/>
            <description>
              <text>Configure export vpn destination IPv4 address instance.</text>
            </description>
            <leaf name="address">
              <type name="inet:ipv4-address-no-zone"/>
              <description>
                <text>Exported destination IPv4 address.</text>
              </description>
            </leaf>
            <leaf name="port">
              <type name="uint16">
                <range value="1..65535"/>
              </type>
              <description>
                <text>UDP port number of the NSC.</text>
              </description>
            </leaf>
            <leaf name="vpn-name">
              <type name="leafref">
                <path value="/ni:network-instance/ni:instances/ni:instance/ni:name"/>
              </type>
              <must condition="/ni:network-instance/ni:instances/ni:instance[ni:name=current()]/l3vpn:afs/l3vpn:af[l3vpn:type='ipv4-unicast']"/>
              <description>
                <text>Vpn instance name.</text>
              </description>
            </leaf>
            <leaf name="dscp-value">
              <type name="uint8">
                <range value="1..63"/>
              </type>
              <description>
                <text>Differentiated Services Code Point.</text>
              </description>
            </leaf>
          </list>
        </container>
      </list>
    </container>
    <container name="aggregations">
      <description>
        <text>List of configure aggregation instance.</text>
      </description>
      <list name="aggregation">
        <must condition="./flow-type='ip-flow' or ((./flow-type='ipv6-flow') and (./agg-type!='bgp-community' and ./agg-type!='source-index-tos' and ./agg-type!='vni-sip-dip'))"/>
        <key value="flow-type agg-type"/>
        <description>
          <text>Configure aggregation instance.</text>
        </description>
        <leaf name="flow-type">
          <type name="nsm-flow-type"/>
          <description>
            <text>Flow type.</text>
          </description>
        </leaf>
        <leaf name="agg-type">
          <type name="nsm-agg-type"/>
          <description>
            <text>Aggregation type.</text>
          </description>
        </leaf>
        <leaf name="agg-enable">
          <type name="nsm-enable"/>
          <default value="false"/>
          <description>
            <text>Aggregation enabling flag.</text>
          </description>
        </leaf>
      </list>
    </container>
    <container name="monitors">
      <description>
        <text>List of configure monitor instance.</text>
      </description>
      <list name="monitor">
        <key value="flow-type monitor-name"/>
        <description>
          <text>Configure monitor instance.</text>
        </description>
        <leaf name="flow-type">
          <type name="nsm-flow-type"/>
          <description>
            <text>Flow type.</text>
          </description>
        </leaf>
        <leaf name="monitor-name">
          <type name="string">
            <length value="1..31"/>
          </type>
          <description>
            <text>Monitor name.</text>
          </description>
        </leaf>
      </list>
    </container>
    <container name="flexflow-records">
      <description>
        <text>List of configure flexible flow instance.</text>
      </description>
      <list name="flexflow-record">
        <key value="flow-type record-name"/>
        <description>
          <text>Configure flexible flow instance.</text>
        </description>
        <leaf name="flow-type">
          <type name="nsm-flow-type"/>
          <description>
            <text>Flow type.</text>
          </description>
        </leaf>
        <leaf name="record-name">
          <type name="string">
            <length value="1..32"/>
            <pattern value="[a-zA-Z0-9._]{1,32}"/>
          </type>
          <description>
            <text>Flexible flow record name.</text>
          </description>
        </leaf>
        <leaf name="source-address">
          <type name="nsm-enable"/>
          <default value="false"/>
          <description>
            <text>Indicates the aggregation based on source addresses.</text>
          </description>
        </leaf>
        <leaf name="source-as">
          <type name="nsm-enable"/>
          <default value="false"/>
          <description>
            <text>Indicates that the statistics to be sent to the NSC contain source AS information.</text>
          </description>
        </leaf>
      </list>
    </container>
    <container name="sampler-rate-lower-limits">
      <config value="false"/>
      <description>
        <text>List of sampler rate lower-limits state.</text>
      </description>
      <list name="sampler-rate-lower-limit">
        <key value="slot-id"/>
        <description>
          <text>Sampler rate lower-limit state.</text>
        </description>
        <leaf name="slot-id">
          <type name="string">
            <length value="1..16"/>
          </type>
          <description>
            <text>Slot id.</text>
          </description>
        </leaf>
        <leaf name="fix-packets-lower-limit">
          <type name="uint32"/>
          <description>
            <text>Lower limit for fixed-packet-number-based sampling ratio.</text>
          </description>
        </leaf>
        <leaf name="fix-time-lower-limit">
          <type name="uint32"/>
          <description>
            <text>Lower limit for fixed-time-based sampling ratio.</text>
          </description>
        </leaf>
        <leaf name="random-packets-lower-limit">
          <type name="uint32"/>
          <description>
            <text>Lower limit for random-packet-number-based sampling ratio.</text>
          </description>
        </leaf>
      </list>
    </container>
    <container name="template-export-statistics">
      <config value="false"/>
      <description>
        <text>List of NSM statistics state.</text>
      </description>
      <list name="template-export-statistic">
        <key value="flow-type statistic-type export-type export-key"/>
        <description>
          <text>NSM statistics state.</text>
        </description>
        <leaf name="flow-type">
          <type name="nsm-flow-type"/>
          <description>
            <text>Flow type.</text>
          </description>
        </leaf>
        <leaf name="statistic-type">
          <type name="nsm-statistic-type"/>
          <description>
            <text>Statistics type.</text>
          </description>
        </leaf>
        <leaf name="export-type">
          <type name="nsm-template-type"/>
          <description>
            <text>Export type.</text>
          </description>
        </leaf>
        <leaf name="export-key">
          <type name="string">
            <length value="1..56"/>
          </type>
          <description>
            <text>Export keyword.</text>
          </description>
        </leaf>
        <leaf name="success-num">
          <type name="uint32"/>
          <description>
            <text>Success times of exporting packets or templates.</text>
          </description>
        </leaf>
        <leaf name="failed-num">
          <type name="uint32"/>
          <description>
            <text>Failure times of exporting packets or templates.</text>
          </description>
        </leaf>
      </list>
    </container>
    <container name="option-application-labels">
      <description>
        <text>Configure label list.</text>
      </description>
      <leaf name="tal-enable">
        <type name="nsm-enable"/>
        <default value="false"/>
        <description>
          <text>TAL enabling flag.</text>
        </description>
      </leaf>
      <container name="tal-infos">
        <config value="false"/>
        <description>
          <text>List of label information state.</text>
        </description>
        <list name="tal-info">
          <key value="tal-type ip-address"/>
          <description>
            <text>Label information state.</text>
          </description>
          <leaf name="tal-type">
            <type name="nsm-tal-type"/>
            <description>
              <text>Label type.</text>
            </description>
          </leaf>
          <leaf name="ip-address">
            <type name="inet:ipv4-address-no-zone"/>
            <description>
              <text>IP address or address segment of the endpoint of an LSP.</text>
            </description>
          </leaf>
          <leaf name="total-num">
            <type name="uint32"/>
            <description>
              <text>Number of MPLS public TALs.</text>
            </description>
          </leaf>
          <leaf name="router-id">
            <type name="inet:ipv4-address-no-zone"/>
            <description>
              <text>Router ID.</text>
            </description>
          </leaf>
          <leaf name="create-time">
            <type name="yang:date-and-time"/>
            <description>
              <text>Application creating time.</text>
            </description>
          </leaf>
        </list>
      </container>
    </container>
    <container name="stream-infos">
      <config value="false"/>
      <description>
        <text>List of flow information.</text>
      </description>
      <list name="stream-info">
        <description>
          <text>Statistics of flow information.</text>
        </description>
        <leaf name="slot-id">
          <ext:support-filter value="true"/>
          <type name="string">
            <length value="1..32"/>
          </type>
          <description>
            <text>The available slot.</text>
          </description>
        </leaf>
        <leaf name="source-ipv4-address">
          <ext:support-filter value="true"/>
          <type name="inet:ipv4-address-no-zone"/>
          <description>
            <text>IP source address.</text>
          </description>
        </leaf>
        <leaf name="destination-ipv4-address">
          <ext:support-filter value="true"/>
          <type name="inet:ipv4-address-no-zone"/>
          <description>
            <text>IP destination address.</text>
          </description>
        </leaf>
        <leaf name="source-port">
          <ext:support-filter value="true"/>
          <type name="uint16"/>
          <description>
            <text>Source port.</text>
          </description>
        </leaf>
        <leaf name="destination-port">
          <ext:support-filter value="true"/>
          <type name="uint16"/>
          <description>
            <text>Destination port.</text>
          </description>
        </leaf>
        <leaf name="protocol">
          <ext:support-filter value="true"/>
          <type name="uint8"/>
          <description>
            <text>Specifies a protocol.</text>
          </description>
        </leaf>
        <leaf name="interface-name">
          <ext:support-filter value="true"/>
          <type name="pub-type:if-name"/>
          <description>
            <text>The name of interface config netstream.</text>
          </description>
        </leaf>
        <leaf name="packet-type">
          <ext:support-filter value="true"/>
          <type name="nsm-pkt-type"/>
          <description>
            <text>Packet type.</text>
          </description>
        </leaf>
        <leaf name="start-time">
          <type name="yang:date-and-time"/>
          <description>
            <text>Start time.</text>
          </description>
        </leaf>
        <leaf name="end-time">
          <type name="yang:date-and-time"/>
          <description>
            <text>End time.</text>
          </description>
        </leaf>
        <leaf name="direction">
          <type name="nsm-direction"/>
          <description>
            <text>Direction.</text>
          </description>
        </leaf>
        <leaf name="packet-bytes">
          <type name="uint32"/>
          <description>
            <text>Average packet length.</text>
          </description>
        </leaf>
        <leaf name="tos">
          <type name="uint8"/>
          <description>
            <text>IP tos.</text>
          </description>
        </leaf>
        <leaf name="ttl">
          <type name="uint16"/>
          <description>
            <text>IPv4 TTL.</text>
          </description>
        </leaf>
        <leaf name="tcp-flag">
          <type name="uint8"/>
          <description>
            <text>TCP flag.</text>
          </description>
        </leaf>
        <leaf name="vni-id">
          <type name="uint32"/>
          <description>
            <text>Vni ID.</text>
          </description>
        </leaf>
        <leaf name="vlan-id">
          <type name="uint16"/>
          <description>
            <text>VLAN ID.</text>
          </description>
        </leaf>
        <leaf name="mpls-label1">
          <type name="uint32"/>
          <description>
            <text>MPLS label.</text>
          </description>
        </leaf>
        <leaf name="mpls-exp1">
          <type name="uint8"/>
          <description>
            <text>MPLS exp.</text>
          </description>
        </leaf>
        <leaf name="mpls-bottom1">
          <type name="uint8"/>
          <description>
            <text>MPLS bottom.</text>
          </description>
        </leaf>
        <leaf name="mpls-label2">
          <type name="uint32"/>
          <description>
            <text>MPLS label.</text>
          </description>
        </leaf>
        <leaf name="mpls-exp2">
          <type name="uint8"/>
          <description>
            <text>MPLS exp.</text>
          </description>
        </leaf>
        <leaf name="mpls-bottom2">
          <type name="uint8"/>
          <description>
            <text>MPLS bottom.</text>
          </description>
        </leaf>
        <leaf name="mpls-label3">
          <type name="uint32"/>
          <description>
            <text>MPLS label.</text>
          </description>
        </leaf>
        <leaf name="mpls-exp3">
          <type name="uint8"/>
          <description>
            <text>MPLS exp.</text>
          </description>
        </leaf>
        <leaf name="mpls-bottom3">
          <type name="uint8"/>
          <description>
            <text>MPLS bottom.</text>
          </description>
        </leaf>
      </list>
    </container>
    <container name="stream-log-infos">
      <config value="false"/>
      <description>
        <text>List of flow log information.</text>
      </description>
      <list name="stream-log-info">
        <description>
          <text>Statistics of flow log information.</text>
        </description>
        <leaf name="source-ipv4-address">
          <ext:support-filter value="true"/>
          <type name="inet:ipv4-address-no-zone"/>
          <description>
            <text>IP source address.</text>
          </description>
        </leaf>
        <leaf name="destination-ipv4-address">
          <ext:support-filter value="true"/>
          <type name="inet:ipv4-address-no-zone"/>
          <description>
            <text>IP destination address.</text>
          </description>
        </leaf>
        <leaf name="source-port">
          <ext:support-filter value="true"/>
          <type name="uint16"/>
          <description>
            <text>Source port.</text>
          </description>
        </leaf>
        <leaf name="destination-port">
          <ext:support-filter value="true"/>
          <type name="uint16"/>
          <description>
            <text>Destination port.</text>
          </description>
        </leaf>
        <leaf name="protocol">
          <ext:support-filter value="true"/>
          <type name="uint8"/>
          <description>
            <text>Specifies a protocol.</text>
          </description>
        </leaf>
        <leaf name="interface-name">
          <ext:support-filter value="true"/>
          <type name="pub-type:if-name"/>
          <description>
            <text>The name of interface config netstream.</text>
          </description>
        </leaf>
        <leaf name="packet-type">
          <ext:support-filter value="true"/>
          <type name="nsm-pkt-type"/>
          <description>
            <text>Packet type.</text>
          </description>
        </leaf>
        <leaf name="start-time">
          <type name="yang:date-and-time"/>
          <description>
            <text>Start time.</text>
          </description>
        </leaf>
        <leaf name="end-time">
          <type name="yang:date-and-time"/>
          <description>
            <text>End time.</text>
          </description>
        </leaf>
        <leaf name="direction">
          <type name="nsm-direction"/>
          <description>
            <text>Direction.</text>
          </description>
        </leaf>
        <leaf name="packet-bytes">
          <type name="uint32"/>
          <description>
            <text>Average packet length.</text>
          </description>
        </leaf>
        <leaf name="tos">
          <type name="uint8"/>
          <description>
            <text>IP tos.</text>
          </description>
        </leaf>
        <leaf name="ttl">
          <type name="uint16"/>
          <description>
            <text>IPv4 TTL.</text>
          </description>
        </leaf>
        <leaf name="tcp-flag">
          <type name="uint8"/>
          <description>
            <text>TCP flag.</text>
          </description>
        </leaf>
        <leaf name="vni-id">
          <type name="uint32"/>
          <description>
            <text>Vni ID.</text>
          </description>
        </leaf>
        <leaf name="vlan-id">
          <type name="uint16"/>
          <description>
            <text>VLAN ID.</text>
          </description>
        </leaf>
        <leaf name="mpls-label1">
          <type name="uint32"/>
          <description>
            <text>MPLS label.</text>
          </description>
        </leaf>
        <leaf name="mpls-exp1">
          <type name="uint8"/>
          <description>
            <text>MPLS exp.</text>
          </description>
        </leaf>
        <leaf name="mpls-bottom1">
          <type name="uint8"/>
          <description>
            <text>MPLS bottom.</text>
          </description>
        </leaf>
        <leaf name="mpls-label2">
          <type name="uint32"/>
          <description>
            <text>MPLS label.</text>
          </description>
        </leaf>
        <leaf name="mpls-exp2">
          <type name="uint8"/>
          <description>
            <text>MPLS exp.</text>
          </description>
        </leaf>
        <leaf name="mpls-bottom2">
          <type name="uint8"/>
          <description>
            <text>MPLS bottom.</text>
          </description>
        </leaf>
        <leaf name="mpls-label3">
          <type name="uint32"/>
          <description>
            <text>MPLS label.</text>
          </description>
        </leaf>
        <leaf name="mpls-exp3">
          <type name="uint8"/>
          <description>
            <text>MPLS exp.</text>
          </description>
        </leaf>
        <leaf name="mpls-bottom3">
          <type name="uint8"/>
          <description>
            <text>MPLS bottom.</text>
          </description>
        </leaf>
      </list>
    </container>
  </container>
  <augment target-node="/devm:devm/devm:lpu-boards/devm:lpu-board">
    <description>
      <text>Add netstream configuration to devm slot model.</text>
    </description>
    <container name="netstream">
      <description>
        <text>Configure netstream.</text>
      </description>
      <container name="sampler-modes">
        <description>
          <text>List of configure slot instance.</text>
        </description>
        <list name="sampler-mode">
          <key value="flow-type sampler-mode"/>
          <description>
            <text>Configure slot instance.</text>
          </description>
          <leaf name="flow-type">
            <type name="nsm-flow-type"/>
            <description>
              <text>Flow type.</text>
            </description>
          </leaf>
          <leaf name="sampler-mode">
            <type name="nsm-destination-board"/>
            <description>
              <text>Type of a sampled board.</text>
            </description>
          </leaf>
          <leaf name="dest-slot">
            <when condition="not(../sampler-mode='self')"/>
            <type name="leafref">
              <path value="/devm:devm/devm:lpu-boards/devm:lpu-board/devm:position"/>
            </type>
            <must condition="../../../../devm:position != ../dest-slot"/>
            <mandatory value="true"/>
            <description>
              <text>Destination slot name. For example, board 3 is input as 0/3.</text>
            </description>
          </leaf>
        </list>
      </container>
    </container>
  </augment>
  <augment target-node="/devm:devm/devm:mpu-boards/devm:mpu-board">
    <description>
      <text>Add netstream configuration to devm slot model.</text>
    </description>
    <container name="netstream">
      <description>
        <text>Configure netstream.</text>
      </description>
      <container name="sampler-modes">
        <description>
          <text>List of configure slot instance.</text>
        </description>
        <list name="sampler-mode">
          <key value="flow-type sampler-mode"/>
          <description>
            <text>Configure slot instance.</text>
          </description>
          <leaf name="flow-type">
            <type name="nsm-flow-type"/>
            <description>
              <text>Flow type.</text>
            </description>
          </leaf>
          <leaf name="sampler-mode">
            <type name="nsm-destination-board"/>
            <description>
              <text>Type of a sampled board.</text>
            </description>
          </leaf>
        </list>
      </container>
    </container>
  </augment>
  <augment target-node="/ifm:ifm/ifm:interfaces/ifm:interface">
    <description>
      <text>Add interface configuration to ifm interface model.</text>
    </description>
    <container name="netstream">
      <description>
        <text>Configure netstream interface.</text>
      </description>
      <container name="sampler-enables">
        <description>
          <text>List of configure interface sampling instance.</text>
        </description>
        <list name="sampler-enable">
          <key value="flow-type direction"/>
          <description>
            <text>Configure interface sampling instance.</text>
          </description>
          <leaf name="flow-type">
            <type name="nsm-flow-type"/>
            <description>
              <text>Flow type.</text>
            </description>
          </leaf>
          <leaf name="direction">
            <type name="nsm-direction"/>
            <description>
              <text>Sampler direction.</text>
            </description>
          </leaf>
        </list>
      </container>
      <container name="sampler-rates">
        <description>
          <text>List of Configure interface sampler instance.</text>
        </description>
        <list name="sampler-rate">
          <key value="flow-type direction"/>
          <description>
            <text>Configure interface sampler instance.</text>
          </description>
          <leaf name="flow-type">
            <type name="nsm-flow-type"/>
            <description>
              <text>Flow type.</text>
            </description>
          </leaf>
          <leaf name="direction">
            <type name="nsm-direction"/>
            <description>
              <text>Sampler direction.</text>
            </description>
          </leaf>
          <choice name="sampler-type">
            <mandatory value="true"/>
            <description>
              <text>Sampler type.</text>
            </description>
            <case name="fix-packets">
              <description>
                <text>Fix packets value.</text>
              </description>
              <leaf name="fix-packets-value">
                <type name="uint32">
                  <range value="1..65535"/>
                </type>
                <description>
                  <text>Fix packets value.</text>
                </description>
              </leaf>
            </case>
            <case name="fix-time">
              <description>
                <text>Fix time value.</text>
              </description>
              <leaf name="fix-time-value">
                <type name="uint32">
                  <range value="5..30000"/>
                </type>
                <description>
                  <text>Fix time value.</text>
                </description>
              </leaf>
            </case>
            <case name="random-packets">
              <description>
                <text>Random packets value.</text>
              </description>
              <leaf name="random-packets-value">
                <type name="uint32">
                  <range value="1..65535"/>
                </type>
                <description>
                  <text>Random packets value.</text>
                </description>
              </leaf>
            </case>
          </choice>
        </list>
      </container>
    </container>
  </augment>
</module>
