<?xml version="1.0" encoding="UTF-8"?>
<module name="huawei-dcn"
        xmlns="urn:ietf:params:xml:ns:yang:yin:1"
        xmlns:dcn="urn:huawei:yang:huawei-dcn"
        xmlns:ext="urn:huawei:yang:huawei-extension"
        xmlns:pub-type="urn:huawei:yang:huawei-pub-type"
        xmlns:ifm="urn:huawei:yang:huawei-ifm"
        xmlns:ni="urn:huawei:yang:huawei-network-instance"
        xmlns:inet="urn:ietf:params:xml:ns:yang:ietf-inet-types"
        xmlns:ssl="urn:huawei:yang:huawei-ssl"
        xmlns:vaccess="urn:huawei:yang:huawei-vaccess"
        xmlns:vaccess-master="urn:huawei:yang:huawei-vaccess-master"
        xmlns:rtp="urn:huawei:yang:huawei-routing-policy"
        xmlns:l3vpn="urn:huawei:yang:huawei-l3vpn"
        xmlns:isis="urn:huawei:yang:huawei-isis"
        xmlns:ospfv2="urn:huawei:yang:huawei-ospfv2"
        xmlns:bgp="urn:huawei:yang:huawei-bgp">
  <yang-version value="1"/>
  <namespace uri="urn:huawei:yang:huawei-dcn"/>
  <prefix value="dcn"/>
  <import module="huawei-extension">
    <prefix value="ext"/>
  </import>
  <import module="huawei-pub-type">
    <prefix value="pub-type"/>
  </import>
  <import module="huawei-ifm">
    <prefix value="ifm"/>
  </import>
  <import module="huawei-network-instance">
    <prefix value="ni"/>
  </import>
  <import module="ietf-inet-types">
    <prefix value="inet"/>
  </import>
  <import module="huawei-ssl">
    <prefix value="ssl"/>
  </import>
  <import module="huawei-vaccess">
    <prefix value="vaccess"/>
  </import>
  <import module="huawei-vaccess-master">
    <prefix value="vaccess-master"/>
  </import>
  <import module="huawei-routing-policy">
    <prefix value="rtp"/>
  </import>
  <import module="huawei-l3vpn">
    <prefix value="l3vpn"/>
  </import>
  <import module="huawei-isis">
    <prefix value="isis"/>
  </import>
  <import module="huawei-ospfv2">
    <prefix value="ospfv2"/>
  </import>
  <import module="huawei-bgp">
    <prefix value="bgp"/>
  </import>
  <organization>
    <text>Huawei Technologies Co., Ltd.</text>
  </organization>
  <contact>
    <text>Huawei Industrial Base
Bantian, Longgang
Shenzhen 518129
People's Republic of China
Website: http://www.huawei.com
Email: support@huawei.com</text>
  </contact>
  <description>
    <text>Data communication network.</text>
  </description>
  <revision date="2021-09-10">
    <description>
      <text>Added DCN VLAN, dcn ospf area, some DCN and QX parameters, core-routing, transparent, vaccess import routing.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2020-09-23">
    <description>
      <text>Added the DCN and TC DCN functions for interfaces.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2020-07-16">
    <description>
      <text>Init revision.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <ext:task-name value="dcn"/>
  <typedef name="connect-type">
    <type name="enumeration">
      <enum name="all">
        <value value="0"/>
        <description>
          <text>Both ssl and normal connection mode.</text>
        </description>
      </enum>
      <enum name="ssl">
        <value value="1"/>
        <description>
          <text>The secure connection mode.</text>
        </description>
      </enum>
      <enum name="normal">
        <value value="2"/>
        <description>
          <text>The ordinary connection mode.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>The connection mode between a GNE and the NMS.</text>
    </description>
  </typedef>
  <typedef name="verify-mode-type">
    <type name="enumeration">
      <enum name="dual">
        <value value="3"/>
        <description>
          <text>Dual verify mode.</text>
        </description>
      </enum>
      <enum name="single">
        <value value="1"/>
        <description>
          <text>Single verify mode.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>The verify mode type.</text>
    </description>
  </typedef>
  <typedef name="level-type">
    <type name="enumeration">
      <enum name="level-2">
        <value value="0"/>
        <description>
          <text>Level 2.</text>
        </description>
      </enum>
      <enum name="level-1">
        <value value="1"/>
        <description>
          <text>Level 1.</text>
        </description>
      </enum>
      <enum name="level-1-2">
        <value value="2"/>
        <description>
          <text>Level 1 and 2.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>The level type.</text>
    </description>
  </typedef>
  <typedef name="admin-ip-import-protocol">
    <type name="enumeration">
      <enum name="ospf">
        <value value="2"/>
        <description>
          <text>Import OSPF routes.</text>
        </description>
      </enum>
      <enum name="isis">
        <value value="3"/>
        <description>
          <text>Import ISIS routes.</text>
        </description>
      </enum>
      <enum name="bgp">
        <value value="6"/>
        <description>
          <text>Import BGP routes.</text>
        </description>
      </enum>
      <enum name="public">
        <value value="15"/>
        <description>
          <text>Import public routes.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Import admin-ip protocol type.</text>
    </description>
  </typedef>
  <typedef name="dcn-ospf-import-protocol">
    <type name="enumeration">
      <enum name="direct">
        <value value="1"/>
        <description>
          <text>Import direct routes.</text>
        </description>
      </enum>
      <enum name="ospf">
        <value value="2"/>
        <description>
          <text>Import OSPF routes.</text>
        </description>
      </enum>
      <enum name="isis">
        <value value="3"/>
        <description>
          <text>Import ISIS routes.</text>
        </description>
      </enum>
      <enum name="static">
        <value value="4"/>
        <description>
          <text>Import static routes.</text>
        </description>
      </enum>
      <enum name="bgp">
        <value value="6"/>
        <description>
          <text>Import BGP routes.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Import dcn-ospf protocol type.</text>
    </description>
  </typedef>
  <typedef name="dcn-login-mode">
    <type name="enumeration">
      <enum name="unknown">
        <value value="0"/>
        <description>
          <text>Unknown login mode.</text>
        </description>
      </enum>
      <enum name="ip">
        <value value="1"/>
        <description>
          <text>IP login mode.</text>
        </description>
      </enum>
      <enum name="transmission">
        <value value="2"/>
        <description>
          <text>Transmission login mode.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Login mode of the ne.</text>
    </description>
  </typedef>
  <typedef name="pnp-state">
    <type name="enumeration">
      <enum name="init">
        <value value="0"/>
        <description>
          <text>Init.</text>
        </description>
      </enum>
      <enum name="start">
        <value value="1"/>
        <description>
          <text>Start.</text>
        </description>
      </enum>
      <enum name="finish">
        <value value="2"/>
        <description>
          <text>Finished.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>The PNP state.</text>
    </description>
  </typedef>
  <container name="dcn">
    <description>
      <text>Data communication network.</text>
    </description>
    <container name="tc-dcn-auth">
      <description>
        <text>Configure TC DCN authentication key.</text>
      </description>
      <leaf name="tc-auth-key">
        <type name="pub-type:password-extend">
          <length value="8..16 | 32 | 48 | 108..128"/>
        </type>
        <description>
          <text>Telecom DCN authentication key.
The character string in a password identifies the contents of the password, spaces not supported.
If a plaintext is used, the password is a string of 8 to 16 characters.
If a ciphertext is used, the password is a string of 32, 48, or 108 to 128 characters.</text>
        </description>
      </leaf>
    </container>
    <container name="site">
      <must condition="(./ne-ip and ./mask-length) or (not (./ne-ip) and not (./mask-length))"/>
      <description>
        <text>Configure data communication network.</text>
      </description>
      <leaf name="enable">
        <type name="boolean"/>
        <default value="true"/>
        <description>
          <text>Enable/disable DCN.</text>
        </description>
      </leaf>
      <leaf name="ne-id">
        <ext:dynamic-default/>
        <ext:operation-exclude value="create|delete"/>
        <type name="pub-type:hex-binary"/>
        <description>
          <text>Configure the NE identifier.
Neid identify a network element (NE) uniquely.
Neid=subnetid&lt;&lt;16+baseid, in which subnetid varies from 0x01 to 0xfe, and baseid varies from 0x0001 to 0xfffe.
An error is reported if the NE ID conflicts with the NE ID in the core routing table.</text>
        </description>
      </leaf>
      <leaf name="ne-ip">
        <when condition="../enable = 'true'"/>
        <type name="inet:ipv4-address-no-zone"/>
        <description>
          <text>Configure the NE IP address.</text>
        </description>
      </leaf>
      <leaf name="mask-length">
        <when condition="../enable = 'true'"/>
        <type name="uint8">
          <range value="1..32"/>
        </type>
        <description>
          <text>Configure the mask length of the NE IP address.</text>
        </description>
      </leaf>
      <leaf name="effect-ne-ip">
        <when condition="../enable = 'true'"/>
        <type name="inet:ipv4-address-no-zone"/>
        <config value="false"/>
        <description>
          <text>Effective NE IP address.</text>
        </description>
      </leaf>
      <leaf name="effect-mask-length">
        <when condition="../enable = 'true'"/>
        <type name="uint8">
          <range value="1..32"/>
        </type>
        <config value="false"/>
        <description>
          <text>Effective mask length of the NE IP address.</text>
        </description>
      </leaf>
      <leaf name="auto-report">
        <when condition="../enable = 'true'"/>
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable the automatic NE reporting function.</text>
        </description>
      </leaf>
      <leaf name="advertise-ne-ip">
        <when condition="../enable = 'true'"/>
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable the function to advertise the NE IP address.</text>
        </description>
      </leaf>
      <leaf name="eth-bandwidth">
        <when condition="../enable = 'true'"/>
        <ext:dynamic-default/>
        <type name="uint32">
          <range value="64|128|192|256|512|1024|2048"/>
        </type>
        <description>
          <text>Bandwidth of DCN ethernet interface.</text>
        </description>
      </leaf>
      <leaf name="pos-bandwidth">
        <when condition="../enable = 'true'"/>
        <type name="uint32">
          <range value="64|128|192|256|512|1024|2048"/>
        </type>
        <default value="1024"/>
        <description>
          <text>Bandwidth of DCN pos interface.</text>
        </description>
      </leaf>
      <leaf name="serial-bandwidth">
        <when condition="../enable = 'true'"/>
        <type name="uint32">
          <range value="64|128|192|256|512|1024|2048"/>
        </type>
        <default value="192"/>
        <description>
          <text>Bandwidth of DCN serial interface.</text>
        </description>
      </leaf>
      <leaf name="ne-number-threshold">
        <when condition="../enable = 'true'"/>
        <type name="uint32">
          <range value="30..500"/>
        </type>
        <default value="200"/>
        <description>
          <text>The alarm threshold of ne number overload.</text>
        </description>
      </leaf>
      <leaf name="data-priority">
        <type name="uint8">
          <range value="0..5"/>
        </type>
        <default value="3"/>
        <description>
          <text>Data priority.</text>
        </description>
      </leaf>
      <leaf name="qx-enable">
        <ext:dynamic-default/>
        <when condition="../enable = 'true'"/>
        <type name="boolean"/>
        <description>
          <text>Enable/disable the QX protocol.</text>
        </description>
      </leaf>
      <container name="qx">
        <when condition="../qx-enable = 'true'"/>
        <description>
          <text>Configure the QX protocol.</text>
        </description>
        <leaf name="connet-mode">
          <type name="connect-type"/>
          <default value="ssl"/>
          <description>
            <text>Configure the connection mode between a GNE and the NMS.</text>
          </description>
        </leaf>
        <leaf name="server-dtls-policy">
          <type name="leafref">
            <path value="/ssl:ssl/ssl:dtls-policys/ssl:dtls-policy/ssl:policy-name"/>
          </type>
          <description>
            <text>Bind DTLS policy name for server.</text>
          </description>
        </leaf>
        <leaf name="client-dtls-policy">
          <type name="leafref">
            <path value="/ssl:ssl/ssl:dtls-policys/ssl:dtls-policy/ssl:policy-name"/>
          </type>
          <description>
            <text>Bind DTLS policy name for client.</text>
          </description>
        </leaf>
        <leaf name="ssl-verify-ip">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable the function of ssl verify IP.</text>
          </description>
        </leaf>
        <leaf name="ssl-verify-mode">
          <type name="verify-mode-type"/>
          <default value="dual"/>
          <description>
            <text>Enable/disable the function of ssl verify mode.</text>
          </description>
        </leaf>
        <leaf name="ssl-fail-threshold">
          <type name="uint8">
            <range value="1..100"/>
          </type>
          <default value="1"/>
          <description>
            <text>The alarm threshold of ssl fail count.</text>
          </description>
        </leaf>
        <leaf name="bind-ssl-policy">
          <type name="leafref">
            <path value="/ssl:ssl/ssl:ssl-policys/ssl:ssl-policy/ssl:policy-name"/>
          </type>
          <description>
            <text>Bind ssl policy name for QX Communications.</text>
          </description>
        </leaf>
        <leaf name="bind-all-interface">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable the function to bind all interface for QX Communications.</text>
          </description>
        </leaf>
      </container>
      <container name="transparent-interfaces">
        <when condition="../enable = 'true'"/>
        <description>
          <text>List of transparent interfaces.</text>
        </description>
        <list name="transparent-interface">
          <must condition="./source-interface != ./destination-interface "/>
          <key value="source-interface"/>
          <unique tag="destination-interface"/>
          <max-elements value="5"/>
          <description>
            <text>Configure a transparent interface.</text>
          </description>
          <leaf name="source-interface">
            <type name="leafref">
              <path value="/ifm:ifm/ifm:interfaces/ifm:interface/ifm:name"/>
            </type>
            <must condition="/ifm:ifm/ifm:interfaces/ifm:interface[ifm:name = current()]/dcn:dcn/dcn:dcnv4/dcn:enable != 'true'"/>
            <description>
              <text>Transparent source interface name.</text>
            </description>
          </leaf>
          <leaf name="destination-interface">
            <type name="leafref">
              <path value="/ifm:ifm/ifm:interfaces/ifm:interface/ifm:name"/>
            </type>
            <must condition="/ifm:ifm/ifm:interfaces/ifm:interface[ifm:name = current()]/dcn:dcn/dcn:dcnv4/dcn:enable != 'true'"/>
            <mandatory value="true"/>
            <description>
              <text>Transparent destination interface name.</text>
            </description>
          </leaf>
        </list>
      </container>
    </container>
    <container name="core-routings">
      <config value="false"/>
      <description>
        <text>List of the DCN core routing table.</text>
      </description>
      <list name="core-routing">
        <key value="ne-id"/>
        <description>
          <text>Operational data of the DCN core routing table.</text>
        </description>
        <leaf name="ne-id">
          <type name="pub-type:hex-binary"/>
          <description>
            <text>Destination NE ID.</text>
          </description>
        </leaf>
        <leaf name="ne-ip">
          <type name="inet:ipv4-address-no-zone"/>
          <description>
            <text>IP address of an NE.</text>
          </description>
        </leaf>
        <leaf name="distance">
          <type name="uint32"/>
          <description>
            <text>Number of hops of a core route.</text>
          </description>
        </leaf>
        <leaf name="life-cycle">
          <type name="uint8">
            <range value="0..255"/>
          </type>
          <description>
            <text>Lifecycle of a core route.</text>
          </description>
        </leaf>
        <leaf name="login-mode">
          <type name="dcn-login-mode"/>
          <description>
            <text>Login mode of an NE.</text>
          </description>
        </leaf>
        <leaf name="host-name">
          <type name="string">
            <length value="1..256"/>
          </type>
          <description>
            <text>Host name of an NE.</text>
          </description>
        </leaf>
        <leaf name="pnp-state">
          <type name="pnp-state"/>
          <description>
            <text>PNP state of an NE.</text>
          </description>
        </leaf>
        <leaf name="esn">
          <type name="string">
            <length value="1..64"/>
          </type>
          <description>
            <text>ESN name of an NE.</text>
          </description>
        </leaf>
        <container name="nexthops">
          <description>
            <text>List of nexthops.</text>
          </description>
          <list name="nexthop">
            <key value="dcn-if-name"/>
            <description>
              <text>Operational data of nexthop.</text>
            </description>
            <leaf name="dcn-if-name">
              <type name="pub-type:if-name"/>
              <description>
                <text>Outgoing dcn interface name.</text>
              </description>
            </leaf>
            <leaf name="if-name">
              <type name="pub-type:if-name"/>
              <description>
                <text>Outgoing physical interface name.</text>
              </description>
            </leaf>
            <leaf name="nexthop">
              <type name="inet:ipv4-address-no-zone"/>
              <description>
                <text>Nexthop IP address.</text>
              </description>
            </leaf>
          </list>
        </container>
      </list>
    </container>
    <container name="tc-core-routings">
      <config value="false"/>
      <description>
        <text>List of the TC DCN core routing table.</text>
      </description>
      <list name="tc-core-routing">
        <key value="ne-id"/>
        <description>
          <text>Operational data of the TC DCN core routing table.</text>
        </description>
        <leaf name="ne-id">
          <type name="pub-type:hex-binary"/>
          <description>
            <text>Destination NE ID.</text>
          </description>
        </leaf>
        <leaf name="ne-ip">
          <type name="inet:ipv4-address-no-zone"/>
          <description>
            <text>IP address of an NE.</text>
          </description>
        </leaf>
        <leaf name="mac">
          <type name="pub-type:mac-address"/>
          <description>
            <text>MAC address of an NE.</text>
          </description>
        </leaf>
        <leaf name="device-type">
          <type name="string">
            <length value="1..256"/>
          </type>
          <description>
            <text>NE type.</text>
          </description>
        </leaf>
        <leaf name="company-name">
          <type name="string">
            <length value="1..256"/>
          </type>
          <description>
            <text>NE manufacturer.</text>
          </description>
        </leaf>
        <leaf name="ne-ipv6">
          <type name="inet:ipv6-address-no-zone"/>
          <description>
            <text>IPv6 address of an NE.</text>
          </description>
        </leaf>
      </list>
    </container>
  </container>
  <augment target-node="/ifm:ifm/ifm:interfaces/ifm:interface">
    <description>
      <text>DCN interface configuration.</text>
    </description>
    <container name="dcn">
      <when condition="/dcn:dcn/dcn:site/dcn:enable = 'true'"/>
      <description>
        <text>Configure DCN interface.</text>
      </description>
      <container name="ospfv2-site">
        <must condition="../dcnv4/enable = 'true' or ../tc-dcn/enable = 'true'"/>
        <presence value="Configure DCN OSPF process."/>
        <description>
          <text>Configure DCN OSPF process.</text>
        </description>
        <leaf name="process-id">
          <type name="uint32">
            <range value="1..4294967295"/>
          </type>
          <mandatory value="true"/>
          <description>
            <text>OSPF process ID.</text>
          </description>
        </leaf>
        <leaf name="area-id">
          <type name="inet:ipv4-address-no-zone"/>
          <mandatory value="true"/>
          <description>
            <text>Area ID.</text>
          </description>
        </leaf>
      </container>
      <container name="dcnv4">
        <description>
          <text>Configure DCN interface.</text>
        </description>
        <leaf name="default-port">
          <type name="boolean"/>
          <ext:operation-exclude value="create|delete|update"/>
          <description>
            <text>Enable/disable auto enable DCN.</text>
          </description>
        </leaf>
        <leaf name="enable">
          <type name="boolean"/>
          <ext:dynamic-default>
            <ext:default-value value="true">
              <when condition="/dcn:dcn/dcn:site/dcn:enable = 'true' and ../default-port = 'true'"/>
              <description>
                <text>DCN is enabled on a default DCN port when the global DCN is enabled.</text>
              </description>
            </ext:default-value>
          </ext:dynamic-default>
          <description>
            <text>Enable/disable DCN.</text>
          </description>
        </leaf>
        <leaf name="vlan-id">
          <when condition="../enable = 'true' and ../../../ifm:type != 'Pos' and ../../../ifm:type != 'Serial' and ../../../ifm:type != 'Pos-Trunk' and  ../../../ifm:type != 'Trunk-Serial'"/>
          <type name="uint16">
            <range value="1..4094"/>
          </type>
          <default value="4094"/>
          <description>
            <text>VLAN ID of DCN interface.</text>
          </description>
        </leaf>
        <leaf name="vlan-list">
          <when condition="../enable = 'true' and ../../../ifm:type != 'Pos' and ../../../ifm:type != 'Serial' and ../../../ifm:type != 'Pos-Trunk' and  ../../../ifm:type != 'Trunk-Serial'"/>
          <type name="pub-type:vlan-range"/>
          <description>
            <text>VLAN list of DCN interface. The maximum number of VLAN IDs is 64.</text>
          </description>
        </leaf>
      </container>
      <container name="tc-dcn">
        <description>
          <text>Configure TC DCN interface.</text>
        </description>
        <leaf name="default-port">
          <type name="boolean"/>
          <ext:operation-exclude value="create|delete|update"/>
          <description>
            <text>Enable/disable auto enable TC DCN.</text>
          </description>
        </leaf>
        <leaf name="enable">
          <type name="boolean"/>
          <ext:dynamic-default>
            <ext:default-value value="true">
              <when condition="/dcn:dcn/dcn:site/dcn:enable = 'true' and ../default-port = 'true'"/>
              <description>
                <text>TC DCN is enabled on a default TC DCN port when the global DCN is enabled.</text>
              </description>
            </ext:default-value>
          </ext:dynamic-default>
          <description>
            <text>Enable/disable TC DCN.</text>
          </description>
        </leaf>
      </container>
    </container>
  </augment>
  <augment target-node="/vaccess:vaccess/vaccess-master:master">
    <description>
      <text>Import protocols Configuration information augment to module vaccess master.</text>
    </description>
    <container name="import-admin-ips">
      <must condition="/dcn:dcn/dcn:site/dcn:enable = 'true'"/>
      <description>
        <text>List of import admin-ip to protocols.</text>
      </description>
      <list name="import-admin-ip">
        <key value="protocol process-id vpn-instance"/>
        <description>
          <text>Configure import admin-ip to protocol.</text>
        </description>
        <leaf name="protocol">
          <type name="admin-ip-import-protocol"/>
          <description>
            <text>Set the routing protocol from which routes are imported.</text>
          </description>
        </leaf>
        <leaf name="process-id">
          <type name="uint32">
            <range value="0..4294967295"/>
          </type>
          <must condition="(../process-id=0 and (../protocol='public' or ../protocol='bgp')) or (../process-id&gt;0 and (../protocol='ospf' or ../protocol='isis'))"/>
          <description>
            <text>Set the process ID. The process ID is required when the routing protocol is OSPF, or ISIS.</text>
          </description>
        </leaf>
        <leaf name="vpn-instance">
          <type name="leafref">
            <path value="/ni:network-instance/ni:instances/ni:instance/ni:name"/>
          </type>
          <must condition="/ni:network-instance/ni:instances/ni:instance[ni:name=current()]/l3vpn:afs/l3vpn:af[l3vpn:type='ipv4-unicast']"/>
          <must condition="((../protocol='isis' and /ni:network-instance/ni:instances/ni:instance[ni:name=current()]/isis:isis/isis:sites/isis:site[isis:id = current()/../process-id]) or (../protocol='ospf' and /ni:network-instance/ni:instances/ni:instance[ni:name=current()]/ospfv2:ospfv2/ospfv2:sites/ospfv2:site[ospfv2:process-id = current()/../process-id]) or (../protocol='bgp' and /ni:network-instance/ni:instances/ni:instance[ni:name=current()]/bgp:bgp/bgp:base-process/bgp:afs/bgp:af[bgp:type='ipv4uni']) or (../protocol='public' and ../vpn-instance='_public_'))"/>
          <description>
            <text>VPN instance.</text>
          </description>
        </leaf>
        <leaf name="level-type">
          <when condition="../protocol='isis'"/>
          <type name="level-type"/>
          <default value="level-2"/>
          <description>
            <text>Import routes to the level 1 or (and) level 2 routing table.</text>
          </description>
        </leaf>
      </list>
    </container>
    <container name="import-protocols">
      <must condition="/dcn:dcn/dcn:site/dcn:enable = 'true'"/>
      <description>
        <text>List of import protocols to dcn ospf.</text>
      </description>
      <list name="import-protocol">
        <key value="protocol process-id vpn-instance"/>
        <description>
          <text>Configure import protocols to dcn ospf.</text>
        </description>
        <leaf name="protocol">
          <type name="dcn-ospf-import-protocol"/>
          <description>
            <text>Set the routing protocol from which routes are imported.</text>
          </description>
        </leaf>
        <leaf name="process-id">
          <type name="uint32">
            <range value="0..4294967295"/>
          </type>
          <must condition="(../process-id=0 and (../protocol='direct' or ../protocol='static' or ../protocol='bgp')) or (../process-id&gt;0 and (../protocol='ospf' or ../protocol='isis'))"/>
          <description>
            <text>Set the process ID. The process ID is required when the routing protocol is OSPF, or ISIS.</text>
          </description>
        </leaf>
        <leaf name="vpn-instance">
          <type name="leafref">
            <path value="/ni:network-instance/ni:instances/ni:instance/ni:name"/>
          </type>
          <must condition="/ni:network-instance/ni:instances/ni:instance[ni:name=current()]/l3vpn:afs/l3vpn:af[l3vpn:type='ipv4-unicast']"/>
          <must condition="((../protocol='isis' and /ni:network-instance/ni:instances/ni:instance[ni:name=current()]/isis:isis/isis:sites/isis:site[isis:id = current()/../process-id]) or (../protocol='ospf' and /ni:network-instance/ni:instances/ni:instance[ni:name=current()]/ospfv2:ospfv2/ospfv2:sites/ospfv2:site[ospfv2:process-id = current()/../process-id]) or (../protocol='bgp' and /bgp:bgp/bgp:base-process/bgp:enable='true') or ../protocol='direct' or ../protocol='static')"/>
          <description>
            <text>VPN instance.</text>
          </description>
        </leaf>
        <leaf name="route-policy-name">
          <type name="leafref">
            <path value="/rtp:routing-policy/rtp:policy-definitions/rtp:policy-definition/rtp:name"/>
          </type>
          <description>
            <text>Set a route policy name.</text>
          </description>
        </leaf>
      </list>
    </container>
  </augment>
  <ext:refine-ext value="/ni:network-instance/ni:instances/ni:instance">
    <ext:generated-by value="system">
      <description>
        <text>The instance is create by DCN.</text>
      </description>
      <when condition="/dcn:dcn/dcn:site/dcn:enable = 'true'"/>
      <ext:filter value="starts-with(ni:name, '__dcn_vpn__')"/>
    </ext:generated-by>
  </ext:refine-ext>
</module>
