<?xml version="1.0" encoding="UTF-8"?>
<module name="openconfig-network-instance-types"
        xmlns="urn:ietf:params:xml:ns:yang:yin:1"
        xmlns:oc-ni-types="http://openconfig.net/yang/network-instance-types"
        xmlns:oc-ext="http://openconfig.net/yang/openconfig-ext">
  <yang-version value="1"/>
  <namespace uri="http://openconfig.net/yang/network-instance-types"/>
  <prefix value="oc-ni-types"/>
  <import module="openconfig-extensions">
    <prefix value="oc-ext"/>
  </import>
  <organization>
    <text>OpenConfig working group</text>
  </organization>
  <contact>
    <text>OpenConfig working group
www.openconfig.net</text>
  </contact>
  <description>
    <text>Types associated with a network instance</text>
  </description>
  <oc-ext:openconfig-version semver="0.8.2"/>
  <revision date="2018-11-21">
    <description>
      <text>Add OpenConfig module metadata extensions.</text>
    </description>
    <reference>
      <text>0.8.2</text>
    </reference>
  </revision>
  <revision date="2017-08-24">
    <description>
      <text>Minor formatting fixes</text>
    </description>
    <reference>
      <text>0.8.1</text>
    </reference>
  </revision>
  <revision date="2017-02-28">
    <description>
      <text>Add OSPFv2 to network instance</text>
    </description>
    <reference>
      <text>0.8.0</text>
    </reference>
  </revision>
  <revision date="2017-01-26">
    <description>
      <text>Add policy forwarding to network instance</text>
    </description>
    <reference>
      <text>0.7.0</text>
    </reference>
  </revision>
  <revision date="2017-01-13">
    <description>
      <text>Add AFT to the network instance</text>
    </description>
    <reference>
      <text>0.6.0</text>
    </reference>
  </revision>
  <revision date="2016-12-15">
    <description>
      <text>Add segment routing to network instance</text>
    </description>
    <reference>
      <text>0.5.0</text>
    </reference>
  </revision>
  <revision date="2016-11-10">
    <description>
      <text>Update model to include IS-IS.</text>
    </description>
    <reference>
      <text>0.4.1</text>
    </reference>
  </revision>
  <revision date="2016-10-12">
    <description>
      <text>Update table connections</text>
    </description>
    <reference>
      <text>0.4.0</text>
    </reference>
  </revision>
  <revision date="2016-09-28">
    <description>
      <text>Change L2 instance to submodule; add MAC table</text>
    </description>
    <reference>
      <text>0.3.0</text>
    </reference>
  </revision>
  <revision date="2016-08-11">
    <description>
      <text>Resolve repeated container names in routing protocols</text>
    </description>
    <reference>
      <text>0.2.3</text>
    </reference>
  </revision>
  <revision date="2016-07-08">
    <description>
      <text>Updated with refactored routing protocol models</text>
    </description>
    <reference>
      <text>0.2.1</text>
    </reference>
  </revision>
  <revision date="2016-03-29">
    <description>
      <text>Initial revision</text>
    </description>
    <reference>
      <text>0.2.0</text>
    </reference>
  </revision>
  <revision date="2015-10-18">
    <description>
      <text>Initial revision</text>
    </description>
    <reference>
      <text>0.1.0</text>
    </reference>
  </revision>
  <oc-ext:regexp-posix/>
  <oc-ext:catalog-organization org="openconfig"/>
  <oc-ext:origin origin="openconfig"/>
  <identity name="NETWORK_INSTANCE_TYPE">
    <description>
      <text>A base identity which can be extended to indicate different
types of network instance supported by a device.</text>
    </description>
  </identity>
  <identity name="DEFAULT_INSTANCE">
    <base name="NETWORK_INSTANCE_TYPE"/>
    <description>
      <text>A special routing instance which acts as the 'default' or
'global' routing instance for a network device.</text>
    </description>
  </identity>
  <identity name="L3VRF">
    <base name="NETWORK_INSTANCE_TYPE"/>
    <description>
      <text>A private Layer 3 only routing instance which is formed of
one or more RIBs</text>
    </description>
  </identity>
  <identity name="L2VSI">
    <base name="NETWORK_INSTANCE_TYPE"/>
    <description>
      <text>A private Layer 2 only switch instance which is formed of
one or more L2 forwarding tables</text>
    </description>
  </identity>
  <identity name="L2P2P">
    <base name="NETWORK_INSTANCE_TYPE"/>
    <description>
      <text>A private Layer 2 only forwarding instance which acts as
a point to point connection between two endpoints</text>
    </description>
  </identity>
  <identity name="L2L3">
    <base name="NETWORK_INSTANCE_TYPE"/>
    <description>
      <text>A private Layer 2 and Layer 2 forwarding instance</text>
    </description>
  </identity>
  <identity name="ENDPOINT_TYPE">
    <description>
      <text>Specification of the type of endpoint that is being associated
with a network instance</text>
    </description>
  </identity>
  <identity name="LOCAL">
    <base name="ENDPOINT_TYPE"/>
    <description>
      <text>A local interface which is being associated with the endpoint</text>
    </description>
  </identity>
  <identity name="REMOTE">
    <base name="ENDPOINT_TYPE"/>
    <description>
      <text>A remote interface which is being associated with the
endpoint</text>
    </description>
  </identity>
  <identity name="LABEL_ALLOCATION_MODE">
    <description>
      <text>Base identity to be used to express types of label allocation
strategies to be used within a network instance</text>
    </description>
  </identity>
  <identity name="PER_PREFIX">
    <base name="LABEL_ALLOCATION_MODE"/>
    <description>
      <text>A label is to be allocated per prefix entry in the RIB for the
network instance</text>
    </description>
  </identity>
  <identity name="PER_NEXTHOP">
    <base name="LABEL_ALLOCATION_MODE"/>
    <description>
      <text>A label is to be allocated per nexthop entry in the RIB for
the network instance</text>
    </description>
  </identity>
  <identity name="INSTANCE_LABEL">
    <base name="LABEL_ALLOCATION_MODE"/>
    <description>
      <text>A single label is to be used for the instance</text>
    </description>
  </identity>
  <identity name="ENCAPSULATION">
    <description>
      <text>On the wire encapsulations that can be used when
differentiating network instances</text>
    </description>
  </identity>
  <identity name="MPLS">
    <base name="ENCAPSULATION"/>
    <description>
      <text>Use MPLS labels to distinguish network instances on the wire</text>
    </description>
  </identity>
  <identity name="VXLAN">
    <base name="ENCAPSULATION"/>
    <description>
      <text>Use VXLAN (RFC7348) VNIs to distinguish network instances on
the wire</text>
    </description>
  </identity>
  <identity name="SIGNALLING_PROTOCOL">
    <description>
      <text>The signalling protocol that should be used to diseminate
entries within a forwarding instance</text>
    </description>
  </identity>
  <identity name="LDP">
    <base name="SIGNALLING_PROTOCOL"/>
    <description>
      <text>Use LDP-based setup for signalling. Where the instance is
a point-to-point service this refers to RFC4447 ('Martini')
setup. Where the service is an L2VSI, or L2L3 instance it
refers to RFC4762 LDP-signalled VPLS instances</text>
    </description>
  </identity>
  <identity name="BGP_VPLS">
    <base name="SIGNALLING_PROTOCOL"/>
    <description>
      <text>Use BGP-based signalling and autodiscovery for VPLS instances
as per RFC4761</text>
    </description>
  </identity>
  <identity name="BGP_EVPN">
    <base name="SIGNALLING_PROTOCOL"/>
    <description>
      <text>Use BGP-based Ethernet VPN (RFC7432) based signalling for
the network instance</text>
    </description>
  </identity>
  <typedef name="route-distinguisher">
    <type name="union">
      <type name="string">
        <pattern value="^(65[0-5][0-3][0-5]|[1-5][1-5][0-9][0-9][0-9]|[1-9]?[1-9]?[0-9][0-9]|[1-9]):(4[0-2][0-9][0-4][0-9][0-6][0-7][0-2][0-9][0-5]|[0-3][0-9]{9}|[1-9][0-9]{1,8}|[1-9])$"/>
      </type>
      <type name="string">
        <pattern value="^(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]):(65[0-5][0-3][0-5]|[1-5][1-5][0-9][0-9][0-9]|[1-9]?[1-9]?[0-9][0-9]|[1-9])$"/>
      </type>
      <type name="string">
        <pattern value="^(4[0-2][0-9][0-4][0-9][0-6][0-7][0-2][0-9][0-5]|[0-3][0-9]{9}|[1-9][0-9]{1,8}|[1-9]):(65[0-5][0-3][0-5]|[1-5]{2}[0-9]{3}|[1-9]{0,2}[0-9][0-9]|[1-9])$"/>
      </type>
    </type>
    <description>
      <text>A route distinguisher value</text>
    </description>
    <reference>
      <text>RFC4364</text>
    </reference>
  </typedef>
</module>
