<?xml version="1.0" encoding="UTF-8"?>
<module name="huawei-bgp"
        xmlns="urn:ietf:params:xml:ns:yang:yin:1"
        xmlns:bgp="urn:huawei:yang:huawei-bgp"
        xmlns:ext="urn:huawei:yang:huawei-extension"
        xmlns:inet="urn:ietf:params:xml:ns:yang:ietf-inet-types"
        xmlns:yang="urn:ietf:params:xml:ns:yang:ietf-yang-types"
        xmlns:ni="urn:huawei:yang:huawei-network-instance"
        xmlns:pub-type="urn:huawei:yang:huawei-pub-type"
        xmlns:rtp="urn:huawei:yang:huawei-routing-policy"
        xmlns:xpl="urn:huawei:yang:huawei-xpl"
        xmlns:rt="urn:huawei:yang:huawei-routing"
        xmlns:tnlm="urn:huawei:yang:huawei-tunnel-management">
  <namespace uri="urn:huawei:yang:huawei-bgp"/>
  <prefix value="bgp"/>
  <import module="huawei-extension">
    <prefix value="ext"/>
  </import>
  <import module="ietf-inet-types">
    <prefix value="inet"/>
  </import>
  <import module="ietf-yang-types">
    <prefix value="yang"/>
  </import>
  <import module="huawei-network-instance">
    <prefix value="ni"/>
  </import>
  <import module="huawei-pub-type">
    <prefix value="pub-type"/>
  </import>
  <import module="huawei-routing-policy">
    <prefix value="rtp"/>
  </import>
  <import module="huawei-xpl">
    <prefix value="xpl"/>
  </import>
  <import module="huawei-routing">
    <prefix value="rt"/>
  </import>
  <import module="huawei-tunnel-management">
    <prefix value="tnlm"/>
  </import>
  <include module="huawei-bgp-type"/>
  <include module="huawei-bgp-common"/>
  <include module="huawei-bgp-common-multiprotocol"/>
  <organization>
    <text>Huawei Technologies Co., Ltd.</text>
  </organization>
  <contact>
    <text>Huawei Industrial Base
Bantian, Longgang
Shenzhen 518129
People's Republic of China
Website: http://www.huawei.com
Email: support@huawei.com</text>
  </contact>
  <description>
    <text>Inter-AS routing protocol that exchanges Network Layer Reachability Information (NLRI) with other BGP systems.</text>
  </description>
  <revision date="2021-02-03">
    <description>
      <text>Add bgp unicast submodule.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2020-02-25">
    <description>
      <text>The YANG descriptions are modified according to new standards.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2019-03-22">
    <description>
      <text>Initial revision.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <ext:task-name value="bgp"/>
  <grouping name="unicast-aggregate-routes-type">
    <description>
      <text>BGP IPv4/IPv6 unicast aggregate routes.</text>
    </description>
    <leaf name="address">
      <type name="inet:ip-address-no-zone"/>
      <description>
        <text>Specify the IPv4 address or IPv6 address of a summarized route. Only IPv4 summarized routes can be configured in the IPv4 address family and only IPv6 summarized routes can be configured in the IPv6 address family.</text>
      </description>
    </leaf>
    <leaf name="mask-length">
      <type name="uint8">
        <range value="1..128"/>
      </type>
      <description>
        <text>Specify the mask length of a summarized address.</text>
      </description>
    </leaf>
    <leaf name="as-set">
      <type name="boolean"/>
      <default value="false"/>
      <description>
        <text>Enable/disable the generation of routes with the AS-SET attribute. This option can be used to create a summarized route. The AS_Path attribute of the summarized route contains the AS-Path attributes of the specific routes for the route summarization. Exercise caution when using this option if multiple AS_Paths need to be summarized to prevent route flapping.</text>
      </description>
    </leaf>
    <leaf name="detail-suppressed">
      <type name="boolean"/>
      <default value="false"/>
      <description>
        <text>Enable/disable detail-suppressed. Suppress the advertisement of specific routes for the route summarization. Only the summarized route is advertised.</text>
      </description>
    </leaf>
    <choice name="policy-type">
      <description>
        <text>Set route policy or filter.</text>
      </description>
      <case name="rtp-ref">
        <description>
          <text>Route policy.</text>
        </description>
        <leaf name="attribute-policy">
          <type name="leafref">
            <path value="/rtp:routing-policy/rtp:policy-definitions/rtp:policy-definition/rtp:name"/>
          </type>
          <description>
            <text>Specify an attribute of summarized routes. If apply as-path is used to configure the AS_Path attribute that is used in the route Summarization policy, and the as-set keyword is set, the AS_Path attribute in the policy does not take effect. This parameter and any of the following parameters overwrite each other: suppressFilter, originFilter, and attributeFilter.</text>
          </description>
        </leaf>
        <leaf name="origin-policy">
          <type name="leafref">
            <path value="/rtp:routing-policy/rtp:policy-definitions/rtp:policy-definition/rtp:name"/>
          </type>
          <description>
            <text>Specify the name of a policy for generating summarized routes. Summarized routes are generated only when the routes match route-policy. This parameter and any of the following parameters overwrite each other: suppressFilter, originFilter, and attributeFilter.</text>
          </description>
        </leaf>
        <leaf name="suppress-policy">
          <type name="leafref">
            <path value="/rtp:routing-policy/rtp:policy-definitions/rtp:policy-definition/rtp:name"/>
          </type>
          <description>
            <text>Specify a policy for suppressing the advertisement of specified routes. The routes matching the policy are not advertised, and other routes are advertised. This parameter and any of the following parameters overwrite each other: suppressFilter, originFilter, and attributeFilter.</text>
          </description>
        </leaf>
      </case>
      <case name="xpl-ref">
        <description>
          <text>Route filter.</text>
        </description>
        <leaf name="attribute-filter-name">
          <type name="leafref">
            <path value="/xpl:xpl/xpl:route-filters/xpl:route-filter/xpl:name"/>
          </type>
          <description>
            <text>Specify a route-filter name.</text>
          </description>
        </leaf>
        <leaf name="attribute-filter-parameter">
          <when condition="../attribute-filter-name"/>
          <type name="xpl:filter-parameter-type"/>
          <description>
            <text>Specify a route-filter parameter.</text>
          </description>
        </leaf>
        <leaf name="origin-filter-name">
          <type name="leafref">
            <path value="/xpl:xpl/xpl:route-filters/xpl:route-filter/xpl:name"/>
          </type>
          <description>
            <text>Specify a route-filter name.</text>
          </description>
        </leaf>
        <leaf name="origin-filter-parameter">
          <when condition="../origin-filter-name"/>
          <type name="xpl:filter-parameter-type"/>
          <description>
            <text>Specify a route-filter parameter.</text>
          </description>
        </leaf>
        <leaf name="suppress-filter-name">
          <type name="leafref">
            <path value="/xpl:xpl/xpl:route-filters/xpl:route-filter/xpl:name"/>
          </type>
          <description>
            <text>Specify a route-filter name.</text>
          </description>
        </leaf>
        <leaf name="suppress-filter-parameter">
          <when condition="../suppress-filter-name"/>
          <type name="xpl:filter-parameter-type"/>
          <description>
            <text>Specify a route-filter parameter.</text>
          </description>
        </leaf>
      </case>
    </choice>
  </grouping>
  <grouping name="network-route-ipv4">
    <description>
      <text>BGP network routes.</text>
    </description>
    <leaf name="address">
      <type name="inet:ipv4-address-no-zone"/>
      <description>
        <text>Specify the IP address advertised by BGP. An IPv4 address can be configured in the IPv4 address family. Note: During the configuration of a network route, the IP address is adjusted based on the mask. It is recommended that you click Synchronize All after creating a network route.</text>
      </description>
    </leaf>
    <leaf name="mask-length">
      <type name="uint8">
        <range value="1..32"/>
      </type>
      <description>
        <text>Specify the mask length of an IP address.</text>
      </description>
    </leaf>
    <choice name="policy-type">
      <description>
        <text>Specify the route-policy or filter for route advertisement.</text>
      </description>
      <case name="rtp-ref">
        <description>
          <text>Specify the route policy.</text>
        </description>
        <leaf name="policy-name">
          <type name="leafref">
            <path value="/rtp:routing-policy/rtp:policy-definitions/rtp:policy-definition/rtp:name"/>
          </type>
          <description>
            <text>Specify the route policy.</text>
          </description>
        </leaf>
      </case>
      <case name="xpl-ref">
        <description>
          <text>Route filter.</text>
        </description>
        <uses name="route-filter-type"/>
      </case>
    </choice>
  </grouping>
  <grouping name="network-route-ipv6">
    <description>
      <text>BGP network routes.</text>
    </description>
    <leaf name="address">
      <type name="inet:ipv6-address-no-zone"/>
      <description>
        <text>Specify the IP address advertised by BGP. An IPv6 routes can be configured in the IPv6 address family. Note: During the configuration of a network route, the IP address is adjusted based on the mask. It is recommended that you click Synchronize All after creating a network route.</text>
      </description>
    </leaf>
    <leaf name="mask-length">
      <type name="uint8">
        <range value="1..128"/>
      </type>
      <description>
        <text>Specify the mask length of an IP address.</text>
      </description>
    </leaf>
    <choice name="policy-type">
      <description>
        <text>Specify the route-policy or filter for route advertisement.</text>
      </description>
      <case name="rtp-ref">
        <description>
          <text>Specify the route policy.</text>
        </description>
        <leaf name="policy-name">
          <type name="leafref">
            <path value="/rtp:routing-policy/rtp:policy-definitions/rtp:policy-definition/rtp:name"/>
          </type>
          <description>
            <text>Specify the route policy.</text>
          </description>
        </leaf>
      </case>
      <case name="xpl-ref">
        <description>
          <text>Route filter.</text>
        </description>
        <uses name="route-filter-type"/>
      </case>
    </choice>
  </grouping>
  <grouping name="advertise-route-to-evpn-type">
    <description>
      <text>Advertise-routes-type configuration.</text>
    </description>
    <list name="advertise-route-to-evpn">
      <key value="protocol"/>
      <description>
        <text>Configure the advertise route protocol.</text>
      </description>
      <leaf name="protocol">
        <type name="enumeration">
          <enum name="all">
            <value value="0"/>
            <description>
              <text>Advertise all the types of route protocol.</text>
            </description>
          </enum>
        </type>
        <description>
          <text>Route protocol.</text>
        </description>
      </leaf>
      <leaf name="import-multipath">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable route import from multiple paths.</text>
        </description>
      </leaf>
      <leaf name="include-local-cross">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable local cross route to advertise l2vpn evpn.</text>
        </description>
      </leaf>
      <leaf name="advertise-route-mode">
        <type name="enumeration">
          <enum name="all">
            <value value="0"/>
            <description>
              <text>All:</text>
            </description>
          </enum>
          <enum name="best">
            <value value="1"/>
            <description>
              <text>Best:</text>
            </description>
          </enum>
          <enum name="valid">
            <value value="2"/>
            <description>
              <text>Valid:</text>
            </description>
          </enum>
        </type>
        <default value="all"/>
        <description>
          <text>VPN advertise route mode to evrf.</text>
        </description>
      </leaf>
    </list>
  </grouping>
  <grouping name="vpn-target-type">
    <description>
      <text>BGP IPv4/IPv6 VPN target.</text>
    </description>
    <leaf name="policy-vpntarget">
      <type name="boolean"/>
      <default value="true"/>
      <description>
        <text>Enable/disable VPN target-based filtering for the received VPN routes. Only the VPN route whose Export RT attribute matches the local Import RT attribute can be added to the routing table. This option can be used in the inter-AS VPN Option B solution and the ASBR MP-EBGP inter-AS L2VPN solution in Kompella mode.</text>
      </description>
    </leaf>
  </grouping>
  <grouping name="reflector-cluster-type">
    <description>
      <text>BGP reflector cluster-id.</text>
    </description>
    <choice name="reflector-type">
      <description>
        <text>Set IPv4 address or id.</text>
      </description>
      <case name="address">
        <description>
          <text>IPv4 address.</text>
        </description>
        <leaf name="reflector-cluster-ipv4">
          <type name="inet:ipv4-address-no-zone"/>
          <description>
            <text>Set a cluster ID. The value is expressed in the format of an IPv4 address. Configuring multiple RRs in a cluster can enhance the stability of the network. If a cluster has more than one RR, select this option to set the same cluster ID for all the RRs to avoid routing loops. To allow clients to receive routes from RRs, ensure that the cluster ID of the RRs is different from the router ID of any client. If the cluster ID of the RRs is the same as the router ID of a client, the client will discard received routes.</text>
          </description>
        </leaf>
      </case>
      <case name="id">
        <description>
          <text>Set value.</text>
        </description>
        <leaf name="reflector-cluster-id">
          <type name="uint32">
            <range value="1..4294967295"/>
          </type>
          <description>
            <text>Set a cluster ID. Configuring multiple RRs in a cluster can enhance the stability of the network. If a cluster has more than one RR, select this option to set the same cluster ID for all the RRs to avoid routing loops. To allow clients to receive routes from RRs, ensure that the cluster ID of the RRs is different from the router ID of any client. If the cluster ID of the RRs is the same as the router ID of a client, the client will discard received routes.</text>
          </description>
        </leaf>
      </case>
    </choice>
  </grouping>
  <grouping name="reflect-type">
    <description>
      <text>Set reflect client or change path-attribute.</text>
    </description>
    <leaf name="reflect-change-path">
      <type name="boolean"/>
      <default value="false"/>
      <description>
        <text>Enable/disable an RR to use an export policy to change route AS_Path.</text>
      </description>
    </leaf>
  </grouping>
  <grouping name="group-entropy-label-type">
    <description>
      <text>Entropy label parameter configuration in a peer group.</text>
    </description>
    <leaf name="advertise-entropy-label">
      <type name="boolean"/>
      <default value="false"/>
      <description>
        <text>Enable/disable the capability of advertising entropy labels.</text>
      </description>
    </leaf>
    <leaf name="padding">
      <when condition="../advertise-entropy-label='true'"/>
      <type name="string">
        <length value="1..32"/>
        <pattern value="(([0-9A-F])*)"/>
      </type>
      <description>
        <text>Padding format. The value is a hexadecimal string containing 1 to 32 characters (16 hexadecimal numbers). It cannot contain spaces, and can only contain uppercase letters (A to F) and digits (0 to 9), and the length must be an even number.</text>
      </description>
    </leaf>
    <leaf name="attribute-type">
      <when condition="../advertise-entropy-label='true'"/>
      <type name="entropy-label-attribute-type"/>
      <mandatory value="true"/>
      <description>
        <text>The attribute-type of advertising entropy labels.</text>
      </description>
    </leaf>
    <leaf name="entropy-label">
      <type name="boolean"/>
      <default value="false"/>
      <description>
        <text>Enable/disable the function of delivering the entropy label capability to the forwarding plane.</text>
      </description>
    </leaf>
  </grouping>
  <grouping name="peer-entropy-label-type">
    <description>
      <text>Entropy label parameter configuration in a peer.</text>
    </description>
    <leaf name="advertise-entropy-label">
      <type name="peer-comm-config-type"/>
      <default value="default"/>
      <description>
        <text>Enable the capability of advertising entropy labels.</text>
      </description>
    </leaf>
    <leaf name="padding">
      <when condition="../advertise-entropy-label='enable'"/>
      <type name="string">
        <length value="1..32"/>
        <pattern value="(([0-9A-F])*)"/>
      </type>
      <description>
        <text>Padding format. The value is a hexadecimal string containing 1 to 32 characters (16 hexadecimal numbers). It cannot contain spaces, and can only contain uppercase letters (A to F) and digits (0 to 9), and the length must be an even number.</text>
      </description>
    </leaf>
    <leaf name="attribute-type">
      <when condition="../advertise-entropy-label='enable'"/>
      <type name="entropy-label-attribute-type"/>
      <mandatory value="true"/>
      <description>
        <text>The attribute-type of advertising entropy labels.</text>
      </description>
    </leaf>
    <leaf name="entropy-label">
      <type name="peer-comm-config-type"/>
      <default value="default"/>
      <description>
        <text>Enable the function of delivering the entropy label capability to the forwarding plane.</text>
      </description>
    </leaf>
    <leaf name="effect-advertise-entropy-label">
      <type name="boolean"/>
      <default value="false"/>
      <config value="false"/>
      <description>
        <text>Whether the capability of advertising entropy labels is enabled on the BGP peer.</text>
      </description>
    </leaf>
    <leaf name="effect-padding">
      <when condition="../effect-advertise-entropy-label='true'"/>
      <type name="string">
        <length value="1..32"/>
        <pattern value="(([0-9A-F])*)"/>
      </type>
      <config value="false"/>
      <description>
        <text>Padding format.</text>
      </description>
    </leaf>
    <leaf name="effect-attribute-type">
      <when condition="../effect-advertise-entropy-label='true'"/>
      <type name="entropy-label-attribute-type"/>
      <config value="false"/>
      <description>
        <text>The attribute-type of advertising entropy labels.</text>
      </description>
    </leaf>
    <leaf name="effect-entropy-label">
      <type name="boolean"/>
      <default value="false"/>
      <config value="false"/>
      <description>
        <text>Whether the function of delivering the entropy label capability to the forwarding plane is enabled on the BGP peer.</text>
      </description>
    </leaf>
  </grouping>
  <container name="bgp">
    <description>
      <text>Inter-AS routing protocol that exchanges Network Layer Reachability Information (NLRI) with other BGP systems,
Universal BGP configurations that contain the basic BGP configurations and the query information.</text>
    </description>
    <container name="global">
      <description>
        <text>Configure the router for BGP globally.</text>
      </description>
      <leaf name="yang-enable">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable BGP yang mode. To use NETCONF YANG to manage BGP VPN instances in huawei-bgp.yang, enable YANG management for the BGP VPN instances on the device or enable the leaf node globally in the huawei-bgp.yang file.</text>
        </description>
      </leaf>
      <leaf name="memory-overload-exception-discard-route">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable BGP to discard routes received from all peers if the memory usage of a device is abnormal.</text>
        </description>
      </leaf>
    </container>
    <container name="paf-controls">
      <description>
        <text>List of PAF-based limiting disabled for some features.</text>
      </description>
      <list name="paf-control">
        <key value="feature-name"/>
        <description>
          <text>Configure PAF-based limiting disabled for some features.</text>
        </description>
        <leaf name="feature-name">
          <type name="paf-control-feature-type"/>
          <description>
            <text>Feature name.</text>
          </description>
        </leaf>
      </list>
    </container>
    <container name="base-process">
      <description>
        <text>Configure the global BGP information, such as the protocol version, AS number, and system identifier.</text>
      </description>
      <leaf name="enable">
        <type name="boolean"/>
        <must condition="(../enable='true' and ../as) or (../enable='false' and not(../as))"/>
        <default value="false"/>
        <description>
          <text>Enable/disable BGP function.</text>
        </description>
      </leaf>
      <leaf name="as">
        <when condition="../enable='true'"/>
        <type name="as-number-validate"/>
        <description>
          <text>Local AS number, which can be in either of the two formats:
The two-byte format is X. X is an integer ranging from 1 to 65535.
The four-byte format is X.Y and X. When the format is X.Y, X and Y are both integers, with the value of X ranging from 1 to 65535, and the value of Y ranging from 0 to 65535; when the format is X, X is an interger, with the value ranging from 1 to 4294967295.
An AS consists of multiple routers managed based on the same techniques. Interior Gateway Protocol (IGP) and universal routing metric packets are used inside an AS, and Exterior Gateway Protocol (EGP) is used outside to send packets to other ASs. With the development of this definition, one AS usually uses multiple IGPs and metrics. Even though multiple IGPs and metrics are used, the routing plan and destination reachability of an AS are consistent with those of another AS. The local AS number cannot be configured same as the confederation sub-ASs. The object cannot be deleted or modified.</text>
        </description>
        <ext:operation-exclude value="update">
          <description>
            <text>The node cannot be modified when BGP is enabled.</text>
          </description>
        </ext:operation-exclude>
      </leaf>
      <leaf name="keep-all-routes">
        <when condition="../enable='true'"/>
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable saving all the updated information about BGP routes from a peer or peer group after a BGP connection is established, even though these BGP routes fail to match the routing policy on the ingress. Save all the updated information about BGP routes from a peer or peer group after a BGP connection is established, even though these BGP routes fail to match the routing policy on the ingress. By default, only the updated information about BGP routes from a specified peer is saved on condition that the routes match the routing policy on the ingress. If a router supports route refreshing, this option is not required.</text>
        </description>
      </leaf>
      <leaf name="check-first-as">
        <when condition="../enable='true'"/>
        <type name="boolean"/>
        <default value="true"/>
        <description>
          <text>Enable/disable checking the first AS in the AS_Path of the update messages from EBGP peers.</text>
        </description>
      </leaf>
      <leaf name="router-id-auto-select">
        <when condition="../enable='true'"/>
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable router ID auto select. If a BGP VPN instance is not enabled to select a router ID, a router ID can be configured for the BGP VPN instance. If no router ID is configured for the BGP VPN instance, the BGP VPN instance inherits the router ID of the public network instance. If a BGP VPN instance is enabled to select a router ID, it uses the address of an interface bound to a VPN as the router ID based on the following rules:
1. If Loopback interfaces configured with IP addresses exist, the largest IP address among the IP addresses of the Loopback interfaces is selected as the router ID.
2. If there is no Loopback interface configured with an IP address, the largest IP address among the IP addresses of other interfaces is selected as the router ID, regardless of whether the interface is Up.</text>
        </description>
      </leaf>
      <leaf name="shutdown">
        <when condition="../enable='true'"/>
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable interrupting BGP all neighbour.</text>
        </description>
      </leaf>
      <leaf name="local-ifnet-mtu">
        <when condition="../enable='true'"/>
        <type name="uint16">
          <range value="46..65535"/>
        </type>
        <default value="1500"/>
        <description>
          <text>BGP LOCALIFNET MTU.</text>
        </description>
      </leaf>
      <leaf name="private-4byte-as">
        <when condition="../enable='true'"/>
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable BGP private 4 byte AS. With BGP private-4-byte-as, BGP private as is from 64512 to 65535 and from 4200000000 to 4294967294.</text>
        </description>
      </leaf>
      <leaf name="local-cross-no-med">
        <when condition="../enable='true'"/>
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable local cross routing non-med.</text>
        </description>
      </leaf>
      <leaf name="as-path-limit">
        <when condition="../enable='true'"/>
        <type name="uint16">
          <range value="1..2000"/>
        </type>
        <description>
          <text>Maximum number of AS numbers in the AS_Path attribute.</text>
        </description>
      </leaf>
      <leaf name="dynamic-session-limit">
        <when condition="../enable='true'"/>
        <ext:dynamic-default/>
        <type name="uint32">
          <range value="1..4294967295"/>
        </type>
        <description>
          <text>Upper limit on the number of dynamic peer sessions.</text>
        </description>
      </leaf>
      <leaf name="peer-up-route-lowest-priority">
        <when condition="../enable='true'"/>
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable reducing route priority to lowest.</text>
        </description>
      </leaf>
      <leaf name="delay-time">
        <when condition="../peer-up-route-lowest-priority='true'"/>
        <type name="uint32">
          <range value="1..864000"/>
        </type>
        <units name="s"/>
        <description>
          <text>Specifies the delay time.</text>
        </description>
      </leaf>
      <container name="confederation">
        <when condition="../enable='true'"/>
        <description>
          <text>Configure confederation.</text>
        </description>
        <leaf name="id">
          <type name="as-number-validate"/>
          <description>
            <text>Configure the confederation ID.</text>
          </description>
        </leaf>
        <leaf name="nonstanded">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable nonstanded. Configure the device to be compatible with devices in a nonstandard confederation.</text>
          </description>
        </leaf>
        <leaf-list name="as">
          <when condition="../id"/>
          <type name="as-number-validate"/>
          <max-elements value="32"/>
          <description>
            <text>Configure the confederation AS number. The confederation AS number can be in either of the two formats:
The two-byte format is X. X is an integer ranging from 1 to 65535.
The four-byte format is X.Y and X. When the format is X.Y, X and Y are both integers, with the value of X ranging from 1 to 65535, and the value of Y ranging from 0 to 65535; when the format is X, X is an interger, with the value of X ranging from 1 to 4294967295. The confederation sub-ASs cannot be configured same as the local AS number.</text>
          </description>
        </leaf-list>
      </container>
      <container name="graceful-restart">
        <when condition="../enable='true'"/>
        <description>
          <text>Configure the graceful-restart.</text>
        </description>
        <uses name="graceful-restart-type"/>
      </container>
      <uses name="remote-prefix-sid-states-type"/>
      <container name="reference-period">
        <when condition="../enable='true'"/>
        <must condition="hold-interval&gt;suppress-interval"/>
        <must condition="clear-interval&gt;hold-interval"/>
        <description>
          <text>Configure the reference period.</text>
        </description>
        <uses name="reference-period-type"/>
      </container>
      <container name="timer">
        <when condition="../enable='true'"/>
        <description>
          <text>Configure BGP global timer parameters.</text>
        </description>
        <uses name="global-timer-para-type"/>
      </container>
      <uses name="graceful-restart-status-type"/>
      <uses name="error-discard-info-type"/>
      <uses name="vpn-brief-infos-type"/>
      <container name="default-parameter">
        <config value="false"/>
        <description>
          <text>Statistics of default parameter of BGP.</text>
        </description>
        <leaf name="version">
          <type name="uint8"/>
          <description>
            <text>BGP protocol version.</text>
          </description>
        </leaf>
        <leaf name="connect-retry-time">
          <type name="uint16"/>
          <units name="s"/>
          <description>
            <text>Value of connect retry timer.</text>
          </description>
        </leaf>
        <leaf name="hold-time">
          <type name="uint32"/>
          <units name="s"/>
          <description>
            <text>The holdtime interval.</text>
          </description>
        </leaf>
        <leaf name="keepalive-time">
          <type name="uint32"/>
          <units name="s"/>
          <description>
            <text>The keepalive interval.</text>
          </description>
        </leaf>
      </container>
    </container>
    <container name="instance-processs">
      <description>
        <text>List of the global BGP information for the list of all BGP instances, such as the protocol version, AS number, and system identifier.</text>
      </description>
      <list name="instance-process">
        <key value="name"/>
        <max-elements value="1"/>
        <description>
          <text>Configure the global BGP information for the BGP instances, such as the protocol version, AS number, and system identifier.</text>
        </description>
        <leaf name="name">
          <type name="string">
            <length value="1..31"/>
          </type>
          <must condition="../name != 'default'"/>
          <description>
            <text>Name of BGP Site.</text>
          </description>
        </leaf>
        <leaf name="as-number">
          <type name="as-number-validate"/>
          <mandatory value="true"/>
          <description>
            <text>Local AS number, which can be in either of the two formats:
The two-byte format is X. X is an integer ranging from 1 to 65535.
The four-byte format is X.Y and X. When the format is X.Y, X and Y are both integers, with the value of X ranging from 1 to 65535, and the value of Y ranging from 0 to 65535; when the format is X, X is an interger, with the value ranging from 1 to 4294967295.
An AS consists of instance routers managed based on the same techniques. Interior Gateway Protocol (IGP) and universal routing metric packets are used inside an AS, and Exterior Gateway Protocol (EGP) is used outside to send packets to other ASs. With the development of this definition, one AS usually uses instance IGPs and metrics. Even though instance IGPs and metrics are used, the routing plan and destination reachability of an AS are consistent with those of another AS. The local AS number cannot be configured same as the confederation sub-ASs.</text>
          </description>
          <ext:operation-exclude value="update">
            <description>
              <text>The node cannot be modified when BGP is enabled.</text>
            </description>
          </ext:operation-exclude>
        </leaf>
        <leaf name="check-first-as">
          <type name="boolean"/>
          <default value="true"/>
          <description>
            <text>Enable/disable checking the first AS in the AS_Path of the update messages from EBGP peers.</text>
          </description>
        </leaf>
        <leaf name="shutdown">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable interrupting BGP all neighbour.</text>
          </description>
        </leaf>
        <leaf name="private-4byte-as">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable BGP private 4 byte AS. With BGP private-4-byte-as, BGP private as is from 64512 to 65535 and from 4200000000 to 4294967294.</text>
          </description>
        </leaf>
        <leaf name="peer-up-route-lowest-priority">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable reducing route priority to lowest.</text>
          </description>
        </leaf>
        <leaf name="delay-time">
          <when condition="../peer-up-route-lowest-priority='true'"/>
          <type name="uint32">
            <range value="1..864000"/>
          </type>
          <units name="s"/>
          <description>
            <text>Specifies the delay time.</text>
          </description>
        </leaf>
        <leaf name="memory-limit">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable using the prefix memory-limit command, you can configure the capability of BGP about memory limit when the system memory usage exceeded.</text>
          </description>
        </leaf>
        <container name="graceful-restart">
          <description>
            <text>Configure the graceful-restart.</text>
          </description>
          <uses name="graceful-restart-type"/>
        </container>
        <container name="reference-period">
          <must condition="hold-interval&gt;suppress-interval"/>
          <must condition="clear-interval&gt;hold-interval"/>
          <description>
            <text>Configure the reference period.</text>
          </description>
          <uses name="reference-period-type"/>
        </container>
        <container name="timer">
          <description>
            <text>Configure BGP global timer parameters.</text>
          </description>
          <uses name="global-timer-para-type"/>
        </container>
      </list>
    </container>
  </container>
  <augment target-node="/ni:network-instance/ni:instances/ni:instance">
    <description>
      <text>BGP network instance configuration.</text>
    </description>
    <container name="bgp">
      <description>
        <text>Configure BGP network instance. All nodes of private VPN Instance in this container can be used only when the value of the global BGP enabling node (/bgp:bgp/bgp:global/bgp:yang-enable) is set to true.</text>
      </description>
      <container name="base-process">
        <when condition="/bgp:bgp/bgp:base-process/bgp:enable='true'"/>
        <presence value="Create vrf session."/>
        <description>
          <text>Enable/disable BGP instances.</text>
        </description>
        <ext:generated-by value="system">
          <when condition="../../ni:name = '_public_'"/>
          <description>
            <text>The BGP public instance is generated automatically when BGP is enabled.</text>
          </description>
        </ext:generated-by>
        <leaf name="router-id">
          <type name="inet:ipv4-address-no-zone"/>
          <description>
            <text>ID of a router that is in IPv4 address format. Certain dynamic routing protocols require a router ID. If no router ID is specified for a router when these protocols are enabled, the router ID in the RM module is used by default. The default router ID in the RM module is 0.0.0.0 when the router is not configured with any interface.
The rules for selecting a router ID are as follows:
1. If you set a router ID through this configuration, the set router ID is used. If the router ID is not set, you need to select a router ID according to the following rules:
(1) If loopback interfaces configured with IP addresses exist, the largest IP address among the IP addresses of the loopback interfaces is selected as the router ID.
(2) If no loopback interface configured with an IP address exists, the largest IP address among the IP addresses of other interfaces is selected as the router ID, regardless of whether the interface is Up.
The router ID is reselected only when the interface address that is selected as the router ID is deleted or changed. The router ID is not reselected in any of the following cases:
a. The interface is Down.
b. A loopback interface is configured when the IP address of a non-loopback interface is selected as the router ID.
c. A larger IP address of an interface is configured.
2. Each VPN instance selects the router ID from the addresses of the interfaces of the VPN instance according to the preceding rules.
3. When both the AMB and SMB exist on the router, the system backs up the router ID set through the related command and the router ID that is selected from IP addresses of the interfaces. After the active/standby switchover is performed, the system checks the validity of the router ID selected from the interface addresses. If the router ID is invalid, the system reselects a router ID.</text>
          </description>
        </leaf>
        <leaf name="router-id-auto-select">
          <when condition="../../../ni:name!='_public_'"/>
          <type name="boolean"/>
          <must condition="../router-id-auto-select!='true' or (../router-id-auto-select='true' and not (../router-id))"/>
          <default value="false"/>
          <description>
            <text>Enable/disable router ID auto select. If a BGP VPN instance is not enabled to select a router ID, a router ID can be configured for the BGP VPN instance. If no router ID is configured for the BGP VPN instance, the BGP VPN instance inherits the router ID of the public network instance. If a BGP VPN instance is enabled to select a router ID, it uses the address of an interface bound to a VPN as the router ID based on the following rules:

1. If Loopback interfaces configured with IP addresses exist, the largest IP address among the IP addresses of the Loopback interfaces is selected as the router ID.

2. If there is no Loopback interface configured with an IP address, the largest IP address among the IP addresses of other interfaces is selected as the router ID, regardless of whether the interface is Up.</text>
          </description>
        </leaf>
        <leaf name="effect-router-id">
          <type name="inet:ipv4-address-no-zone"/>
          <default value="0.0.0.0"/>
          <config value="false"/>
          <description>
            <text>Router ID that takes effect.</text>
          </description>
        </leaf>
        <container name="afs">
          <description>
            <text>List of BGP address family instances.</text>
          </description>
          <list name="af">
            <key value="type"/>
            <description>
              <text>Configure BGP address family instance. In public network instances, all types of address families can be configured. In IPv4 VPN instances, the IPv4 unicast, IPv4 flow, and IPv4 labeled unicast address families can be configured. In IPv6 VPN instances, the IPv6 unicast and IPv6 flow address families can be configured. The IPv4 address family in the BGP _public_ VPN instance cannot be deleted.</text>
            </description>
            <ext:generated-by value="system">
              <when condition="../../../../ni:name = '_public_'"/>
              <ext:filter value="type = 'ipv4uni'"/>
              <description>
                <text>The IPv4 unicast of the BGP public instance is generated automatically when BGP is enabled.</text>
              </description>
            </ext:generated-by>
            <leaf name="type">
              <type name="bgp:af-type"/>
              <description>
                <text>Address family type of a BGP instance.</text>
              </description>
            </leaf>
            <container name="ipv4-unicast">
              <when condition="../type = 'ipv4uni'"/>
              <description>
                <text>Configure IPv4 unicast options.</text>
              </description>
              <container name="common">
                <description>
                  <text>Configure IPv4 unicast common options.</text>
                </description>
                <leaf name="auto-frr">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP Auto FRR. If IP FRR, VPN FRR, and Auto FRR are all enabled, IP FRR and VPN FRR take precedence over Auto FRR. If a route fails to match the routing policy of IP FRR or VPN FRR, Auto FRR takes effect.</text>
                  </description>
                </leaf>
                <leaf name="tunnel-selector-name">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="leafref">
                    <path value="/rtp:routing-policy/rtp:tunnel-selectors/rtp:tunnel-selector/rtp:name"/>
                  </type>
                  <description>
                    <text>Configure a tunnel selector and apply it to the BGP IPv4 unicast, BGP VPNv4 address families and BGP VPNv6 address families so that IPv4,VPNv4 and VPNv6 labeled routes can be iterated to tunnels based on the tunnel selector. By default, no tunnel selector is configured.</text>
                  </description>
                </leaf>
                <leaf name="tunnel-selector-all">
                  <when condition="../tunnel-selector-name"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable tunnel selector for labeled, imported, and network segment routes.</text>
                  </description>
                </leaf>
                <leaf name="route-select-delay">
                  <type name="uint16">
                    <range value="0..3600"/>
                  </type>
                  <units name="s"/>
                  <default value="0"/>
                  <description>
                    <text>Route selection delay.</text>
                  </description>
                </leaf>
                <uses name="reflector-cluster-type"/>
                <uses name="reflect-type"/>
                <leaf name="maximum-load-balancing-ibgp">
                  <type name="uint16">
                    <range value="1..65535"/>
                  </type>
                  <must condition="not (../maximum-load-balancing&gt;1 or ../maximum-load-balancing-eibgp or ../load-balancing-eibgp-enable='true') or ../maximum-load-balancing-ibgp=1"/>
                  <default value="1"/>
                  <description>
                    <text>Specify the maximum number of equal-cost IBGP routes.</text>
                  </description>
                </leaf>
                <leaf name="maximum-load-balancing-ebgp">
                  <type name="uint16">
                    <range value="1..65535"/>
                  </type>
                  <must condition="not (../maximum-load-balancing&gt;1 or ../maximum-load-balancing-eibgp or ../load-balancing-eibgp-enable='true') or ../maximum-load-balancing-ebgp=1"/>
                  <default value="1"/>
                  <description>
                    <text>Specify the maximum number of equal-cost EBGP routes.</text>
                  </description>
                </leaf>
                <leaf name="nexthop-select-depend-type">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="select-depend-type"/>
                  <default value="depend-ip"/>
                  <description>
                    <text>Specify the route iteration mode: IP or tunnel. In tunnel mode, the labeled BGP IPv4 route can participate in route selection only after its next hop is iterated to an LSP. In IP
mode, the labeled BGP IPv4 route can participate in route selection only after its next hop is iterated to an IP address. By default, the labeled BGP IPv4 route can participate in route selection
if its next hop can be iterated to an IP address, regardless of whether the LSP of the next hop exists. This allows the RR that is not enabled with MPLS to forward labeled routes. In non-RR
networking or RR networking where the BGP next hop is changed, BGP needs to check whether there is an LSP destined for the next hop. If such an LSP is not found, BGP needs to establish an LSP in
advance. If the default setting is adopted, a labeled BGP IPv4 unicast route may be selected prior to LSP establishment. As a result, services are incorrectly switched before LSP establishment and
service stability is affected. Therefore, allow route selection only after the labeled BGP IPv4 route is iterated to an LSP.</text>
                  </description>
                </leaf>
                <leaf name="nexthop-inherit-ip-cost">
                  <when condition="../nexthop-select-depend-type='depend-tunnel'"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable next hop iteration mode to IP. Specify the route iteration mode: IP or tunnel. In tunnel mode, the labeled BGP IPv4 route can participate in route selection only after its next hop is iterated to an LSP.</text>
                  </description>
                </leaf>
                <leaf name="nexthop-resolve-aigp">
                  <when condition="../../../../../../../ni:name!='_public_'"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable route with AIGP attribute for route selection.</text>
                  </description>
                </leaf>
                <leaf name="always-compare-med">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP to compare the MEDs of routes from peers in different ASs in route selection. If
there are multiple reachable routes to the same destination, the route with the smallest MED is preferred. Do not use this option unless different ASs use the same IGP and route selection mode.</text>
                  </description>
                </leaf>
                <leaf name="default-med">
                  <type name="uint32"/>
                  <default value="0"/>
                  <description>
                    <text>Specify the Multi-Exit-Discriminator (MED) of BGP routes. The value is an integer. This value is valid only for the imported routes and BGP summarized routes on the local router.</text>
                  </description>
                </leaf>
                <leaf name="summary-automatic">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable automatic summarization for imported routes. Manual summarization takes precedence over automatic summarization. After automatic summarization is enabled, BGP summarizes routes based on the natural network segment (for example, 10.1.1.1/24 and 10.2.1.1/24 are summarized into 10.0.0.0/8, a Class A address), and sends only the summarized route to peers. This reduces the number of routes.</text>
                  </description>
                </leaf>
                <leaf name="nexthop-third-party">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP third-party next hop.</text>
                  </description>
                </leaf>
                <leaf name="best-route-bit-error-detection">
                  <when condition="../../../../../../../ni:name!='_public_'"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable the function to reroute traffic when a bit error event occurs.</text>
                  </description>
                </leaf>
                <leaf name="supernet-unicast-advertise">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable the function to advertise supernet unicast routes.</text>
                  </description>
                </leaf>
                <leaf name="supernet-label-advertise">
                  <type name="boolean"/>
                  <default value="true"/>
                  <description>
                    <text>Enable/disable the function to advertise supernet labeled routes.</text>
                  </description>
                </leaf>
                <leaf name="lsp-mtu">
                  <type name="uint16">
                    <range value="46..65535"/>
                  </type>
                  <default value="1500"/>
                  <description>
                    <text>BGP LSP MTU.</text>
                  </description>
                </leaf>
                <leaf name="label-free-delay">
                  <type name="uint8">
                    <range value="0..180"/>
                  </type>
                  <units name="s"/>
                  <default value="0"/>
                  <description>
                    <text>Label Free Delay.</text>
                  </description>
                </leaf>
                <leaf name="bestroute-med-confederation">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP to compare MED value only within the federation.</text>
                  </description>
                </leaf>
                <leaf name="bestroute-as-path-ignore">
                  <type name="boolean"/>
                  <must condition="../bestroute-as-path-ignore = 'false' or ../load-balanc-as-path-ignore ='false'"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP to ignore the AS_Path attribute when selecting the optimal route. By default, BGP uses the AS_Path attribute as one of route selection rules, and a route with a shorter AS_Path is preferred. After bestroute-as-path-ignore is selected, BGP does not compare the AS_Path length.</text>
                  </description>
                </leaf>
                <leaf name="determin-med">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable deterministic MED so that the route selection result is relevant to the sequence in which routes are received.</text>
                  </description>
                </leaf>
                <leaf name="best-external">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="boolean"/>
                  <must condition="../best-external ='false' or ../determin-med ='false'"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable best external route selection.</text>
                  </description>
                </leaf>
                <leaf name="attribute-set-enable">
                  <when condition="../../../../../../../ni:name!='_public_'"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable the capability of processing attribute set.</text>
                  </description>
                </leaf>
                <leaf name="attribute-set-mode">
                  <when condition="../attribute-set-enable='true'"/>
                  <type name="bgp:attribute-set-type"/>
                  <default value="both"/>
                  <description>
                    <text>The processing mode of attribute set.</text>
                  </description>
                </leaf>
                <leaf name="add-path-select-num">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="uint8">
                    <range value="2..64"/>
                  </type>
                  <must condition="../determin-med ='false'"/>
                  <description>
                    <text>Number of Add-Path routes.</text>
                  </description>
                </leaf>
                <leaf name="load-balanc-igp-metric-ignore">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP to ignore the IGP cost of each BGP route to the next hop when selecting routes for load balancing. By default, only the routes with the same IGP cost can participate in load balancing.</text>
                  </description>
                </leaf>
                <leaf name="load-balanc-as-path-ignore">
                  <type name="boolean"/>
                  <must condition="../load-balanc-as-path-ignore ='false' or (../load-balanc-as-path-relax ='false' and ../bestroute-as-path-ignore ='false')"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP to ignore the AS_Path of each BGP route to the next hop when selecting routes for load balancing. By default, only the routes with the same AS_Path can participate in load balancing.</text>
                  </description>
                </leaf>
                <leaf name="load-balanc-as-path-relax">
                  <type name="boolean"/>
                  <must condition="../load-balanc-as-path-relax ='false' or ../load-balanc-as-path-ignore ='false'"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP to ignore comparison of AS_Path attributes with the same length. By default, only the routes with the same AS_Path can participate in load balancing.</text>
                  </description>
                </leaf>
                <leaf name="default-local-preference">
                  <type name="uint32">
                    <range value="0..4294967295"/>
                  </type>
                  <default value="100"/>
                  <description>
                    <text>The local preference of BGP routes.</text>
                  </description>
                </leaf>
                <leaf name="default-route-import">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable the function to import default routes into the BGP routing table. Default-route-imported must be used with import-routes so that default routes can be imported to the BGP routing table. If only import-routes is used, no default routes can be added to the BGP routing table. In addition, default-route-imported can only import the default routes in the routing table into the BGP routing table.</text>
                  </description>
                </leaf>
                <leaf name="routerid-neglect">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP to ignore router IDs when selecting the optimal route. Comparing router IDs is the last resort in route selection. This means that if one optimal route must be selected and no other parameters can be used to break the tie, router IDs can be used. If this option is selected, the first received route will be selected as the optimal route, and BGP will ignore the router ID and peer address in route selection.</text>
                  </description>
                </leaf>
                <leaf name="maximum-load-balancing">
                  <type name="uint16">
                    <range value="1..65535"/>
                  </type>
                  <must condition="not (../maximum-load-balancing-ibgp&gt;1 or ../maximum-load-balancing-ebgp&gt;1 or ../maximum-load-balancing-eibgp) or ../maximum-load-balancing=1"/>
                  <default value="1"/>
                  <description>
                    <text>Specify the maximum number of equal-cost routes in the BGP routing table. The value can be 1 or an integer greater than 1. The value depends on the associated license. Equal-cost BGP routes can be generated for load balancing only when the BGP routes meet the first nine rules of the route-selection policy and have the same AS-Path attribute.</text>
                  </description>
                </leaf>
                <leaf name="reflect-between-client">
                  <type name="boolean"/>
                  <default value="true"/>
                  <description>
                    <text>Enable/disable route reflection between clients. If clients of a route reflector (RR) are fully meshed, you can disable route reflection among clients to reduce the cost.</text>
                  </description>
                </leaf>
                <leaf name="import-rib-nexthop-invariable">
                  <when condition="../../../../../../../ni:name!='_public_'"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable the function to advertise the route without modifying the next-hop.</text>
                  </description>
                </leaf>
                <leaf name="route-relay-tunnel">
                  <type name="boolean"/>
                  <must condition="not(../route-relay-tunnel='true' and /rt:routing/rt:routing-manage/rt:relay-tunnel/rt:enable='true')"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable unicast route recursive-lookup tunnel.</text>
                  </description>
                </leaf>
                <leaf name="route-relay-tunnel-selector">
                  <when condition="../route-relay-tunnel='true'"/>
                  <type name="leafref">
                    <path value="/rtp:routing-policy/rtp:tunnel-selectors/rtp:tunnel-selector/rtp:name"/>
                  </type>
                  <description>
                    <text>Unicast route tunnel selector name.</text>
                  </description>
                </leaf>
                <leaf name="route-relay-tunnel-v6-selector">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="leafref">
                    <path value="/rtp:routing-policy/rtp:tunnel-selectors/rtp:tunnel-selector/rtp:name"/>
                  </type>
                  <description>
                    <text>Enable/disable unicast route recursive-lookup IPv6 tunnel by tunnel selector name.</text>
                  </description>
                </leaf>
                <uses name="bestroute-med-plus-igp-type"/>
                <uses name="bestroute-router-id-prior-clusterlist-type"/>
                <leaf name="bestroute-med-none-as-maximum">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP considers its MED as the largest MED value (4294967295). If a route does not carry MED, BGP considers its MED as the default value (0) during route selection.</text>
                  </description>
                </leaf>
                <leaf name="bestroute-rd-large-first">
                  <when condition="../../../../../../../ni:name!='_public_'"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable a BGP device to select the route with the largest route distinguisher (RD) during route selection.</text>
                  </description>
                </leaf>
                <leaf name="ebgp-ecmp-nexthop-changed">
                  <when condition="../maximum-load-balancing-ebgp and ../maximum-load-balancing-ebgp&gt;1"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable next hop of equal-cost EBGP routes is changed. When equal-cost EBGP routes are load-balancing traffic, the next hop of these routes is changed to a local interface before these routes are advertised. This function can be enabled only when the maximum number of equal-cost EBGP routes is greater than 1.</text>
                  </description>
                </leaf>
                <leaf name="ibgp-ecmp-nexthop-changed">
                  <when condition="../maximum-load-balancing-ibgp and ../maximum-load-balancing-ibgp&gt;1"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable next hop of equal-cost IBGP routes is changed. When equal-cost IBGP routes are load-balancing traffic, the next hop of these routes is changed to a local interface before these routes are advertised. This function can be enabled only when the maximum number of equal-cost IBGP routes is greater than 1.</text>
                  </description>
                </leaf>
                <leaf name="ecmp-nexthop-changed">
                  <when condition="../maximum-load-balancing and ../maximum-load-balancing&gt;1"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable next hop of equal-cost routes is changed. When equal-cost BGP routes are load-balancing traffic, the next hop of these routes is changed to a local interface before these routes are advertised. This function can be enabled only when the maximum number of equal-cost BGP routes is greater than 1.</text>
                  </description>
                </leaf>
                <leaf name="maximum-load-balancing-eibgp">
                  <when condition="../../../../../../../ni:name!='_public_'"/>
                  <type name="uint16">
                    <range value="1..65535"/>
                  </type>
                  <must condition="../maximum-load-balancing-ibgp=1 and ../maximum-load-balancing-ebgp=1 and ../maximum-load-balancing=1 and ../load-balancing-eibgp-enable='false'"/>
                  <description>
                    <text>Specify the maximum number of equal-cost EBGP routes and IBGP routes. After the attribute is set, load balancing is performed among equal-cost BGP VPN routes, regardless of the route type, EBGP or IBGP.</text>
                  </description>
                </leaf>
                <leaf name="eibgp-ecmp-nexthop-changed">
                  <when condition="../maximum-load-balancing-eibgp"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable next hop of equal-cost EBGP and IBGP routes is changed. When equal-cost EBGP and IBGP routes are load-balancing traffic, the next hop of these routes is changed to a local interface before these routes are advertised.</text>
                  </description>
                </leaf>
                <leaf name="load-balancing-eibgp-enable">
                  <when condition="../../../../../../../ni:name!='_public_'"/>
                  <type name="boolean"/>
                  <must condition="not (../maximum-load-balancing-ibgp&gt;1 or ../maximum-load-balancing-ebgp&gt;1 or ../maximum-load-balancing-eibgp) or ../load-balancing-eibgp-enable='false'"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable EIBGP route load balancing.</text>
                  </description>
                </leaf>
                <leaf name="ext-community-change">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable the function to change the extended community attribute.</text>
                  </description>
                </leaf>
                <leaf name="active-route-advertise">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable the function to advertise the optimal routes in the RM module to peers.</text>
                  </description>
                </leaf>
                <leaf name="nexthop-priority">
                  <type name="nexthop-priority-address-type"/>
                  <description>
                    <text>Routes with next-hop IPv4 addresses and routes with next-hop IPv6 addresses coexist. If the next-hop address type is set to IPv4, routes with next-hop IPv4 addresses have a higher priority. If the next-hop address type is set to IPv6, routes with next-hop IPv6 addresses have a higher priority.</text>
                  </description>
                </leaf>
                <leaf name="ebgp-interface-sensitive">
                  <type name="boolean"/>
                  <default value="true"/>
                  <description>
                    <text>Enable/disable the function of EBGP interface fast sensing. If this function is enabled, the sessions of directly connected EBGP peers are immediately cleared from the associated interface when the interface becomes down.</text>
                  </description>
                </leaf>
                <uses name="group-origin-as-validation-type"/>
                <leaf name="advertise-route-mode">
                  <when condition="../../../../../../../ni:name!='_public_'"/>
                  <type name="bgp-advertise-route-mode"/>
                  <default value="all"/>
                  <description>
                    <text>VPN advertise route mode.</text>
                  </description>
                </leaf>
                <leaf name="reoriginate-route">
                  <when condition="../../../../../../../ni:name!='_public_'"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable route reorigination.</text>
                  </description>
                </leaf>
                <leaf name="rpd-policy-change-delay">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="uint16">
                    <range value="0..180"/>
                  </type>
                  <default value="30"/>
                  <description>
                    <text>Specify the delay time of RPD policy's change.</text>
                  </description>
                </leaf>
              </container>
              <uses name="bgp-route-preference-options"/>
              <container name="nexthop-recursive-lookup">
                <description>
                  <text>Configure next hop iteration.</text>
                </description>
                <container name="common">
                  <description>
                    <text>Configure next hop iteration common options.</text>
                  </description>
                  <uses name="nexthop-recursive-lookup-restrain"/>
                  <uses name="nexthop-recursive-lookup-default-route"/>
                </container>
                <uses name="nexthop-recursive-lookup-delay"/>
              </container>
              <container name="import-routes">
                <description>
                  <text>List of imported routes.</text>
                </description>
                <list name="import-route">
                  <key value="protocol process-id"/>
                  <description>
                    <text>Configure route import. Routes of other protocol types can be imported by BGP. By default, BGP does not import routes of other protocol types.</text>
                  </description>
                  <leaf name="protocol">
                    <type name="bgp:ipv4-import-route-protocol-type"/>
                    <description>
                      <text>Routing protocol from which routes can be imported.</text>
                    </description>
                  </leaf>
                  <leaf name="process-id">
                    <type name="uint32">
                      <range value="0..4294967295"/>
                    </type>
                    <description>
                      <text>Process ID of an imported routing protocol. The process ID is 0, if the imported routing protocol is direct routes, static routes, UNRs, or OP-routes. The process ID must be specified range from 1 to 4294967295, if the imported routing protocol is RIP, OSPF, ISIS.</text>
                    </description>
                  </leaf>
                  <leaf name="med">
                    <type name="uint32"/>
                    <description>
                      <text>Specifies the MED metric of the imported route.</text>
                    </description>
                  </leaf>
                  <choice name="policy-type">
                    <description>
                      <text>Set route policy or filter.</text>
                    </description>
                    <case name="rtp-ref">
                      <description>
                        <text>Route policy.</text>
                      </description>
                      <leaf name="policy-name">
                        <type name="leafref">
                          <path value="/rtp:routing-policy/rtp:policy-definitions/rtp:policy-definition/rtp:name"/>
                        </type>
                        <description>
                          <text>When routes are imported from other routing protocols, the route-policy filter can be used to filter the routes and change route attributes.</text>
                        </description>
                      </leaf>
                    </case>
                    <case name="xpl-ref">
                      <description>
                        <text>Route filter.</text>
                      </description>
                      <uses name="route-filter-type"/>
                    </case>
                  </choice>
                  <leaf name="non-relay-tunnel">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable imported route relay a tunnel.</text>
                    </description>
                  </leaf>
                </list>
              </container>
              <container name="aggregate-routes">
                <description>
                  <text>List of summarized routes.</text>
                </description>
                <list name="aggregate-route">
                  <key value="address mask-length"/>
                  <description>
                    <text>Configure a summarized route in the BGP routing table. The local outbound interface of the summarized route is Null0. When another router receives the route, the route adds an outbound interface to the route. If the Origin attributes of the specific routes for the route summarization are different, the Origin attribute of the summarized route is that with the highest priority. Origin attributes are arranged in the priority order of complete &gt; egp &gt; igp. A summarized route carries the community attribute of each specific route.</text>
                  </description>
                  <uses name="unicast-aggregate-routes-type">
                    <refine target-node="address">
                      <must condition="not(contains(../address,':'))"/>
                    </refine>
                    <refine target-node="mask-length">
                      <must condition="../mask-length&lt;=32"/>
                    </refine>
                  </uses>
                </list>
              </container>
              <container name="aggregate-default-route">
                <description>
                  <text>Configure aggregate default route.</text>
                </description>
                <leaf name="origin-ip-prefix">
                  <type name="leafref">
                    <path value="/rtp:routing-policy/rtp:ipv4-prefix-filters/rtp:ipv4-prefix-filter/rtp:name"/>
                  </type>
                  <description>
                    <text>Specify the name of an IPv4 prefix list for a summary default route. Only the name of an IPv4 prefix list can be configured in a BGP IPv4 address family.</text>
                  </description>
                </leaf>
                <leaf name="attribute-policy">
                  <when condition="../origin-ip-prefix"/>
                  <type name="leafref">
                    <path value="/rtp:routing-policy/rtp:policy-definitions/rtp:policy-definition/rtp:name"/>
                  </type>
                  <description>
                    <text>Specify an attribute policy of a summary default route.</text>
                  </description>
                </leaf>
              </container>
              <container name="network-routes">
                <description>
                  <text>List of network routes.</text>
                </description>
                <list name="network-route">
                  <key value="address mask-length"/>
                  <description>
                    <text>Configure a network route in the BGP routing table.</text>
                  </description>
                  <uses name="network-route-ipv4"/>
                  <leaf name="non-relay-tunnel">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable imported route relay a tunnel.</text>
                    </description>
                  </leaf>
                </list>
              </container>
              <container name="advertise-route-to-evpns">
                <when condition="../../../../../../ni:name!='_public_'"/>
                <description>
                  <text>Configure advertise route protocol.</text>
                </description>
                <uses name="advertise-route-to-evpn-type"/>
              </container>
              <container name="import-ribs">
                <description>
                  <text>List of imported RIBs configuration.</text>
                </description>
                <list name="import-rib">
                  <key value="source-vpn source-address-family"/>
                  <description>
                    <text>Configure imported RIBs.</text>
                  </description>
                  <leaf name="source-vpn">
                    <type name="leafref">
                      <path value="/ni:network-instance/ni:instances/ni:instance/ni:name"/>
                    </type>
                    <must condition="../../../../../../../../ni:name != current()"/>
                    <description>
                      <text>Source VPN name.</text>
                    </description>
                  </leaf>
                  <leaf name="source-address-family">
                    <type name="bgp:import-rib-ipv4-safi-type"/>
                    <description>
                      <text>Source address family type.</text>
                    </description>
                  </leaf>
                  <leaf name="valid-route">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable imported valid route.</text>
                    </description>
                  </leaf>
                  <leaf name="include-label-route">
                    <when condition="../source-address-family='ipv4uni'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable imported include label route.</text>
                    </description>
                  </leaf>
                  <uses name="choice-policy-set">
                    <refine target-node="policy-type">
                      <description>
                        <text>Specify the route-policy or filter for imported RIBs.</text>
                      </description>
                    </refine>
                  </uses>
                </list>
              </container>
              <uses name="ipv4-import-filter-protocol-type"/>
              <container name="export-filter-policys">
                <description>
                  <text>List of filtering policies.</text>
                </description>
                <list name="export-filter-policy">
                  <key value="protocol process-id"/>
                  <description>
                    <text>Apply a filtering policy. It is used to filter the routes to be advertised to the peer. By default, routes are not filtered.</text>
                  </description>
                  <leaf name="protocol">
                    <type name="bgp:ipv4-export-filter-protocol-type"/>
                    <description>
                      <text>Specify the name of a routing protocol. The routing protocol takes effect only on the routes to be advertised. The IPv4 address family supports the direct, IS-IS, OSPF, RIP, and static routing protocols. The IPv6 unicast address family of a public network instance supports the direct, IS-IS, OSPFv3, RIPng, and static routing protocols. The IPv6 address family of a VPNv6 instance supports the direct, IS-IS, RIPng, and static routing protocols.</text>
                    </description>
                  </leaf>
                  <leaf name="process-id">
                    <type name="uint32">
                      <range value="0..4294967295"/>
                    </type>
                    <description>
                      <text>Specify the process ID required to be matched. The value is an integer ranging from 0 to 4294967295. If direct or static routes need to be filtered, no process ID is required.</text>
                    </description>
                  </leaf>
                  <uses name="ipv4-filter-protocol-policy-choice-type"/>
                </list>
              </container>
              <container name="lsp-options">
                <description>
                  <text>Configure parameters for lsp.</text>
                </description>
                <uses name="safi-lsp-options"/>
                <leaf name="maximum-load-balancing-transit">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="uint16">
                    <range value="1..65535"/>
                  </type>
                  <default value="1"/>
                  <description>
                    <text>Maximum number of transit LSPs for load balancing.</text>
                  </description>
                </leaf>
                <leaf name="unicast-rt-label-advertise">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable a device to convert received IPv4 public network unicast routes to labeled routes by allocating one BGP label to each route and advertise the labeled routes to peers with the labeled route exchange capability.</text>
                  </description>
                </leaf>
                <leaf name="unicast-rt-label-advertise-popgo">
                  <when condition="../unicast-rt-label-advertise = 'true'"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable a device to convert received IPv4 public network unicast routes to labeled routes by adding a BGP label to each route and advertise the labeled routes to peers with the labeled route exchange capability. If the IP address of an outbound interface is reachable but no LSP is reachable, traffic is forwarded through the outbound interface and a specific next hop, during which the label POPGO action is performed.</text>
                  </description>
                </leaf>
                <leaf name="lsp-operation">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="lsp-operation-type"/>
                  <default value="pop"/>
                  <description>
                    <text>Label operation type.</text>
                  </description>
                </leaf>
                <uses name="ingress-choice-policy-set"/>
              </container>
              <container name="segment-routing-ipv6">
                <description>
                  <text>Configure BGP segment-routing IPv6.</text>
                </description>
                <leaf name="srv6-best-effort-enable">
                  <type name="empty"/>
                  <description>
                    <text>Enable SRv6 BE iteration.</text>
                  </description>
                </leaf>
                <leaf name="srv6-traffic-engineer-enable">
                  <type name="empty"/>
                  <description>
                    <text>Enable SRv6 TE iteration.</text>
                  </description>
                </leaf>
              </container>
              <uses name="vrf-af-dampening-routes"/>
              <uses name="bgp:slow-peer-type"/>
              <uses name="routing-table-rib-only-type">
                <refine target-node="routing-table-rib-only/enable">
                  <must condition="not (../../common/active-route-advertise = 'true' and ../enable = 'true')"/>
                </refine>
              </uses>
              <uses name="qos-local-id-type"/>
            </container>
            <container name="ipv6-unicast">
              <when condition="../type = 'ipv6uni'"/>
              <description>
                <text>Configure IPv6 unicast options.</text>
              </description>
              <container name="common">
                <description>
                  <text>Configure IPv6 unicast common options.</text>
                </description>
                <leaf name="auto-frr">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP auto FRR. If IP FRR, VPN FRR, and Auto FRR are all enabled, IP FRR and VPN FRR take precedence over Auto FRR. If a route fails to match the routing policy of IP FRR or VPN FRR, Auto FRR takes effect.</text>
                  </description>
                </leaf>
                <leaf name="route-select-delay">
                  <type name="uint16">
                    <range value="0..3600"/>
                  </type>
                  <units name="s"/>
                  <default value="0"/>
                  <description>
                    <text>Route selection delay.</text>
                  </description>
                </leaf>
                <uses name="reflector-cluster-type"/>
                <uses name="reflect-type"/>
                <leaf name="maximum-load-balancing-ibgp">
                  <type name="uint16">
                    <range value="1..65535"/>
                  </type>
                  <default value="1"/>
                  <description>
                    <text>Specify the maximum number of equal-cost IBGP routes.</text>
                  </description>
                </leaf>
                <leaf name="maximum-load-balancing-ebgp">
                  <type name="uint16">
                    <range value="1..65535"/>
                  </type>
                  <default value="1"/>
                  <description>
                    <text>Specify the maximum number of equal-cost EBGP routes.</text>
                  </description>
                </leaf>
                <leaf name="explicit-null">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="boolean"/>
                  <must condition="not(../lsp-operation='pop-go' and ../explicit-null='true')"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable the function to explicit null. After 6PE routes are enabled to share a single label, all routes share the explicit-null label 2 when the 6PE sends IPv6 routes to its 6PE peer. This can save label resources on the 6PE. Therefore, when there are a large number of IPv6 routes that need to be sent, the problem that the IPv6 routes cannot be forwarded due to the shortage of labels can be avoided.</text>
                  </description>
                </leaf>
                <leaf name="lsp-operation">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="lsp-operation-type"/>
                  <must condition="not(../lsp-operation='pop-go' and ../explicit-null='true')"/>
                  <default value="pop"/>
                  <description>
                    <text>Label operation mode.</text>
                  </description>
                </leaf>
                <leaf name="nexthop-select-depend-type">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="select-depend-type"/>
                  <default value="depend-tunnel"/>
                  <description>
                    <text>Specify the route iteration mode: IP or tunnel. In tunnel mode, the labeled BGP IPv4 route can participate in route selection only after its next hop is iterated to an LSP. In IP
mode, the labeled BGP IPv4 route can participate in route selection only after its next hop is iterated to an IP address. By default, the labeled BGP IPv4 route can participate in route selection
if its next hop can be iterated to an IP address, regardless of whether the LSP of the next hop exists. This allows the RR that is not enabled with MPLS to forward labeled routes. In non-RR
networking or RR networking where the BGP next hop is changed, BGP needs to check whether there is an LSP destined for the next hop. If such an LSP is not found, BGP needs to establish an LSP in
advance. If the default setting is adopted, a labeled BGP IPv4 unicast route may be selected prior to LSP establishment. As a result, services are incorrectly switched before LSP establishment and
service stability is affected. Therefore, allow route selection only after the labeled BGP IPv4 route is iterated to an LSP.</text>
                  </description>
                </leaf>
                <leaf name="nexthop-inherit-ip-cost">
                  <when condition="../nexthop-select-depend-type='depend-tunnel'"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable next hop iteration mode to IP. Specify the route iteration mode: IP or tunnel. In tunnel mode, the labeled BGP IPv4 route can participate in route selection only after its next hop is iterated to an LSP.</text>
                  </description>
                </leaf>
                <leaf name="nexthop-resolve-aigp">
                  <when condition="../../../../../../../ni:name!='_public_'"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable route with AIGP attribute for route selection.</text>
                  </description>
                </leaf>
                <leaf name="always-compare-med">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP to compare the MEDs of routes from peers in different ASs in route selection. If
there are multiple reachable routes to the same destination, the route with the smallest MED is preferred. Do not use this option unless different ASs use the same IGP and route selection mode.</text>
                  </description>
                </leaf>
                <leaf name="default-med">
                  <type name="uint32"/>
                  <default value="0"/>
                  <description>
                    <text>Specify the Multi-Exit-Discriminator (MED) of BGP routes. The value is an integer. This value is valid only for the imported routes and BGP summarized routes on the local router.</text>
                  </description>
                </leaf>
                <leaf name="nexthop-third-party">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP third-party next hop.</text>
                  </description>
                </leaf>
                <leaf name="supernet-unicast-advertise">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable advertise supernet unicast routes.</text>
                  </description>
                </leaf>
                <leaf name="bestroute-med-confederation">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP to compare Med value only within the federation.</text>
                  </description>
                </leaf>
                <leaf name="bestroute-as-path-ignore">
                  <type name="boolean"/>
                  <must condition="../bestroute-as-path-ignore = 'false' or ../load-balanc-as-path-ignore ='false'"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP to ignore the AS_Path attribute when selecting the optimal route. By default, BGP uses the AS_Path attribute as one of route selection rules, and a route with a shorter AS_Path is preferred. After bestroute-as-path-ignore is selected, BGP does not compare the AS_Path length.</text>
                  </description>
                </leaf>
                <leaf name="determin-med">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable deterministic MED so that the route selection result is relevant to the sequence in which routes are received.</text>
                  </description>
                </leaf>
                <leaf name="best-external">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="boolean"/>
                  <must condition="../best-external ='false' or ../determin-med ='false'"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable best external route selection.</text>
                  </description>
                </leaf>
                <leaf name="attribute-set-enable">
                  <when condition="../../../../../../../ni:name!='_public_'"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable the capability of processing attribute set.</text>
                  </description>
                </leaf>
                <leaf name="attribute-set-mode">
                  <when condition="../attribute-set-enable='true'"/>
                  <type name="bgp:attribute-set-type"/>
                  <default value="both"/>
                  <description>
                    <text>The processing mode of attribute set.</text>
                  </description>
                </leaf>
                <leaf name="add-path-select-num">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="uint8">
                    <range value="2..64"/>
                  </type>
                  <must condition="../determin-med ='false'"/>
                  <description>
                    <text>Number of add-path routes.</text>
                  </description>
                </leaf>
                <leaf name="load-balanc-igp-metric-ignore">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP to ignore the IGP cost of each BGP route to the next hop when selecting routes for load balancing. By default, only the routes with the same IGP cost can participate in load balancing.</text>
                  </description>
                </leaf>
                <leaf name="load-balanc-as-path-ignore">
                  <type name="boolean"/>
                  <must condition="../load-balanc-as-path-ignore ='false' or (../load-balanc-as-path-relax ='false' and ../bestroute-as-path-ignore ='false')"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP to ignore the AS_Path of each BGP route to the next hop when selecting routes for load balancing. By default, only the routes with the same AS_Path can participate in load balancing.</text>
                  </description>
                </leaf>
                <leaf name="load-balanc-as-path-relax">
                  <type name="boolean"/>
                  <must condition="../load-balanc-as-path-relax ='false' or ../load-balanc-as-path-ignore ='false'"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP to ignore comparison of AS_Path attributes with the same length. By default, only the routes with the same AS_Path can participate in load balancing.</text>
                  </description>
                </leaf>
                <leaf name="default-local-preference">
                  <type name="uint32">
                    <range value="0..4294967295"/>
                  </type>
                  <default value="100"/>
                  <description>
                    <text>The local preference of BGP routes.</text>
                  </description>
                </leaf>
                <leaf name="default-route-import">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable the function to import default routes into the BGP routing table. Default-route-imported must be used with import-routes so that default routes can be imported to the BGP routing table. If only import-routes is used, no default routes can be added to the BGP routing table. In addition, default-route-imported can only import the default routes in the routing table into the BGP routing table.</text>
                  </description>
                </leaf>
                <leaf name="routerid-neglect">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP to ignore router IDs when selecting the optimal route. Comparing router IDs is the last resort in route selection. This means that if one optimal route must be selected and no other parameters can be used to break the tie, router IDs can be used. If this option is selected, the first received route will be selected as the optimal route, and BGP will ignore the router ID and peer address in route selection.</text>
                  </description>
                </leaf>
                <leaf name="maximum-load-balancing">
                  <type name="uint16">
                    <range value="1..65535"/>
                  </type>
                  <default value="1"/>
                  <description>
                    <text>Specify the maximum number of equal-cost routes in the BGP routing table. The value depends on the associated license. Equal-cost BGP routes can be generated for load balancing only when the BGP routes meet the first nine rules of the route-selection policy and have the same AS-Path attribute.</text>
                  </description>
                </leaf>
                <leaf name="reflect-between-client">
                  <type name="boolean"/>
                  <default value="true"/>
                  <description>
                    <text>Enable/disable route reflection between clients. If clients of a route reflector (RR) are fully meshed, you can disable route reflection among clients to reduce the cost.</text>
                  </description>
                </leaf>
                <leaf name="best-route-bit-error-detection">
                  <when condition="../../../../../../../ni:name!='_public_'"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable the function to reroute traffic when a bit error event occurs.</text>
                  </description>
                </leaf>
                <leaf name="import-rib-nexthop-invariable">
                  <when condition="../../../../../../../ni:name!='_public_'"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable advertise the route without modifying the next-hop.</text>
                  </description>
                </leaf>
                <leaf name="route-relay-tunnel-v4">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable unicast-route recursive-lookup tunnel.</text>
                  </description>
                </leaf>
                <leaf name="route-relay-tunnel-v4-selector">
                  <when condition="../route-relay-tunnel-v4='true'"/>
                  <type name="leafref">
                    <path value="/rtp:routing-policy/rtp:tunnel-selectors/rtp:tunnel-selector/rtp:name"/>
                  </type>
                  <description>
                    <text>Unicast route tunnel selector name.</text>
                  </description>
                </leaf>
                <leaf name="route-relay-tunnel-v6-selector">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="leafref">
                    <path value="/rtp:routing-policy/rtp:tunnel-selectors/rtp:tunnel-selector/rtp:name"/>
                  </type>
                  <description>
                    <text>Enable/disable unicast route recursive-lookup IPv6 tunnel by tunnel selector name.</text>
                  </description>
                </leaf>
                <uses name="bestroute-med-plus-igp-type"/>
                <uses name="bestroute-router-id-prior-clusterlist-type"/>
                <leaf name="bestroute-med-none-as-maximum">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP considers its MED as the largest MED value (4294967295). If a route does not carry MED, BGP considers its MED as the default value (0) during route selection.</text>
                  </description>
                </leaf>
                <leaf name="bestroute-rd-large-first">
                  <when condition="../../../../../../../ni:name!='_public_'"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable a BGP device to select the route with the largest route distinguisher (RD) during route selection.</text>
                  </description>
                </leaf>
                <leaf name="nexthop-priority">
                  <when condition="../../../../../../../ni:name!='_public_'"/>
                  <type name="nexthop-priority-address-type"/>
                  <description>
                    <text>In the VRF instance, routes with next-hop IPv4 addresses and routes with next-hop IPv6 addresses coexist. If the next-hop address type is set to IPv4, routes with next-hop IPv4 addresses have a higher priority. If the next-hop address type is set to IPv6, routes with next-hop IPv6 addresses have a higher priority.</text>
                  </description>
                </leaf>
                <leaf name="ebgp-ecmp-nexthop-changed">
                  <when condition="../maximum-load-balancing-ebgp and ../maximum-load-balancing-ebgp&gt;1"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable next hop of equal-cost EBGP routes is changed. Enable/disable next hop of equal-cost EBGP routes is changed. When equal-cost EBGP routes are load-balancing traffic, the next hop of these routes is changed to a local interface before these routes are advertised. This function can be enabled only when the maximum number of equal-cost EBGP routes is greater than 1.</text>
                  </description>
                </leaf>
                <leaf name="ibgp-ecmp-nexthop-changed">
                  <when condition="../maximum-load-balancing-ibgp and ../maximum-load-balancing-ibgp&gt;1"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable next hop of equal-cost IBGP routes is changed. When equal-cost IBGP routes are load-balancing traffic, the next hop of these routes is changed to a local interface before these routes are advertised. This function can be enabled only when the maximum number of equal-cost IBGP routes is greater than 1.</text>
                  </description>
                </leaf>
                <leaf name="ecmp-nexthop-changed">
                  <when condition="../maximum-load-balancing and ../maximum-load-balancing&gt;1"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable next hop of equal-cost routes is changed. When equal-cost BGP routes are load-balancing traffic, the next hop of these routes is changed to a local interface before these routes are advertised. This function can be enabled only when the maximum number of equal-cost BGP routes is greater than 1.</text>
                  </description>
                </leaf>
                <leaf name="maximum-load-balancing-eibgp">
                  <when condition="../../../../../../../ni:name!='_public_'"/>
                  <type name="uint16">
                    <range value="1..65535"/>
                  </type>
                  <must condition="../maximum-load-balancing-ibgp=1 and ../maximum-load-balancing-ebgp=1 and ../maximum-load-balancing=1 and ../load-balancing-eibgp-enable='false'"/>
                  <description>
                    <text>Specify the maximum number of equal-cost EBGP routes and IBGP routes. After the attribute is set, load balancing is performed among equal-cost BGP VPN routes, regardless of the route type, EBGP or IBGP.</text>
                  </description>
                </leaf>
                <leaf name="eibgp-ecmp-nexthop-changed">
                  <when condition="../maximum-load-balancing-eibgp"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable next hop of equal-cost EBGP and IBGP routes is changed. When equal-cost EBGP and IBGP routes are load-balancing traffic, the next hop of these routes is changed to a local interface before these routes are advertised.</text>
                  </description>
                </leaf>
                <leaf name="load-balancing-eibgp-enable">
                  <when condition="../../../../../../../ni:name!='_public_'"/>
                  <type name="boolean"/>
                  <must condition="not (../maximum-load-balancing-ibgp&gt;1 or ../maximum-load-balancing-ebgp&gt;1 or ../maximum-load-balancing-eibgp) or ../load-balancing-eibgp-enable='false'"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable EIBGP route load balancing.</text>
                  </description>
                </leaf>
                <leaf name="ext-community-change">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable the function to change the extended community attribute.</text>
                  </description>
                </leaf>
                <leaf name="active-route-advertise">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable the function to advertise the optimal routes in the RM module to peers.</text>
                  </description>
                </leaf>
                <leaf name="ebgp-interface-sensitive">
                  <type name="boolean"/>
                  <default value="true"/>
                  <description>
                    <text>Enable/disable the function of EBGP interface fast sensing. If this function is enabled, the sessions of directly connected EBGP peers are immediately cleared from the associated interface when the interface becomes down.</text>
                  </description>
                </leaf>
                <uses name="group-origin-as-validation-type"/>
                <leaf name="advertise-route-mode">
                  <when condition="../../../../../../../ni:name!='_public_'"/>
                  <type name="bgp-advertise-route-mode"/>
                  <default value="all"/>
                  <description>
                    <text>VPN advertise route mode.</text>
                  </description>
                </leaf>
              </container>
              <uses name="bgp-route-preference-options"/>
              <container name="nexthop-recursive-lookup">
                <description>
                  <text>Configure next hop iteration.</text>
                </description>
                <container name="common">
                  <description>
                    <text>Configure next hop iteration common options.</text>
                  </description>
                  <uses name="nexthop-recursive-lookup-restrain"/>
                  <uses name="nexthop-recursive-lookup-default-route"/>
                </container>
                <uses name="nexthop-recursive-lookup-delay"/>
              </container>
              <container name="import-routes">
                <description>
                  <text>List of imported routes.</text>
                </description>
                <list name="import-route">
                  <key value="protocol process-id"/>
                  <description>
                    <text>Configure route import. Routes of other protocol types can be imported by BGP. By default, BGP does not import routes of other protocol types.</text>
                  </description>
                  <leaf name="protocol">
                    <type name="bgp:ipv6-import-route-protocol-type"/>
                    <description>
                      <text>Routing protocol from which routes can be imported.</text>
                    </description>
                  </leaf>
                  <leaf name="process-id">
                    <type name="uint32">
                      <range value="0..4294967295"/>
                    </type>
                    <description>
                      <text>Process ID of an imported routing protocol. The process ID is 0, if the imported routing protocol is direct routes, static routes, UNRs, or OP-routes. The process ID must be specified range from 1 to 4294967295, if the imported routing protocol is ISIS, RIPng, or OSPFv3.</text>
                    </description>
                  </leaf>
                  <leaf name="med">
                    <type name="uint32"/>
                    <description>
                      <text>Specifies the MED metric of the imported route.</text>
                    </description>
                  </leaf>
                  <choice name="policy-type">
                    <description>
                      <text>Set route policy or filter.</text>
                    </description>
                    <case name="rtp-ref">
                      <description>
                        <text>Route policy.</text>
                      </description>
                      <leaf name="policy-name">
                        <type name="leafref">
                          <path value="/rtp:routing-policy/rtp:policy-definitions/rtp:policy-definition/rtp:name"/>
                        </type>
                        <description>
                          <text>When routes are imported from other routing protocols, the route-policy filter can be used to filter the routes and change route attributes.</text>
                        </description>
                      </leaf>
                    </case>
                    <case name="xpl-ref">
                      <description>
                        <text>Route filter.</text>
                      </description>
                      <uses name="route-filter-type"/>
                    </case>
                  </choice>
                </list>
              </container>
              <container name="aggregate-routes">
                <description>
                  <text>List of summarized routes.</text>
                </description>
                <list name="aggregate-route">
                  <key value="address mask-length"/>
                  <description>
                    <text>Configure a summarized route in the BGP routing table. The local outbound interface of the summarized route is Null0. When another router receives the route, the route adds an outbound interface to the route. By default, route summarization is not performed. If the Origin attributes of the specific routes for the route summarization are different, the Origin attribute of the summarized route is that with the highest priority. Origin attributes are arranged in the priority order of complete &gt; egp &gt; igp. A summarized route carries the community attribute of each specific route.</text>
                  </description>
                  <uses name="unicast-aggregate-routes-type">
                    <refine target-node="address">
                      <must condition="contains(../address,':')"/>
                    </refine>
                    <refine target-node="mask-length">
                      <must condition="../mask-length&lt;=128"/>
                    </refine>
                  </uses>
                </list>
              </container>
              <container name="aggregate-default-route">
                <description>
                  <text>Configure aggregate default route.</text>
                </description>
                <leaf name="origin-ipv6-prefix">
                  <type name="leafref">
                    <path value="/rtp:routing-policy/rtp:ipv6-prefix-filters/rtp:ipv6-prefix-filter/rtp:name"/>
                  </type>
                  <description>
                    <text>Specify the name of an IPv6 prefix list for a summary default route. Only the name of an IPv6 prefix list can be configured in a BGP IPv6 address family.</text>
                  </description>
                </leaf>
                <leaf name="attribute-policy">
                  <when condition="../origin-ipv6-prefix"/>
                  <type name="leafref">
                    <path value="/rtp:routing-policy/rtp:policy-definitions/rtp:policy-definition/rtp:name"/>
                  </type>
                  <description>
                    <text>Specify an attribute policy of a summary default route.</text>
                  </description>
                </leaf>
              </container>
              <container name="network-routes">
                <description>
                  <text>List of network routes.</text>
                </description>
                <list name="network-route">
                  <key value="address mask-length"/>
                  <description>
                    <text>Configure a network route in the BGP routing table.</text>
                  </description>
                  <uses name="network-route-ipv6"/>
                </list>
              </container>
              <container name="advertise-route-to-evpns">
                <when condition="../../../../../../ni:name!='_public_'"/>
                <description>
                  <text>Configure advertise route protocol.</text>
                </description>
                <uses name="advertise-route-to-evpn-type"/>
              </container>
              <container name="import-ribs">
                <description>
                  <text>List of imported RIBs configuration.</text>
                </description>
                <list name="import-rib">
                  <key value="source-vpn source-address-family"/>
                  <description>
                    <text>Configure imported RIBs.</text>
                  </description>
                  <leaf name="source-vpn">
                    <type name="leafref">
                      <path value="/ni:network-instance/ni:instances/ni:instance/ni:name"/>
                    </type>
                    <must condition="../../../../../../../../ni:name != current()"/>
                    <description>
                      <text>Source VPN name for imported RIBs.</text>
                    </description>
                  </leaf>
                  <leaf name="source-address-family">
                    <type name="bgp:import-rib-ipv6-safi-type"/>
                    <description>
                      <text>Source address family type for imported RIBs.</text>
                    </description>
                  </leaf>
                  <leaf name="valid-route">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable imported valid route.</text>
                    </description>
                  </leaf>
                  <leaf name="include-label-route">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable imported include label route.</text>
                    </description>
                  </leaf>
                  <uses name="choice-policy-set">
                    <refine target-node="policy-type">
                      <description>
                        <text>Specify the route-policy or filter for imported RIBs.</text>
                      </description>
                    </refine>
                  </uses>
                </list>
              </container>
              <container name="segment-routing-ipv6">
                <when condition="../../../../../../ni:name='_public_'"/>
                <description>
                  <text>Configure BGP segment-routing IPv6.</text>
                </description>
                <leaf name="srv6-best-effort-enable">
                  <type name="empty"/>
                  <description>
                    <text>Enable SRv6 BE iteration.</text>
                  </description>
                </leaf>
                <leaf name="srv6-traffic-engineer-enable">
                  <type name="empty"/>
                  <description>
                    <text>Enable SRv6 TE iteration.</text>
                  </description>
                </leaf>
              </container>
              <uses name="vrf-af-dampening-routes"/>
              <uses name="ipv6-import-filter-protocol-type"/>
              <uses name="ipv6-export-filter-protocol-type"/>
              <uses name="bgp:slow-peer-type"/>
              <uses name="routing-table-rib-only-type">
                <refine target-node="routing-table-rib-only/enable">
                  <must condition="not (../../common/active-route-advertise = 'true' and ../enable = 'true')"/>
                </refine>
              </uses>
              <uses name="ipv6-qos-local-id-type"/>
            </container>
            <container name="ipv4-vpn">
              <when condition="../type = 'ipv4vpn'"/>
              <description>
                <text>Configure IPv4 VPNv4 options.</text>
              </description>
              <uses name="vpn-target-type"/>
              <uses name="reflector-cluster-type"/>
              <uses name="reflect-type"/>
              <leaf name="auto-frr">
                <type name="boolean"/>
                <default value="false"/>
                <description>
                  <text>Enable/disable BGP Auto FRR. If IP FRR, VPN FRR, and Auto FRR are all enabled, IP FRR and VPN FRR take precedence over Auto FRR. If a route fails to match the routing policy of IP FRR or VPN FRR, Auto FRR takes effect.</text>
                </description>
              </leaf>
              <leaf name="tunnel-selector-name">
                <type name="leafref">
                  <path value="/rtp:routing-policy/rtp:tunnel-selectors/rtp:tunnel-selector/rtp:name"/>
                </type>
                <description>
                  <text>Configure a tunnel selector and apply it to the BGP IPv4 unicast, BGP VPNv4 address families and BGP VPNv6 address families so that IPv4,VPNv4 and VPNv6 labeled routes can be iterated to tunnels based on the tunnel selector.</text>
                </description>
              </leaf>
              <leaf name="route-select-delay">
                <type name="uint16">
                  <range value="0..3600"/>
                </type>
                <units name="s"/>
                <default value="0"/>
                <description>
                  <text>Route selection delay.</text>
                </description>
              </leaf>
              <leaf name="apply-label-mode">
                <type name="apply-label-type"/>
                <default value="per-route"/>
                <description>
                  <text>Method of distributing labels to VPNV4 and VPNV6 routes. The way which assigns the label depends on the paf value. If there are a large number of routes, assign a label for the routes that have same nexthop and out-label. This allows all routes which have same nexthop and out-label to use one label.</text>
                </description>
              </leaf>
              <leaf name="nexthop-select-depend-type">
                <type name="select-depend-type-ext"/>
                <default value="depend-ip"/>
                <description>
                  <text>In none mode, route selection does not depend on whether the next hop is reachable. In tunnel mode, the labeled BGP IPv4 route can participate in route selection only after its next hop is iterated to an LSP. In IP
mode, the labeled BGP IPv4 route can participate in route selection only after its next hop is iterated to an IP address. By default, the labeled BGP IPv4 route can participate in route selection
if its next hop can be iterated to an IP address, regardless of whether the LSP of the next hop exists. This allows the RR that is not enabled with MPLS to forward labeled routes. In non-RR
networking or RR networking where the BGP next hop is changed, BGP needs to check whether there is an LSP destined for the next hop. If such an LSP is not found, BGP needs to establish an LSP in
advance. If the default setting is adopted, a labeled BGP IPv4 unicast route may be selected prior to LSP establishment. As a result, services are incorrectly switched before LSP establishment and
service stability is affected. Therefore, allow route selection only after the labeled BGP IPv4 route is iterated to an LSP.</text>
                </description>
              </leaf>
              <leaf name="default-med">
                <type name="uint32"/>
                <default value="0"/>
                <description>
                  <text>Specify the Multi-Exit-Discriminator (MED) of BGP routes. The value is an integer. This value is valid only for the imported routes and BGP summarized routes on the local router.</text>
                </description>
              </leaf>
              <leaf name="best-external">
                <when condition="../../../../../../ni:name='_public_'"/>
                <type name="boolean"/>
                <default value="false"/>
                <description>
                  <text>Enable/disable best external route selection.</text>
                </description>
              </leaf>
              <leaf name="label-free-delay">
                <type name="uint8">
                  <range value="0..180"/>
                </type>
                <units name="s"/>
                <default value="0"/>
                <description>
                  <text>Label free delay.</text>
                </description>
              </leaf>
              <leaf name="add-path-select-num">
                <when condition="../../../../../../ni:name='_public_'"/>
                <type name="uint8">
                  <range value="2..64"/>
                </type>
                <description>
                  <text>Number of Add-Path routes.</text>
                </description>
              </leaf>
              <leaf name="default-local-preference">
                <type name="uint32">
                  <range value="0..4294967295"/>
                </type>
                <default value="100"/>
                <description>
                  <text>The local preference of BGP routes.</text>
                </description>
              </leaf>
              <uses name="bestroute-med-plus-igp-type"/>
              <uses name="bestroute-router-id-prior-clusterlist-type"/>
              <leaf name="reflect-between-client">
                <type name="boolean"/>
                <default value="true"/>
                <description>
                  <text>Enable/disable route reflection between clients. If clients of a route reflector (RR) are fully meshed, you can disable route reflection among clients to reduce the cost.</text>
                </description>
              </leaf>
              <leaf name="activate-route-tag">
                <type name="boolean"/>
                <default value="false"/>
                <description>
                  <text>Enable/disable tag-based filtering.</text>
                </description>
              </leaf>
              <uses name="route-reflector-ext-community-filter-type"/>
              <uses name="vrf-af-dampening-routes-ext"/>
              <container name="nexthop-recursive-lookup">
                <description>
                  <text>Configure next hop iteration.</text>
                </description>
                <container name="common">
                  <description>
                    <text>Configure next hop iteration common options.</text>
                  </description>
                  <uses name="nexthop-recursive-lookup-restrain"/>
                  <uses name="nexthop-recursive-lookup-default-route"/>
                </container>
                <uses name="nexthop-recursive-lookup-delay"/>
                <uses name="bit-error-detection-type"/>
              </container>
              <uses name="ipv4-import-filter-protocol-type"/>
              <uses name="ipv4vpn-export-filter-protocol-type"/>
              <uses name="bgp:slow-peer-type"/>
            </container>
            <container name="ipv6-vpn">
              <when condition="../type = 'ipv6vpn'"/>
              <description>
                <text>Configure IPv6 VPNv6 options.</text>
              </description>
              <uses name="vpn-target-type"/>
              <uses name="reflector-cluster-type"/>
              <uses name="reflect-type"/>
              <leaf name="auto-frr">
                <type name="boolean"/>
                <default value="false"/>
                <description>
                  <text>Enable/disable BGP Auto FRR. If IP FRR, VPN FRR, and Auto FRR are all enabled, IP FRR and VPN FRR take precedence over Auto FRR. If a route fails to match the routing policy of IP FRR or VPN FRR, Auto FRR takes effect.</text>
                </description>
              </leaf>
              <leaf name="tunnel-selector-name">
                <type name="leafref">
                  <path value="/rtp:routing-policy/rtp:tunnel-selectors/rtp:tunnel-selector/rtp:name"/>
                </type>
                <description>
                  <text>Configure a tunnel selector and apply it to the BGP IPv4 unicast, BGP VPNv4 address families and BGP VPNv6 address families so that IPv4,VPNv4 and VPNv6 labeled routes can be iterated to tunnels based on the tunnel selector. By default, no tunnel selector is configured.</text>
                </description>
              </leaf>
              <leaf name="route-select-delay">
                <type name="uint16">
                  <range value="0..3600"/>
                </type>
                <units name="s"/>
                <default value="0"/>
                <description>
                  <text>Route selection delay.</text>
                </description>
              </leaf>
              <leaf name="apply-label-mode">
                <type name="apply-label-type"/>
                <default value="per-route"/>
                <description>
                  <text>Method of distributing labels to VPNV4 and VPNV6 routes. The way which assigns the label depends on the paf value. If there are a large number of routes, assign a label for the routes that have same nexthop and out-label. This allows all routes which have same nexthop and out-label to use one label.</text>
                </description>
              </leaf>
              <leaf name="nexthop-select-depend-type">
                <type name="select-depend-type-ext"/>
                <default value="depend-ip"/>
                <description>
                  <text>In none mode, route selection does not depend on whether the next hop is reachable. In tunnel mode, the labeled BGP IPv4 route can participate in route selection only after its next hop is iterated to an LSP. In IP
mode, the labeled BGP IPv4 route can participate in route selection only after its next hop is iterated to an IP address. By default, the labeled BGP IPv4 route can participate in route selection
if its next hop can be iterated to an IP address, regardless of whether the LSP of the next hop exists. This allows the RR that is not enabled with MPLS to forward labeled routes. In non-RR
networking or RR networking where the BGP next hop is changed, BGP needs to check whether there is an LSP destined for the next hop. If such an LSP is not found, BGP needs to establish an LSP in
advance. If the default setting is adopted, a labeled BGP IPv4 unicast route may be selected prior to LSP establishment. As a result, services are incorrectly switched before LSP establishment and
service stability is affected. Therefore, allow route selection only after the labeled BGP IPv4 route is iterated to an LSP.</text>
                </description>
              </leaf>
              <leaf name="default-med">
                <type name="uint32"/>
                <default value="0"/>
                <description>
                  <text>Specify the Multi-Exit-Discriminator (MED) of BGP routes. The value is an integer. This value is valid only for the imported routes and BGP summarized routes on the local router.</text>
                </description>
              </leaf>
              <leaf name="best-external">
                <when condition="../../../../../../ni:name='_public_'"/>
                <type name="boolean"/>
                <default value="false"/>
                <description>
                  <text>Enable/disable best external route selection.</text>
                </description>
              </leaf>
              <leaf name="add-path-select-num">
                <when condition="../../../../../../ni:name='_public_'"/>
                <type name="uint8">
                  <range value="2..64"/>
                </type>
                <description>
                  <text>Number of add-path routes.</text>
                </description>
              </leaf>
              <leaf name="default-local-preference">
                <type name="uint32">
                  <range value="0..4294967295"/>
                </type>
                <default value="100"/>
                <description>
                  <text>The local preference of BGP routes.</text>
                </description>
              </leaf>
              <uses name="bestroute-med-plus-igp-type"/>
              <uses name="bestroute-router-id-prior-clusterlist-type"/>
              <leaf name="reflect-between-client">
                <type name="boolean"/>
                <default value="true"/>
                <description>
                  <text>Enable/disable route reflection between clients. If clients of a route reflector (RR) are fully meshed, you can disable route reflection among clients to reduce the cost.</text>
                </description>
              </leaf>
              <leaf name="label-free-delay">
                <type name="uint8">
                  <range value="0..180"/>
                </type>
                <units name="s"/>
                <default value="0"/>
                <description>
                  <text>Label free delay.</text>
                </description>
              </leaf>
              <uses name="route-reflector-ext-community-filter-type"/>
              <container name="nexthop-recursive-lookup">
                <description>
                  <text>Configure next hop iteration.</text>
                </description>
                <container name="common">
                  <description>
                    <text>Configure next hop iteration common options.</text>
                  </description>
                  <uses name="nexthop-recursive-lookup-restrain"/>
                  <uses name="nexthop-recursive-lookup-default-route"/>
                </container>
                <uses name="nexthop-recursive-lookup-delay"/>
                <uses name="bit-error-detection-type"/>
              </container>
              <uses name="ipv6-import-filter-protocol-type"/>
              <uses name="ipv6vpn-export-filter-protocol-type"/>
              <uses name="bgp:slow-peer-type"/>
              <uses name="vrf-af-dampening-routes-ext"/>
            </container>
            <container name="ipv4-labeluni">
              <when condition="../type = 'ipv4labeluni'"/>
              <description>
                <text>Configure IPv4 label unicast options.</text>
              </description>
              <container name="common">
                <description>
                  <text>Configure IPv4 label unicast common options.</text>
                </description>
                <leaf name="auto-frr">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP Auto FRR. If IP FRR, VPN FRR, and Auto FRR are all enabled, IP FRR and VPN FRR take precedence over Auto FRR. If a route fails to match the routing policy of IP FRR or VPN FRR, Auto FRR takes effect.</text>
                  </description>
                </leaf>
                <leaf name="tunnel-selector-name">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="leafref">
                    <path value="/rtp:routing-policy/rtp:tunnel-selectors/rtp:tunnel-selector/rtp:name"/>
                  </type>
                  <description>
                    <text>Configure a tunnel selector and apply it to the BGP IPv4 unicast, BGP VPNv4 address families and BGP VPNv6 address families so that IPv4,VPNv4 and VPNv6 labeled routes can be iterated to tunnels based on the tunnel selector. By default, no tunnel selector is configured.</text>
                  </description>
                </leaf>
                <leaf name="tunnel-selector-all">
                  <when condition="../tunnel-selector-name"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable tunnel selector for labeled, imported, and network segment routes.</text>
                  </description>
                </leaf>
                <leaf name="nexthop-select-depend-type">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="select-depend-type"/>
                  <default value="depend-tunnel"/>
                  <description>
                    <text>Specify the route iteration mode: IP or tunnel. In tunnel mode, the labeled BGP IPv4 route can participate in route selection only after its next hop is iterated to an LSP. In IP
mode, the labeled BGP IPv4 route can participate in route selection only after its next hop is iterated to an IP address. By default, the labeled BGP IPv4 route can participate in route selection
if its next hop can be iterated to an IP address, regardless of whether the LSP of the next hop exists. This allows the RR that is not enabled with MPLS to forward labeled routes. In non-RR
networking or RR networking where the BGP next hop is changed, BGP needs to check whether there is an LSP destined for the next hop. If such an LSP is not found, BGP needs to establish an LSP in
advance. If the default setting is adopted, a labeled BGP IPv4 unicast route may be selected prior to LSP establishment. As a result, services are incorrectly switched before LSP establishment and
service stability is affected. Therefore, allow route selection only after the labeled BGP IPv4 route is iterated to an LSP.</text>
                  </description>
                </leaf>
                <leaf name="nexthop-inherit-ip-cost">
                  <when condition="../nexthop-select-depend-type='depend-tunnel'"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable next hop iteration mode to IP. Specify the route iteration mode: IP or tunnel. In tunnel mode, the labeled BGP IPv4 route can participate in route selection only after its next hop is iterated to an LSP.</text>
                  </description>
                </leaf>
                <leaf name="always-compare-med">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP to compare the MEDs of routes from peers in different ASs in route selection. If
there are multiple reachable routes to the same destination, the route with the smallest MED is preferred. Do not use this option unless different ASs use the same IGP and route selection mode.</text>
                  </description>
                </leaf>
                <leaf name="default-med">
                  <type name="uint32"/>
                  <default value="0"/>
                  <description>
                    <text>Specify the Multi-Exit-Discriminator (MED) of BGP routes. The value is an integer. This value is valid only for the imported routes and BGP summarized routes on the local router.</text>
                  </description>
                </leaf>
                <leaf name="best-route-bit-error-detection">
                  <when condition="../../../../../../../ni:name!='_public_'"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable the function to reroute traffic when a bit error event occurs.</text>
                  </description>
                </leaf>
                <leaf name="supernet-label-advertise">
                  <type name="boolean"/>
                  <default value="true"/>
                  <description>
                    <text>Enable/disable the function to advertise supernet labeled routes.</text>
                  </description>
                </leaf>
                <leaf name="lsp-mtu">
                  <type name="uint16">
                    <range value="46..65535"/>
                  </type>
                  <default value="1500"/>
                  <description>
                    <text>BGP LSP MTU.</text>
                  </description>
                </leaf>
                <leaf name="label-free-delay">
                  <type name="uint8">
                    <range value="0..180"/>
                  </type>
                  <units name="s"/>
                  <default value="0"/>
                  <description>
                    <text>Label free delay.</text>
                  </description>
                </leaf>
                <leaf name="bestroute-med-confederation">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP to compare Med value only within the federation.</text>
                  </description>
                </leaf>
                <leaf name="bestroute-as-path-ignore">
                  <type name="boolean"/>
                  <must condition="../bestroute-as-path-ignore = 'false' or ../load-balanc-as-path-ignore ='false'"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP to ignore the AS_Path attribute when selecting the optimal route. By default, BGP uses the AS_Path attribute as one of route selection rules, and a route with a shorter AS_Path is preferred. After bestroute-as-path-ignore is selected, BGP does not compare the AS_Path length.</text>
                  </description>
                </leaf>
                <leaf name="determin-med">
                  <type name="boolean"/>
                  <must condition="../determin-med ='false' or (not(../add-path-select-num) and ../best-external ='false')"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable deterministic MED so that the route selection result is relevant to the sequence in which routes are received.</text>
                  </description>
                </leaf>
                <leaf name="best-external">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="boolean"/>
                  <must condition="../best-external ='false' or ../determin-med ='false'"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable best external route selection.</text>
                  </description>
                </leaf>
                <leaf name="add-path-select-num">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="uint8">
                    <range value="2..64"/>
                  </type>
                  <must condition="../determin-med ='false'"/>
                  <description>
                    <text>Number of add-path routes.</text>
                  </description>
                </leaf>
                <leaf name="load-balanc-igp-metric-ignore">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP to ignore the IGP cost of each BGP route to the next hop when selecting routes for load balancing. By default, only the routes with the same IGP cost can participate in load balancing.</text>
                  </description>
                </leaf>
                <leaf name="load-balanc-as-path-ignore">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="boolean"/>
                  <must condition="../load-balanc-as-path-ignore ='false' or (../load-balanc-as-path-relax ='false' and ../bestroute-as-path-ignore ='false')"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP to ignore the AS_Path of each BGP route to the next hop when selecting routes for load balancing. By default, only the routes with the same AS_Path can participate in load balancing.</text>
                  </description>
                </leaf>
                <leaf name="load-balanc-as-path-relax">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="boolean"/>
                  <must condition="../load-balanc-as-path-relax ='false' or ../load-balanc-as-path-ignore ='false'"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP to ignore comparison of AS_Path attributes with the same length. By default, only the routes with the same AS_Path can participate in load balancing.</text>
                  </description>
                </leaf>
                <leaf name="default-local-preference">
                  <type name="uint32">
                    <range value="0..4294967295"/>
                  </type>
                  <default value="100"/>
                  <description>
                    <text>The local preference of BGP routes.</text>
                  </description>
                </leaf>
                <leaf name="default-route-import">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable the function to import default routes into the BGP routing table. Default-route-imported must be used with import-routes so that default routes can be imported to the BGP routing table. If only import-routes is used, no default routes can be added to the BGP routing table. In addition, default-route-imported can only import the default routes in the routing table into the BGP routing table.</text>
                  </description>
                </leaf>
                <leaf name="routerid-neglect">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP to ignore router IDs when selecting the optimal route. Comparing router IDs is the last resort in route selection. This means that if one optimal route must be selected and no other parameters can be used to break the tie, router IDs can be used. If this option is selected, the first received route will be selected as the optimal route, and BGP will ignore the router ID and peer address in route selection.</text>
                  </description>
                </leaf>
                <leaf name="route-select-delay">
                  <type name="uint16">
                    <range value="0..3600"/>
                  </type>
                  <units name="s"/>
                  <default value="0"/>
                  <description>
                    <text>Route selection delay.</text>
                  </description>
                </leaf>
                <leaf name="import-rib-nexthop-invariable">
                  <when condition="../../../../../../../ni:name!='_public_'"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable the command to enable advertise the route without modifying the next-hop.</text>
                  </description>
                </leaf>
                <uses name="reflect-type"/>
                <uses name="reflector-cluster-type"/>
                <leaf name="reflect-between-client">
                  <type name="boolean"/>
                  <default value="true"/>
                  <description>
                    <text>Enable/disable route reflection between clients. If clients of a route reflector (RR) are fully meshed, you can disable route reflection among clients to reduce the cost.</text>
                  </description>
                </leaf>
                <uses name="bestroute-med-plus-igp-type"/>
                <uses name="bestroute-router-id-prior-clusterlist-type"/>
                <leaf name="bestroute-med-none-as-maximum">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP considers its MED as the largest MED value (4294967295). If a route does not carry MED, BGP considers its MED as the default value (0) during route selection.</text>
                  </description>
                </leaf>
                <leaf name="ext-community-change">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable the function to change the extended community attribute.</text>
                  </description>
                </leaf>
              </container>
              <container name="nexthop-recursive-lookup">
                <description>
                  <text>Configure next hop iteration.</text>
                </description>
                <container name="common">
                  <description>
                    <text>Configure next hop iteration common options.</text>
                  </description>
                  <uses name="nexthop-recursive-lookup-restrain"/>
                </container>
              </container>
              <container name="import-routes">
                <description>
                  <text>List of imported routes.</text>
                </description>
                <list name="import-route">
                  <key value="protocol process-id"/>
                  <description>
                    <text>Apply route import policy. Routes of other protocol types can be imported by BGP. By default, BGP does not import routes of other protocol types.</text>
                  </description>
                  <uses name="import-routes-type"/>
                  <leaf name="non-relay-tunnel">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable imported route relay a tunnel.</text>
                    </description>
                  </leaf>
                </list>
              </container>
              <container name="network-routes">
                <description>
                  <text>List of network routes.</text>
                </description>
                <list name="network-route">
                  <key value="address mask-length"/>
                  <description>
                    <text>Configure a network route in the BGP routing table.</text>
                  </description>
                  <uses name="network-route-ipv4"/>
                  <leaf name="non-relay-tunnel">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable imported route relay a tunnel.</text>
                    </description>
                  </leaf>
                </list>
              </container>
              <container name="import-ribs">
                <description>
                  <text>List of imported RIBs configuration.</text>
                </description>
                <list name="import-rib">
                  <key value="source-vpn source-address-family"/>
                  <description>
                    <text>Configure imported RIBs.</text>
                  </description>
                  <leaf name="source-vpn">
                    <type name="leafref">
                      <path value="/ni:network-instance/ni:instances/ni:instance/ni:name"/>
                    </type>
                    <must condition="../../../../../../../../ni:name != current()"/>
                    <description>
                      <text>Source VPN name.</text>
                    </description>
                  </leaf>
                  <leaf name="source-address-family">
                    <type name="bgp:import-rib-ipv4-safi-type"/>
                    <description>
                      <text>Source address family type.</text>
                    </description>
                  </leaf>
                  <leaf name="valid-route">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable imported valid route.</text>
                    </description>
                  </leaf>
                  <leaf name="include-label-route">
                    <when condition="../source-address-family='ipv4uni'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable imported include label route.</text>
                    </description>
                  </leaf>
                  <uses name="choice-policy-set">
                    <refine target-node="policy-type">
                      <description>
                        <text>Specify the route-policy or filter for imported RIBs.</text>
                      </description>
                    </refine>
                  </uses>
                </list>
              </container>
              <container name="lsp-options">
                <description>
                  <text>Configure BGP ingress-lsp.</text>
                </description>
                <uses name="safi-lsp-options"/>
                <leaf name="maximum-load-balancing-transit">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="uint16">
                    <range value="1..65535"/>
                  </type>
                  <default value="1"/>
                  <description>
                    <text>Maximum number of transit LSPs for load balancing.</text>
                  </description>
                </leaf>
                <leaf name="unicast-rt-label-advertise-popgo">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable a device to convert received IPv4 public network unicast routes to labeled routes by adding a BGP label to each route and advertise the labeled routes to peers with the labeled route exchange capability. If the IP address of an outbound interface is reachable but no LSP is reachable, traffic is forwarded through the outbound interface and a specific next hop, during which the label POPGO action is performed.</text>
                  </description>
                </leaf>
                <leaf name="lsp-operation">
                  <when condition="../../../../../../../ni:name='_public_'"/>
                  <type name="lsp-operation-type"/>
                  <default value="pop"/>
                  <description>
                    <text>Label operation type.</text>
                  </description>
                </leaf>
                <uses name="ingress-choice-policy-set"/>
              </container>
              <uses name="vrf-af-dampening-routes"/>
              <uses name="bgp:slow-peer-type"/>
            </container>
            <container name="ipv4-multicast">
              <when condition="../type='ipv4multi'"/>
              <description>
                <text>Configure IPv4 multicast options.</text>
              </description>
              <container name="common">
                <description>
                  <text>Configure BGP IPv4-multicast address family options.</text>
                </description>
                <leaf name="always-compare-med">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP to compare the MEDs of routes from peers in different ASs in route selection. If
there are multiple reachable routes to the same destination, the route with the smallest MED is preferred. Do not use this option unless different ASs use the same IGP and route selection mode.</text>
                  </description>
                </leaf>
                <leaf name="default-med">
                  <type name="uint32"/>
                  <default value="0"/>
                  <description>
                    <text>Specify the Multi-Exit-Discriminator (MED) of BGP routes. The value is an integer. This value is valid only for the imported routes and BGP summarized routes on the local router.</text>
                  </description>
                </leaf>
                <leaf name="summary-automatic">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable automatic summarization for imported routes. Manual summarization takes precedence over automatic summarization. After automatic summarization is enabled, BGP summarizes routes based on the natural network segment (for example, 10.1.1.1/24 and 10.2.1.1/24 are summarized into 10.0.0.0/8, a Class A address), and sends only the summarized route to peers. This reduces the number of routes.</text>
                  </description>
                </leaf>
                <leaf name="bestroute-med-confederation">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP to compare Med value only within the federation.</text>
                  </description>
                </leaf>
                <leaf name="default-local-preference">
                  <type name="uint32">
                    <range value="0..4294967295"/>
                  </type>
                  <default value="100"/>
                  <description>
                    <text>The local preference of BGP routes.</text>
                  </description>
                </leaf>
                <leaf name="default-route-import">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable the function to import default routes into the BGP routing table. Default-route-imported must be used with import-routes so that default routes can be imported to the BGP routing table. If only import-routes is used, no default routes can be added to the BGP routing table. In addition, default-route-imported can only import the default routes in the routing table into the BGP routing table.</text>
                  </description>
                </leaf>
                <leaf name="routerid-neglect">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP to ignore router IDs when selecting the optimal route. Comparing router IDs is the last resort in route selection. This means that if one optimal route must be selected and no other parameters can be used to break the tie, router IDs can be used. If this option is selected, the first received route will be selected as the optimal route, and BGP will ignore the router ID and peer address in route selection.</text>
                  </description>
                </leaf>
                <leaf name="route-select-delay">
                  <type name="uint16">
                    <range value="0..3600"/>
                  </type>
                  <units name="s"/>
                  <default value="0"/>
                  <description>
                    <text>Route selection delay.</text>
                  </description>
                </leaf>
                <uses name="reflect-type"/>
                <uses name="reflector-cluster-type"/>
                <leaf name="reflect-between-client">
                  <type name="boolean"/>
                  <default value="true"/>
                  <description>
                    <text>Enable/disable route reflection between clients. If clients of a route reflector (RR) are fully meshed, you can disable route reflection among clients to reduce the cost.</text>
                  </description>
                </leaf>
                <leaf name="determin-med">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable deterministic MED so that the route selection result is relevant to the sequence in which routes are received.</text>
                  </description>
                </leaf>
                <uses name="bestroute-med-plus-igp-type"/>
                <uses name="bestroute-router-id-prior-clusterlist-type"/>
                <leaf name="bestroute-as-path-ignore">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP to ignore the AS_Path attribute when selecting the optimal route. By default, BGP uses the AS_Path attribute as one of route selection rules, and a route with a shorter AS_Path is preferred. After bestroute-as-path-ignore is selected, BGP does not compare the AS_Path length.</text>
                  </description>
                </leaf>
                <leaf name="bestroute-med-none-as-maximum">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP considers its MED as the largest MED value (4294967295). If a route does not carry MED, BGP considers its MED as the default value (0) during route selection.</text>
                  </description>
                </leaf>
                <leaf name="maximum-load-balancing">
                  <type name="uint16">
                    <range value="1..65535"/>
                  </type>
                  <must condition="not (../maximum-load-balancing-ibgp&gt;1 or ../maximum-load-balancing-ebgp&gt;1) or ../maximum-load-balancing=1"/>
                  <default value="1"/>
                  <description>
                    <text>Specify the maximum number of equal-cost routes in the BGP routing table. The value can be 1 or an integer greater than 1. The value depends on the associated license. By default, the maximum number of equal-cost routes is 1. Equal-cost BGP routes can be generated for load balancing only when the BGP routes meet the first nine rules of the route-selection policy and have the same AS-Path attribute.</text>
                  </description>
                </leaf>
                <leaf name="maximum-load-balancing-ibgp">
                  <type name="uint16">
                    <range value="1..65535"/>
                  </type>
                  <must condition="not (../maximum-load-balancing&gt;1) or ../maximum-load-balancing-ibgp=1"/>
                  <default value="1"/>
                  <description>
                    <text>Specify the maximum number of equal-cost IBGP routes.</text>
                  </description>
                </leaf>
                <leaf name="maximum-load-balancing-ebgp">
                  <type name="uint16">
                    <range value="1..65535"/>
                  </type>
                  <must condition="not (../maximum-load-balancing&gt;1) or ../maximum-load-balancing-ebgp=1"/>
                  <default value="1"/>
                  <description>
                    <text>Specify the maximum number of equal-cost EBGP routes.</text>
                  </description>
                </leaf>
                <leaf name="ext-community-change">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable the function to change the extended community attribute.</text>
                  </description>
                </leaf>
              </container>
              <container name="nexthop-recursive-lookup">
                <description>
                  <text>Configure next hop iteration.</text>
                </description>
                <container name="common">
                  <description>
                    <text>Configure next hop iteration common options.</text>
                  </description>
                  <choice name="policy-type">
                    <description>
                      <text>Set route-policy or route-filter.</text>
                    </description>
                    <case name="rtp-ref">
                      <description>
                        <text>Route policy.</text>
                      </description>
                      <leaf name="route-policy">
                        <type name="leafref">
                          <path value="/rtp:routing-policy/rtp:policy-definitions/rtp:policy-definition/rtp:name"/>
                        </type>
                        <description>
                          <text>Specify the name of a routing policy.</text>
                        </description>
                      </leaf>
                    </case>
                    <case name="xpl-ref">
                      <description>
                        <text>Route filter.</text>
                      </description>
                      <uses name="route-filter-type"/>
                    </case>
                  </choice>
                </container>
                <uses name="nexthop-recursive-lookup-delay"/>
              </container>
              <uses name="bgp-route-preference-options"/>
              <uses name="vrf-af-dampening-routes"/>
              <container name="network-routes">
                <description>
                  <text>List of network routes.</text>
                </description>
                <list name="network-route">
                  <key value="address mask-length"/>
                  <description>
                    <text>Configure a network route in the BGP routing table.</text>
                  </description>
                  <uses name="network-route-ipv4"/>
                </list>
              </container>
              <container name="import-routes">
                <description>
                  <text>List of imported routes.</text>
                </description>
                <list name="import-route">
                  <key value="protocol process-id"/>
                  <description>
                    <text>Configure route import. Routes of other protocol types can be imported by BGP. By default, BGP does not import routes of other protocol types.</text>
                  </description>
                  <leaf name="protocol">
                    <type name="bgp:ipv4multi-import-route-protocol-type"/>
                    <description>
                      <text>Routing protocol from which routes can be imported.</text>
                    </description>
                  </leaf>
                  <leaf name="process-id">
                    <type name="uint32">
                      <range value="0..4294967295"/>
                    </type>
                    <must condition="((../protocol='ospf' or ../protocol='isis' or ../protocol='rip') and ../process-id!=0) or (../protocol!='ospf' and ../protocol!='isis' and ../protocol!='rip' and ../process-id=0)"/>
                    <description>
                      <text>Process ID of an imported routing protocol. The process ID is 0, if the imported routing protocol is direct routes, static routes, UNRs, or OP-routes. The process ID must be specified range from 1 to 4294967295, if the imported routing protocol is RIP, OSPF, ISIS.</text>
                    </description>
                  </leaf>
                  <leaf name="med">
                    <type name="uint32"/>
                    <description>
                      <text>Specifies the MED metric of the imported route.</text>
                    </description>
                  </leaf>
                  <choice name="policy-type">
                    <description>
                      <text>Set route policy or filter.</text>
                    </description>
                    <case name="rtp-ref">
                      <description>
                        <text>Route policy.</text>
                      </description>
                      <leaf name="policy-name">
                        <type name="leafref">
                          <path value="/rtp:routing-policy/rtp:policy-definitions/rtp:policy-definition/rtp:name"/>
                        </type>
                        <description>
                          <text>When routes are imported from other routing protocols, the route-policy filter can be used to filter the routes and change route attributes.</text>
                        </description>
                      </leaf>
                    </case>
                    <case name="xpl-ref">
                      <description>
                        <text>Route filter.</text>
                      </description>
                      <uses name="route-filter-type"/>
                    </case>
                  </choice>
                </list>
              </container>
              <container name="aggregate-routes">
                <description>
                  <text>List of summarized routes.</text>
                </description>
                <list name="aggregate-route">
                  <key value="address mask-length"/>
                  <description>
                    <text>Configure a summarized route in the BGP routing table. The local outbound interface of the summarized route is Null0. When another router receives the route, the route adds an outbound interface to the route. By default, route summarization is not performed. If the Origin attributes of the specific routes for the route summarization are different, the Origin attribute of the summarized route is that with the highest priority. Origin attributes are arranged in the priority order of complete &gt; egp &gt; igp. A summarized route carries the community attribute of each specific route.</text>
                  </description>
                  <uses name="unicast-aggregate-routes-type">
                    <refine target-node="address">
                      <must condition="not(contains(../address,':'))"/>
                    </refine>
                    <refine target-node="mask-length">
                      <must condition="../mask-length&lt;=32"/>
                    </refine>
                  </uses>
                </list>
              </container>
              <uses name="ipv4-import-filter-protocol-type"/>
              <container name="export-filter-policys">
                <description>
                  <text>List of filtering policies.</text>
                </description>
                <list name="export-filter-policy">
                  <key value="protocol process-id"/>
                  <description>
                    <text>Apply a filtering policy. It is used to filter the routes to be advertised to the peer. By default, routes are not filtered.</text>
                  </description>
                  <leaf name="protocol">
                    <type name="bgp:ipv4-export-filter-protocol-type"/>
                    <description>
                      <text>Specify the name of a routing protocol. The routing protocol takes effect only on the routes to be advertised. The IPv4 address family supports the direct, IS-IS, OSPF, RIP, and static routing protocols. The IPv6 unicast address family of a public network instance supports the direct, IS-IS, OSPFv3, RIPng, and static routing protocols. The IPv6 address family of a VPNv6 instance supports the direct, IS-IS, RIPng, and static routing protocols.</text>
                    </description>
                  </leaf>
                  <leaf name="process-id">
                    <type name="uint32">
                      <range value="0..4294967295"/>
                    </type>
                    <must condition="((../protocol='ospf' or ../protocol='rip' or ../protocol='isis') and ../process-id!=0) or ((../protocol!='ospf' and ../protocol!='rip' and ../protocol!='isis') and ../process-id=0)"/>
                    <description>
                      <text>Specify the process ID required to be matched. The value is an integer ranging from 0 to 4294967295. If direct or static routes need to be filtered, no process ID is required.</text>
                    </description>
                  </leaf>
                  <uses name="ipv4-filter-protocol-policy-choice-type"/>
                </list>
              </container>
              <uses name="bgp:slow-peer-type"/>
              <uses name="qos-local-id-type"/>
            </container>
          </list>
        </container>
        <container name="dynamic-peer-prefixes">
          <description>
            <text>List of IP prefixes from which a dynamic BGP peer group listens for BGP connection requests.</text>
          </description>
          <list name="dynamic-peer-prefix">
            <key value="address mask-length peer-group"/>
            <description>
              <text>Configure an IP prefix from which a dynamic BGP peer group listens for BGP connection requests.</text>
            </description>
            <leaf name="address">
              <type name="inet:ip-address-no-zone"/>
              <must condition="contains(., ':') = 'false'"/>
              <description>
                <text>Network segment address for a dynamic peer connection.</text>
              </description>
            </leaf>
            <leaf name="mask-length">
              <type name="uint8">
                <range value="0..32"/>
              </type>
              <description>
                <text>Mask length of a network segment. For an IPv4 network address, the value ranges from 0 to 32.</text>
              </description>
            </leaf>
            <leaf name="peer-group">
              <type name="leafref">
                <path value="../../../peer-groups/peer-group/name"/>
              </type>
              <must condition="../../../peer-groups/peer-group[name = current()]/peer-establish-mode = 'dynamic'"/>
              <must condition="../../../peer-groups/peer-group[name = current()]/listen-as or ../../../peer-groups/peer-group[name = current()]/listen-as-segments/listen-as-segment or /ni:network-instance/ni:instances/ni:instance[ni:name='_public_']/bgp:bgp/bgp:base-process/bgp:peer-groups/bgp:peer-group[name = current()]/bgp:as-number-type='confederation'"/>
              <description>
                <text>The peer-group within which the dynamic neighbor will be configured.</text>
              </description>
            </leaf>
          </list>
        </container>
        <container name="peer-groups">
          <description>
            <text>List of BGP peer groups. The BGP peer groups can help you simplify the configurations. If you want to perform the same configuration for several peers, you can create a peer group and then configure the peer group. After you add these peers to the peer group, all these peers will have the same configurations as the peer group.</text>
          </description>
          <list name="peer-group">
            <key value="name"/>
            <description>
              <text>Configure information about a BGP peer group.</text>
            </description>
            <leaf name="name">
              <type name="string">
                <length value="1..47"/>
                <pattern value="([^\? ]+)"/>
              </type>
              <description>
                <text>Specify the name of a peer group. The value is a string of characters, spaces not supported.</text>
              </description>
            </leaf>
            <leaf name="type">
              <type name="group-type"/>
              <mandatory value="true"/>
              <description>
                <text>Specify the type of a peer group. The value can be IBGP or EBGP.The object cannot be modified.</text>
              </description>
              <ext:operation-exclude value="update">
                <description>
                  <text>The node cannot be modified, when node is already configured.</text>
                </description>
              </ext:operation-exclude>
            </leaf>
            <uses name="peer-local-if-type"/>
            <uses name="authentication-attr-type"/>
            <leaf name="description">
              <type name="string">
                <length value="1..255"/>
                <pattern value="([^?]*)"/>
              </type>
              <description>
                <text>Specify the description of a peer group. The value is a string, which can be letters or digits, spaces supported. By default, no description is configured.</text>
              </description>
            </leaf>
            <leaf name="group-as">
              <when condition="not(../type='ibgp') and ../peer-establish-mode = 'static'"/>
              <type name="as-number-validate"/>
              <description>
                <text>Specify the AS number of a peer group. The AS number is in either a 2-byte or 4-byte format.
The two-byte format is X. X is an integer ranging from 1 to 65535.
The four-byte format is X.Y and X. When the format is X.Y, X and Y are both integers, with the value of X ranging from 1 to 65535, and the value of Y ranging from 0 to 65535; when the format is X, X is an interger, with the value of X ranging from 1 to 4294967295.</text>
              </description>
            </leaf>
            <leaf name="tcp-mss">
              <type name="uint16">
                <range value="176..4096"/>
              </type>
              <description>
                <text>Maximum TCP MSS value used for TCP connection establishment for a peer group.</text>
              </description>
            </leaf>
            <leaf name="ebgp-max-hop">
              <when condition="../type='ebgp'"/>
              <type name="uint32">
                <range value="1..255"/>
              </type>
              <must condition="not(../valid-ttl-hops) or (../valid-ttl-hops&gt;=1 and not(../valid-ttl-hops&gt;255) and ../ebgp-max-hop=1)"/>
              <default value="1"/>
              <description>
                <text>Maximum number of hops in an indirect EBGP connection. By default, EBGP connections can be established only between directly connected peers. The function must be configured on both ends.</text>
              </description>
            </leaf>
            <leaf name="valid-ttl-hops">
              <type name="uint16">
                <range value="1..255"/>
              </type>
              <must condition="not(../ebgp-max-hop and ../ebgp-max-hop&gt;1 and ../ebgp-max-hop&lt;=255)"/>
              <description>
                <text>Enable GTSM on a peer or peer group. The valid-TTL-Value parameter is used to specify the number of TTL hops to be detected. If the value is configured as hops, the valid TTL range of the detected packet is [255-hops+1, 255].</text>
              </description>
            </leaf>
            <uses name="peer-tracking-type"/>
            <leaf name="conventional">
              <type name="boolean"/>
              <default value="false"/>
              <description>
                <text>Enable/disable general router functions on peers. In conventional mode, not all the extended router functions, such as, route refreshing, GR, and multi-address family negotiation, are available. Therefore, the router of a new version can be compatible with the routers of earlier versions.</text>
              </description>
            </leaf>
            <leaf name="route-refresh">
              <type name="boolean"/>
              <default value="true"/>
              <description>
                <text>Enable/disable BGP to advertise Refresh messages to peers.</text>
              </description>
            </leaf>
            <leaf name="four-byte-as">
              <type name="boolean"/>
              <default value="true"/>
              <description>
                <text>Enable/disable BGP to advertise routes carrying 4-byte AS numbers to peers. After the 4-byte AS number function is disabled, Open packets will not carry 4-byte AS number capability flag, and peer ends will not know that local ends have the 4-byte AS number function. The 4-byte AS number function cannot be disabled from peers (peer groups) if a 4-byte AS number, fake AS number, or confederation ID is configured on a router and the AS number of a peer is 4-byte. If the 4-byte AS number function is disabled in such a situation, BGP sessions may fail to be established, and route transmission may be affected.</text>
              </description>
            </leaf>
            <leaf name="ignore">
              <type name="boolean"/>
              <default value="false"/>
              <description>
                <text>Enable/disable the function to tear down sessions between peers and clear all related routing information.</text>
              </description>
            </leaf>
            <leaf name="connect-mode">
              <when condition="../peer-establish-mode = 'static'"/>
              <type name="connect-mode"/>
              <default value="null"/>
              <description>
                <text>The value can be Connect-only, Listen-only, or Both. If the value is Connect-only, the specified peer or peer group only initiatively sends connection requests, instead of listening to connection requests. If the value is Listen-only, the specified peer or peer group only listens to connection requests, instead of initiatively sending connection requests. If the value is Both, the specified peer or peer group not only initiatively sends connection requests, but also listens to connection requests. The default value is Both.</text>
              </description>
            </leaf>
            <leaf name="log-change">
              <type name="boolean"/>
              <default value="true"/>
              <description>
                <text>Enable/disable BGP to record the session status and events of the specified peer or peer group.</text>
              </description>
            </leaf>
            <leaf name="path-mtu-auto-discovery">
              <when condition="../peer-establish-mode = 'static'"/>
              <type name="boolean"/>
              <default value="false"/>
              <description>
                <text>Enable/disable path mtu auto discovery.</text>
              </description>
            </leaf>
            <leaf name="local-ifnet-disable">
              <type name="boolean"/>
              <description>
                <text>Enable/disable MPLS local IFNET tunnel creation on a BGP peer. By default, MPLS local IFNET tunnels can be created on an EBGP peer,but such tunnels cannot be created on an IBGP peer.</text>
              </description>
              <ext:dynamic-default/>
            </leaf>
            <leaf name="check-first-as">
              <when condition="../type='ebgp'"/>
              <type name="peer-cap-config-state"/>
              <default value="default"/>
              <description>
                <text>Check the first AS in the AS_Path of the update messages from EBGP peers.</text>
              </description>
            </leaf>
            <leaf name="memory-priority">
              <type name="memory-priority"/>
              <default value="medium"/>
              <description>
                <text>Set a priority that determines the disconnection order of each BGP peer relationship in a peer group if memory overload occurs.</text>
              </description>
            </leaf>
            <leaf name="oscillation-dampening">
              <when condition="../peer-establish-mode = 'static'"/>
              <type name="boolean"/>
              <default value="true"/>
              <description>
                <text>Enable/disable BGP to suppress the establishment of a specified peer group's peer relationships that flap continuously. By default, the capability is enabled.</text>
              </description>
            </leaf>
            <leaf name="peer-establish-mode">
              <type name="peer-establish-mode"/>
              <default value="static"/>
              <description>
                <text>Specify mode in which a BGP peer is established. The value can be static or dynamic.</text>
              </description>
              <ext:operation-exclude value="update|delete">
                <description>
                  <text>The node cannot be modified, deleted when node is already configured.</text>
                </description>
              </ext:operation-exclude>
            </leaf>
            <leaf name="as-number-type">
              <when condition="../peer-establish-mode = 'dynamic' and ../../../../../ni:name='_public_'"/>
              <type name="as-number-type"/>
              <must condition=". = 'dynamic-neighbor' or (. = 'confederation' and /bgp:bgp/bgp:base-process/bgp:confederation/bgp:id and ../type = 'ebgp')"/>
              <default value="dynamic-neighbor"/>
              <description>
                <text>Specify the type of the AS number that is used to establish a BGP peer relationship dynamically. The value can be dynamic-neighbor or confederation.</text>
              </description>
              <ext:operation-exclude value="update|delete">
                <description>
                  <text>The node cannot be modified, deleted when node is already configured.</text>
                </description>
              </ext:operation-exclude>
            </leaf>
            <leaf-list name="listen-as">
              <when condition="../peer-establish-mode = 'dynamic' and ../type = 'ebgp'"/>
              <type name="as-number-validate"/>
              <must condition="not(. = /bgp:bgp/bgp:base-process/bgp:as) and not(/ni:network-instance/ni:instances/ni:instance[ni:name='_public_']/bgp:bgp/bgp:base-process/bgp:peer-groups/bgp:peer-group[name = current()/../name]/bgp:as-number-type='confederation')"/>
              <max-elements value="6"/>
              <description>
                <text>Specify the peer AS from which a dynamic EBGP peer group listens for BGP connection requests.</text>
              </description>
            </leaf-list>
            <container name="listen-as-segments">
              <when condition="../peer-establish-mode = 'dynamic' and ../type = 'ebgp'"/>
              <description>
                <text>List of AS number ranges for listening.</text>
              </description>
              <list name="listen-as-segment">
                <must condition="not(../../listen-as) and not(/ni:network-instance/ni:instances/ni:instance[ni:name='_public_']/bgp:bgp/bgp:base-process/bgp:peer-groups/bgp:peer-group[name = current()/../../name]/bgp:as-number-type='confederation')"/>
                <key value="begin-as end-as"/>
                <max-elements value="16"/>
                <description>
                  <text>Specify an AS number range from which a dynamic EBGP peer group listens for connection requests. The value of begin-as must be smaller than that of end-as. The value of As-Segment cannot contain the value of LocalAS or the value of fake-as. An AS number range cannot contain a confederation AS number, and any two AS number ranges cannot contain each other.</text>
                </description>
                <leaf name="begin-as">
                  <type name="as-number-validate"/>
                  <description>
                    <text>Specify the start AS number in an AS range.</text>
                  </description>
                </leaf>
                <leaf name="end-as">
                  <type name="as-number-validate"/>
                  <description>
                    <text>Specify the end AS number in an AS range.</text>
                  </description>
                </leaf>
              </list>
            </container>
            <container name="fake-as-parameter">
              <description>
                <text>Configure BGP fake-as parameters.</text>
              </description>
              <leaf name="fake-as">
                <when condition="../../bgp:type='ebgp'"/>
                <type name="bgp:as-number-validate"/>
                <description>
                  <text>Fake AS number that is specified for a local peer. By default, a peer uses the actual AS number of the local end.
An AS number can be in either two-byte format or four-byte format:
The two-byte format is X. X is an integer ranging from 1 to 65535.
The four-byte format is X.Y and X. When the format is X.Y, X and Y are both integers, with the value of X ranging from 1 to 65535, and the value of Y ranging from 0 to 65535; when the format is X, X is an interger, with the value of X ranging from 1 to 4294967295.</text>
                </description>
              </leaf>
              <leaf name="dual-as">
                <when condition="../fake-as"/>
                <type name="boolean"/>
                <default value="false"/>
                <description>
                  <text>Enable/disable the function to the remote EBGP peer can use the actual or fake AS number when specifying the AS number for a local peer. The local peer uses the fake and actual AS numbers to establish a BGP peer relationship with the remote end and identifies the AS number configured by the remote end through the error code (OPEN Message Error) and sub-error code (Bad Peer AS) of the Notification message from the remote end.</text>
                </description>
              </leaf>
              <leaf name="prepend-global-as">
                <when condition="../fake-as"/>
                <type name="boolean"/>
                <default value="false"/>
                <description>
                  <text>Enable/disable the function to add the global AS number to the Update packets to be advertised.</text>
                </description>
              </leaf>
              <leaf name="prepend-fake-as">
                <when condition="../fake-as"/>
                <type name="boolean"/>
                <default value="false"/>
                <description>
                  <text>Enable/disable the function to add the Fake AS number to received Update packets.</text>
                </description>
              </leaf>
            </container>
            <uses name="peer-timer-para-type"/>
            <uses name="group-bfd-parameter-type"/>
            <container name="graceful-restart">
              <when condition="../peer-establish-mode = 'static'"/>
              <description>
                <text>Configure graceful restart.</text>
              </description>
              <uses name="group-graceful-restart-type"/>
              <leaf name="peer-reset">
                <type name="boolean"/>
                <default value="false"/>
                <description>
                  <text>Enable/disable reseting BGP peer graceful.</text>
                </description>
              </leaf>
            </container>
            <container name="local-graceful-restart">
              <when condition="../peer-establish-mode = 'static'"/>
              <description>
                <text>Configure local graceful restart.</text>
              </description>
              <uses name="group-graceful-restart-type"/>
            </container>
            <container name="members">
              <config value="false"/>
              <description>
                <text>List of members in a peer group.</text>
              </description>
              <list name="member">
                <key value="peer-address"/>
                <config value="false"/>
                <description>
                  <text>Statistics of member in a peer group.</text>
                </description>
                <leaf name="peer-address">
                  <type name="inet:ip-address-no-zone"/>
                  <config value="false"/>
                  <description>
                    <text>Specify the address of the peer joining the peer group.</text>
                  </description>
                </leaf>
              </list>
            </container>
            <container name="afs">
              <description>
                <text>List of all peer groups that are enabled in a specified address family.</text>
              </description>
              <list name="af">
                <key value="type"/>
                <description>
                  <text>Configure peer group enabled in a specified address family.</text>
                </description>
                <leaf name="type">
                  <type name="bgp:group-af-type"/>
                  <must condition="../../../../../afs/af[type = current()]"/>
                  <description>
                    <text>Address family type of a BGP instance.</text>
                  </description>
                </leaf>
                <container name="ipv4-unicast">
                  <when condition="../type = 'ipv4uni'"/>
                  <description>
                    <text>Configure IPv4 unicast options.</text>
                  </description>
                  <leaf name="advertise-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable advertise the community attribute to a peer or a peer group.</text>
                    </description>
                  </leaf>
                  <leaf name="reflect-client">
                    <when condition="../../../../bgp:type='ibgp'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the local device as a route reflector (RR) and a peer or peer group as its client. This configuration is applicable between IBGP peers only. The configurations of RRs and its clients in an address family are valid only in this address family. Therefore, it is recommended to configure RRs and its clients in the specified address family that is required.</text>
                    </description>
                  </leaf>
                  <leaf name="orf-type">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="bgp:bgp-orf-type"/>
                    <must condition="(../orf-mode='null' and ../orf-type='null') or (../orf-mode!='null' and ../orf-type!='null')"/>
                    <default value="null"/>
                    <description>
                      <text>ORF Type.</text>
                    </description>
                  </leaf>
                  <leaf name="orf-mode">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="bgp:bgp-orf-mode-type"/>
                    <must condition="(../orf-mode='null' and ../orf-type='null') or (../orf-mode!='null' and ../orf-type!='null')"/>
                    <default value="null"/>
                    <description>
                      <text>Configure an outbound route filtering (ORF) mode, which can be Receive, Send, or Both, and the default ORF mode is Both.</text>
                    </description>
                  </leaf>
                  <leaf name="label-route-capability">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable a device to exchange labeled routes.</text>
                    </description>
                  </leaf>
                  <leaf name="check-tunnel-reachable">
                    <when condition="../label-route-capability='true'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable tunnel reachability check.</text>
                    </description>
                  </leaf>
                  <leaf name="check-withdraw-type">
                    <when condition="../label-route-capability='true'"/>
                    <type name="boolean"/>
                    <default value="true"/>
                    <status value="obsolete"/>
                    <description>
                      <text>Enable/disable withdraw type check.</text>
                    </description>
                  </leaf>
                  <leaf name="nexthop-configure">
                    <type name="nexthop-configuration-type"/>
                    <description>
                      <text>Both the next-hop-local mode and next-hop-invariable mode are available when the peer address family is the VPNv4/VPNv6/L2VPN AD address family. Only the next-hop-local mode is available when the peer address family is not VPNv4/VPNV6/L2VPN AD address family. In next-hop-local mode, you can configure a BGP speaker to set its IP address of as the next hop of the routes to be advertised to IBGP peers or IBGP peer groups. In next-hop-invariable mode, you can configure PEs in different ASs not to change the next hop of routes when the PEs advertise the routes to their EBGP peers and use the next hop addresses of IGP routes to advertise imported IGP routes to IBGP peers. By default, when a BGP speaker advertises routes to EBGP peers and imported IGP routes to IBGP peers, the BGP speaker changes the next hop to its interface address.</text>
                    </description>
                  </leaf>
                  <uses name="peer-policy-filter-type"/>
                  <leaf name="advertise-ext-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable advertise the extended community attribute to a peer or peer group.</text>
                    </description>
                  </leaf>
                  <leaf name="origin-as-validation">
                    <when condition="../advertise-ext-community='true' and ../../../../peer-establish-mode='static'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the BGP peer origin validation.</text>
                    </description>
                  </leaf>
                  <leaf name="discard-ext-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable discard the extended community attribute in the routing information about a specified peer.</text>
                    </description>
                  </leaf>
                  <leaf name="allow-as-loop">
                    <type name="uint32">
                      <range value="1..10"/>
                    </type>
                    <description>
                      <text>Allow repetitive local AS numbers. By default, repetitive local AS numbers are not allowed.</text>
                    </description>
                  </leaf>
                  <leaf name="aigp">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable route with AIGP attribute advertisement to or from a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="add-path-mode">
                    <when condition="../../../../../../../../ni:name='_public_' and ../../../../bgp:type='ibgp'"/>
                    <type name="add-path-cap-type"/>
                    <default value="null"/>
                    <description>
                      <text>Enable Add-Path route advertisement to a peer.</text>
                    </description>
                  </leaf>
                  <uses name="ip-prefix-filter-type"/>
                  <uses name="as-path-filter-type"/>
                  <uses name="peer-group-acl-name-or-num-type"/>
                  <uses name="default-route-advertise-type"/>
                  <leaf name="default-route-match-mode">
                    <when condition="../default-route-advertise='true'"/>
                    <type name="cra-match-mode"/>
                    <default value="null"/>
                    <description>
                      <text>Configure the matching mode of default route advertisement, which can be disabling of route advertisement conditions, enabling of all route advertisement conditions, and enabling of part route advertisement conditions. Enabling of all route advertisement conditions indicates that a default route can be advertised only when it matches all the conditions. Enabling of part route advertisement conditions indicates that a default route can be advertised only when it matches one condition.</text>
                    </description>
                  </leaf>
                  <uses name="rt-update-interval-type"/>
                  <uses name="preferred-value-type"/>
                  <leaf name="add-path-number">
                    <when condition="../../../../../../../../ni:name='_public_' and ../../../../bgp:type='ibgp'"/>
                    <type name="uint8">
                      <range value="2..64"/>
                    </type>
                    <description>
                      <text>Number of Add-Path routes that can be advertised to a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="substitute-as-enable">
                    <when condition="../../../../bgp:type='ebgp'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable replace the AS number of a specified peer in the AS_Path attribute with the local AS number. On a PE where AS number replacement is enabled, if an AS number in the AS_Path attribute of a route is same as that of the CE to which the PE advertises the route, the PE replaces the AS number with its own AS number before advertising the route.</text>
                    </description>
                  </leaf>
                  <leaf name="soo">
                    <when condition="../../../../../../../../ni:name!='_public_'"/>
                    <type name="string">
                      <length value="3..21"/>
                    </type>
                    <description>
                      <text>Configure the Site-of-Origin (SoO) extended community attribute. This attribute can be expressed in the following formats: X.X.X.X:number&lt;0-65535&gt;, number&lt;0-65535&gt;:number&lt;0-4294967295&gt;, or number&lt;0-65535&gt;.number&lt;0-65535&gt;:number&lt;0-65535&gt; or &lt;65536-4294967295&gt;:&lt;0-65535&gt;. 0:0 or 0.0:0 is not supported.
Two CEs are in the same site and can advertise routes to each other, and they are connected to a VPN through PEs. If the local routes of a CE are advertised to the other CE over the VPN, a routing loop may occur.
The SoO feature can prevent a route advertised by a site from being sent back to the site, preventing routing loops. After SoO is enabled and a PE receives a route from a CE, the specified SoO attribute will be added to the route. Before advertising the route to the other CE, the PE checks the SoO attribute. If the SoO attribute is the same as the locally configured SoO attribute, the PE does not advertise the route, preventing routing loops.</text>
                    </description>
                  </leaf>
                  <leaf name="keep-all-routes">
                    <when condition="/bgp:bgp/bgp:base-process/bgp:keep-all-routes='false'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable saving all the updated information about BGP routes from a specified peer or peer group after a BGP connection is established, even though these BGP routes fail to match the routing policy on the ingress. By default, the updated information about BGP routes from a specified peer is saved only when the routes match the routing policy on the ingress. If a router supports route refreshing, this option is not required.</text>
                    </description>
                  </leaf>
                  <leaf name="exp-mode">
                    <type name="exp-mode-type"/>
                    <default value="null"/>
                    <description>
                      <text>Specify the ASs in which a BGP label can inherit the QoS priority carried in the outer label of public tunnel in the Core AS and the ASs in which the priorities of BGP LSPs must be restored before the LSPs are advertised to a non-core AS.</text>
                    </description>
                  </leaf>
                  <leaf name="advertise-best-external">
                    <when condition="../../../../../../../../ni:name='_public_' and ../../../../bgp:type='ibgp'"/>
                    <type name="boolean"/>
                    <must condition="../reflect-client='false' or ../advertise-best-external='false'"/>
                    <must condition="../add-path-mode='null' or not(../add-path-mode) or ../advertise-best-external='false'"/>
                    <must condition="not(../add-path-number and ../advertise-best-external='true')"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the device to advertise Best External routes to peers.</text>
                    </description>
                  </leaf>
                  <leaf name="load-balancing-enable">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable a neighbour to participate in load balancing.</text>
                    </description>
                  </leaf>
                  <choice name="load-balancing-ignore-as-type">
                    <description>
                      <text>Set load balancing as path type.</text>
                    </description>
                    <case name="as-attribute">
                      <description>
                        <text>Ignore the as-path attribute.</text>
                      </description>
                      <leaf name="load-balancing-as-path-ignore">
                        <when condition="../load-balancing-enable='true'"/>
                        <type name="empty"/>
                        <description>
                          <text>Configure BGP to ignore the AS_Path attribute when selecting the equal route. After as-path-neglect is selected, BGP does not compare the AS_Path length.</text>
                        </description>
                      </leaf>
                    </case>
                    <case name="same-length-as-attribute">
                      <description>
                        <text>Ignore comparison of as-path attributes with the same length.</text>
                      </description>
                      <leaf name="load-balancing-as-path-relax">
                        <when condition="../load-balancing-enable='true'"/>
                        <type name="empty"/>
                        <description>
                          <text>Configure BGP to ignore comparison of AS_Path attributes with the same length when selecting the equal route. After as-path-neglect is selected, BGP does not compare the AS_Path length.</text>
                        </description>
                      </leaf>
                    </case>
                  </choice>
                  <leaf name="prefix-sid">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable a device to exchange IPv4 prefix SIDs with a specified IPv6 peer group.</text>
                    </description>
                  </leaf>
                  <choice name="prefix-sid-packet">
                    <description>
                      <text>Prefix-sid packet method.</text>
                    </description>
                    <case name="sid-type5">
                      <description>
                        <text>Packet by type5.</text>
                      </description>
                      <leaf name="advertise-srv6-locator">
                        <when condition="../prefix-sid='true'"/>
                        <type name="empty"/>
                        <description>
                          <text>Advertise SRv6 locators.</text>
                        </description>
                      </leaf>
                    </case>
                  </choice>
                  <uses name="group-independent-peer-group-type"/>
                  <uses name="advertise-large-community-group-type"/>
                  <uses name="ipv4-default-route-match-conditions-type"/>
                  <uses name="route-limit-accept-type"/>
                  <uses name="public-as-only-type"/>
                  <uses name="group-public-as-only-import-type"/>
                  <uses name="advertise-dependent-filter-group-type"/>
                  <container name="entropy-label-parameter">
                    <when condition="../../../../../../../../ni:name='_public_' and ../label-route-capability='true'"/>
                    <description>
                      <text>Configure information about entropy label parameter in a peer group.</text>
                    </description>
                    <uses name="group-entropy-label-type"/>
                  </container>
                </container>
                <container name="ipv6-unicast">
                  <when condition="../type = 'ipv6uni'"/>
                  <description>
                    <text>Configure IPv6 unicast options.</text>
                  </description>
                  <leaf name="advertise-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable advertise the community attribute to a peer or a peer group.</text>
                    </description>
                  </leaf>
                  <leaf name="reflect-client">
                    <when condition="../../../../bgp:type='ibgp'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the local device as a route reflector (RR) and a peer or peer group as its client. This configuration is applicable between IBGP peers only. The configurations of RRs and its clients in an address family are valid only in this address family. Therefore, it is recommended to configure RRs and its clients in the specified address family that is required.</text>
                    </description>
                  </leaf>
                  <leaf name="label-route-capability">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable a device to exchange labeled routes.</text>
                    </description>
                  </leaf>
                  <leaf name="nexthop-configure">
                    <type name="nexthop-configuration-type"/>
                    <description>
                      <text>Both the next-hop-local mode and next-hop-invariable mode are available when the peer address family is the VPNv4/VPNV6/L2VPN AD address family. Only the next-hop-local mode is available when the peer address family is not VPNv4/VPNV6/L2VPN AD address family. In next-hop-local mode, you can configure a BGP speaker to set its IP address of as the next hop of the routes to be advertised to IBGP peers or IBGP peer groups. In next-hop-invariable mode, you can configure PEs in different ASs not to change the next hop of routes when the PEs advertise the routes to their EBGP peers and use the next hop addresses of IGP routes to advertise imported IGP routes to IBGP peers. By default, when a BGP speaker advertises routes to EBGP peers and imported IGP routes to IBGP peers, the BGP speaker changes the next hop to its interface address.</text>
                    </description>
                  </leaf>
                  <uses name="peer-policy-filter-type"/>
                  <leaf name="advertise-ext-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable advertise the extended community attribute to a peer or peer group.</text>
                    </description>
                  </leaf>
                  <leaf name="origin-as-validation">
                    <when condition="../advertise-ext-community='true' and ../../../../peer-establish-mode='static'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the BGP peer origin validation.</text>
                    </description>
                  </leaf>
                  <leaf name="discard-ext-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable discard the extended community attribute in the routing information about a specified peer.</text>
                    </description>
                  </leaf>
                  <leaf name="allow-as-loop">
                    <type name="uint32">
                      <range value="1..10"/>
                    </type>
                    <description>
                      <text>Allow repetitive local AS numbers. By default, repetitive local AS numbers are not allowed.</text>
                    </description>
                  </leaf>
                  <leaf name="aigp">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable route with AIGP attribute advertisement to or from a peer.</text>
                    </description>
                  </leaf>
                  <uses name="default-route-advertise-type"/>
                  <leaf name="default-route-match-mode">
                    <when condition="../default-route-advertise='true'"/>
                    <type name="cra-match-mode"/>
                    <default value="null"/>
                    <description>
                      <text>Configure the matching mode of default route advertisement, which can be disabling of route advertisement conditions, enabling of all route advertisement conditions, and enabling of part route advertisement conditions. Enabling of all route advertisement conditions indicates that a default route can be advertised only when it matches all the conditions. Enabling of part route advertisement conditions indicates that a default route can be advertised only when it matches one condition.</text>
                    </description>
                  </leaf>
                  <leaf name="add-path-mode">
                    <when condition="../../../../../../../../ni:name='_public_' and ../../../../bgp:type='ibgp'"/>
                    <type name="add-path-cap-type"/>
                    <default value="null"/>
                    <description>
                      <text>Enable Add-Path route advertisement to a peer.</text>
                    </description>
                  </leaf>
                  <uses name="ipv6-prefix-filter-type"/>
                  <uses name="as-path-filter-type"/>
                  <uses name="peer-group-acl6-name-or-num-type"/>
                  <uses name="rt-update-interval-type"/>
                  <uses name="preferred-value-type"/>
                  <leaf name="add-path-number">
                    <when condition="../../../../../../../../ni:name='_public_' and ../../../../bgp:type='ibgp'"/>
                    <type name="uint8">
                      <range value="2..64"/>
                    </type>
                    <description>
                      <text>Number of Add-Path routes that can be advertised to a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="substitute-as-enable">
                    <when condition="../../../../bgp:type='ebgp'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable replace the AS number of a specified peer in the AS_Path attribute with the local AS number. On a PE where AS number replacement is enabled, if an AS number in the AS_Path attribute of a route is same as that of the CE to which the PE advertises the route, the PE replaces the AS number with its own AS number before advertising the route.</text>
                    </description>
                  </leaf>
                  <leaf name="soo">
                    <when condition="../../../../../../../../ni:name!='_public_'"/>
                    <type name="string">
                      <length value="3..21"/>
                    </type>
                    <description>
                      <text>Configure the Site-of-Origin (SoO) extended community attribute. This attribute can be expressed in the following formats: X.X.X.X:number&lt;0-65535&gt;, number&lt;0-65535&gt;:number&lt;0-4294967295&gt;, or number&lt;0-65535&gt;.number&lt;0-65535&gt;:number&lt;0-65535&gt; or &lt;65536-4294967295&gt;:&lt;0-65535&gt;. 0:0 or 0.0:0 is not supported.
Two CEs are in the same site and can advertise routes to each other, and they are connected to a VPN through PEs. If the local routes of a CE are advertised to the other CE over the VPN, a routing loop may occur.
The SoO feature can prevent a route advertised by a site from being sent back to the site, preventing routing loops. After SoO is enabled and a PE receives a route from a CE, the specified SoO attribute will be added to the route. Before advertising the route to the other CE, the PE checks the SoO attribute. If the SoO attribute is the same as the locally configured SoO attribute, the PE does not advertise the route, preventing routing loops.</text>
                    </description>
                  </leaf>
                  <leaf name="keep-all-routes">
                    <when condition="/bgp:bgp/bgp:base-process/bgp:keep-all-routes='false'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable saving all the updated information about BGP routes from a specified peer or peer group after a BGP connection is established, even though these BGP routes fail to match the routing policy on the ingress. By default, the updated information about BGP routes from a specified peer is saved only when the routes match the routing policy on the ingress. If a router supports route refreshing, this option is not required.</text>
                    </description>
                  </leaf>
                  <leaf name="advertise-best-external">
                    <when condition="../../../../../../../../ni:name='_public_' and ../../../../bgp:type='ibgp'"/>
                    <type name="boolean"/>
                    <must condition="../reflect-client='false' or ../advertise-best-external='false'"/>
                    <must condition="../add-path-mode='null' or not(../add-path-mode) or ../advertise-best-external='false'"/>
                    <must condition="not(../add-path-number and ../advertise-best-external='true')"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the device to advertise Best External routes to peers.</text>
                    </description>
                  </leaf>
                  <leaf name="load-balancing-enable">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable a neighbour to participate in load balancing.</text>
                    </description>
                  </leaf>
                  <choice name="load-balancing-ignore-as-type">
                    <description>
                      <text>Set load balancing as path type.</text>
                    </description>
                    <case name="as-attribute">
                      <description>
                        <text>Ignore the as-path attribute.</text>
                      </description>
                      <leaf name="load-balancing-as-path-ignore">
                        <when condition="../load-balancing-enable='true'"/>
                        <type name="empty"/>
                        <description>
                          <text>Configure BGP to ignore the AS_Path attribute when selecting the equal route. After as-path-neglect is selected, BGP does not compare the AS_Path length.</text>
                        </description>
                      </leaf>
                    </case>
                    <case name="same-length-as-attribute">
                      <description>
                        <text>Ignore comparison of as-path attributes with the same length.</text>
                      </description>
                      <leaf name="load-balancing-as-path-relax">
                        <when condition="../load-balancing-enable='true'"/>
                        <type name="empty"/>
                        <description>
                          <text>Configure BGP to ignore comparison of AS_Path attributes with the same length when selecting the equal route. After as-path-neglect is selected, BGP does not compare the AS_Path length.</text>
                        </description>
                      </leaf>
                    </case>
                  </choice>
                  <leaf name="prefix-sid">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable a device to exchange IPv4 prefix SIDs with a specified IPv6 peer group.</text>
                    </description>
                  </leaf>
                  <choice name="prefix-sid-packet">
                    <description>
                      <text>Prefix-sid packet method.</text>
                    </description>
                    <case name="sid-type5">
                      <description>
                        <text>Packet by type5.</text>
                      </description>
                      <leaf name="advertise-srv6-locator">
                        <when condition="../prefix-sid='true'"/>
                        <type name="empty"/>
                        <description>
                          <text>Advertise SRv6 locators.</text>
                        </description>
                      </leaf>
                    </case>
                  </choice>
                  <uses name="advertise-large-community-group-type"/>
                  <uses name="group-independent-peer-group-type"/>
                  <uses name="ipv6-default-route-match-conditions-type"/>
                  <uses name="route-limit-accept-type"/>
                  <uses name="public-as-only-type"/>
                  <uses name="group-public-as-only-import-type"/>
                  <uses name="advertise-dependent-filter6-group-type"/>
                </container>
                <container name="ipv4-vpn">
                  <when condition="../type = 'ipv4vpn'"/>
                  <description>
                    <text>Configure IPv4 vpnv4 options.</text>
                  </description>
                  <leaf name="advertise-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable advertise the community attribute to a peer or a peer group.</text>
                    </description>
                  </leaf>
                  <leaf name="reflect-client">
                    <when condition="../../../../bgp:type='ibgp'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the local device as a route reflector (RR) and a peer or peer group as its client. This configuration is applicable between IBGP peers only. The configurations of RRs and its clients in an address family are valid only in this address family. Therefore, it is recommended to configure RRs and its clients in the specified address family that is required.</text>
                    </description>
                  </leaf>
                  <leaf name="nexthop-configure">
                    <type name="nexthop-configuration-type"/>
                    <description>
                      <text>Both the next-hop-local mode and next-hop-invariable mode are available when the peer address family is the VPNv4/VPNV6/L2VPN AD address family. Only the next-hop-local mode is available when the peer address family is not VPNv4/VPNV6/L2VPN AD address family. In next-hop-local mode, you can configure a BGP speaker to set its IP address of as the next hop of the routes to be advertised to IBGP peers or IBGP peer groups. In next-hop-invariable mode, you can configure PEs in different ASs not to change the next hop of routes when the PEs advertise the routes to their EBGP peers and use the next hop addresses of IGP routes to advertise imported IGP routes to IBGP peers. By default, when a BGP speaker advertises routes to EBGP peers and imported IGP routes to IBGP peers, the BGP speaker changes the next hop to its interface address.</text>
                    </description>
                  </leaf>
                  <uses name="peer-policy-filter-type"/>
                  <leaf name="ignore-bit-error">
                    <when condition="../export-policy or ../export-filter"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the peer to ignore bit error detection results.</text>
                    </description>
                  </leaf>
                  <leaf name="allow-as-loop">
                    <type name="uint32">
                      <range value="1..10"/>
                    </type>
                    <description>
                      <text>Allow repetitive local AS numbers. By default, repetitive local AS numbers are not allowed.</text>
                    </description>
                  </leaf>
                  <leaf name="aigp">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable route with AIGP attribute advertisement to or from a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="add-path-mode">
                    <when condition="../../../../bgp:type='ibgp'"/>
                    <type name="add-path-cap-type"/>
                    <default value="null"/>
                    <description>
                      <text>Enable Add-Path route advertisement to a peer.</text>
                    </description>
                  </leaf>
                  <uses name="ip-prefix-filter-type"/>
                  <uses name="peer-ipv4-reoriginate-type"/>
                  <uses name="as-path-filter-type"/>
                  <uses name="peer-group-acl-name-or-num-type"/>
                  <uses name="rt-update-interval-type"/>
                  <uses name="preferred-value-type"/>
                  <leaf name="add-path-number">
                    <when condition="../../../../bgp:type='ibgp'"/>
                    <type name="uint8">
                      <range value="2..64"/>
                    </type>
                    <description>
                      <text>Number of Add-Path routes that can be advertised to a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="upe">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the peer as an underlayer PE (UPE).</text>
                    </description>
                  </leaf>
                  <leaf name="advertise-best-external">
                    <when condition="../../../../bgp:type='ibgp'"/>
                    <type name="boolean"/>
                    <must condition="../reflect-client='false' or ../advertise-best-external='false'"/>
                    <must condition="../add-path-mode='null' or not(../add-path-mode) or ../advertise-best-external='false'"/>
                    <must condition="not(../add-path-number and ../advertise-best-external='true')"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the device to advertise Best External routes to peers.</text>
                    </description>
                  </leaf>
                  <uses name="advertise-large-community-group-type"/>
                  <leaf name="keep-all-routes">
                    <when condition="/bgp:bgp/bgp:base-process/bgp:keep-all-routes='false'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable saving all the updated information about BGP routes from a specified peer or peer group after a BGP connection is established, even though these BGP routes fail to match the routing policy on the ingress. By default, the updated information about BGP routes from a specified peer is saved only when the routes match the routing policy on the ingress. If a router supports route refreshing, this option is not required.</text>
                    </description>
                  </leaf>
                  <uses name="group-independent-peer-group-type"/>
                  <leaf name="origin-as-validation">
                    <when condition="../../../../peer-establish-mode='static'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the BGP peer origin validation.</text>
                    </description>
                  </leaf>
                  <container name="default-route-originates">
                    <description>
                      <text>Configure advertised default VPNv4 routes.</text>
                    </description>
                    <uses name="default-route-originate-type"/>
                  </container>
                  <uses name="route-limit-type"/>
                  <uses name="public-as-only-type"/>
                  <uses name="group-public-as-only-import-type"/>
                </container>
                <container name="ipv6-vpn">
                  <when condition="../type = 'ipv6vpn'"/>
                  <description>
                    <text>Configure IPv6 vpn options.</text>
                  </description>
                  <leaf name="advertise-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable advertise the community attribute to a peer or a peer group.</text>
                    </description>
                  </leaf>
                  <leaf name="reflect-client">
                    <when condition="../../../../bgp:type='ibgp'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the local device as a route reflector (RR) and a peer or peer group as its client. This configuration is applicable between IBGP peers only. The configurations of RRs and its clients in an address family are valid only in this address family. Therefore, it is recommended to configure RRs and its clients in the specified address family that is required.</text>
                    </description>
                  </leaf>
                  <leaf name="nexthop-configure">
                    <type name="nexthop-configuration-type"/>
                    <description>
                      <text>Both the next-hop-local mode and next-hop-invariable mode are available when the peer address family is the VPNv4/VPNV6/L2VPN AD address family. Only the next-hop-local mode is available when the peer address family is not VPNv4/VPNV6/L2VPN AD address family. In next-hop-local mode, you can configure a BGP speaker to set its IP address of as the next hop of the routes to be advertised to IBGP peers or IBGP peer groups. In next-hop-invariable mode, you can configure PEs in different ASs not to change the next hop of routes when the PEs advertise the routes to their EBGP peers and use the next hop addresses of IGP routes to advertise imported IGP routes to IBGP peers. By default, when a BGP speaker advertises routes to EBGP peers and imported IGP routes to IBGP peers, the BGP speaker changes the next hop to its interface address.</text>
                    </description>
                  </leaf>
                  <uses name="peer-policy-filter-type"/>
                  <leaf name="ignore-bit-error">
                    <when condition="../export-policy or ../export-filter"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the peer to ignore bit error detection results.</text>
                    </description>
                  </leaf>
                  <leaf name="allow-as-loop">
                    <type name="uint32">
                      <range value="1..10"/>
                    </type>
                    <description>
                      <text>Allow repetitive local AS numbers. By default, repetitive local AS numbers are not allowed.</text>
                    </description>
                  </leaf>
                  <leaf name="aigp">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable route with AIGP attribute advertisement to or from a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="add-path-mode">
                    <when condition="../../../../bgp:type='ibgp'"/>
                    <type name="add-path-cap-type"/>
                    <default value="null"/>
                    <description>
                      <text>Enable Add-Path route advertisement to a peer.</text>
                    </description>
                  </leaf>
                  <uses name="ipv6-prefix-filter-type"/>
                  <leaf name="reoriginate-route-enable">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable route regeneration.</text>
                    </description>
                  </leaf>
                  <leaf name="reoriginate-ipv6-enable">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable IP route regeneration and advertisement.</text>
                    </description>
                  </leaf>
                  <leaf name="reoriginate-mac-ipv6-enable">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable MAC-IP route regeneration and advertisement.</text>
                    </description>
                  </leaf>
                  <uses name="as-path-filter-type"/>
                  <uses name="peer-group-acl6-name-or-num-type"/>
                  <uses name="rt-update-interval-type"/>
                  <uses name="preferred-value-type"/>
                  <leaf name="add-path-number">
                    <when condition="../../../../bgp:type='ibgp'"/>
                    <type name="uint8">
                      <range value="2..64"/>
                    </type>
                    <description>
                      <text>Number of Add-Path routes that can be advertised to a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="advertise-best-external">
                    <when condition="../../../../bgp:type='ibgp'"/>
                    <type name="boolean"/>
                    <must condition="../reflect-client='false' or ../advertise-best-external='false'"/>
                    <must condition="../add-path-mode='null' or not(../add-path-mode) or ../advertise-best-external='false'"/>
                    <must condition="not(../add-path-number and ../advertise-best-external='true')"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the device to advertise Best External routes to peers.</text>
                    </description>
                  </leaf>
                  <uses name="advertise-large-community-group-type"/>
                  <leaf name="keep-all-routes">
                    <when condition="/bgp:bgp/bgp:base-process/bgp:keep-all-routes='false'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable saving all the updated information about BGP routes from a specified peer or peer group after a BGP connection is established, even though these BGP routes fail to match the routing policy on the ingress. By default, the updated information about BGP routes from a specified peer is saved only when the routes match the routing policy on the ingress. If a router supports route refreshing, this option is not required.</text>
                    </description>
                  </leaf>
                  <uses name="group-independent-peer-group-type"/>
                  <leaf name="origin-as-validation">
                    <when condition="../../../../peer-establish-mode='static'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the BGP peer origin validation.</text>
                    </description>
                  </leaf>
                  <uses name="route-limit-type"/>
                  <uses name="public-as-only-type"/>
                  <uses name="group-public-as-only-import-type"/>
                </container>
                <container name="ipv4-labeluni">
                  <when condition="../type = 'ipv4labeluni'"/>
                  <description>
                    <text>Configure IPv4 label unicast options.</text>
                  </description>
                  <leaf name="advertise-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable advertise the community attribute to a peer or a peer group.</text>
                    </description>
                  </leaf>
                  <leaf name="reflect-client">
                    <when condition="../../../../bgp:type='ibgp'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the local device as a route reflector (RR) and a peer or peer group as its client. This configuration is applicable between IBGP peers only. The configurations of RRs and its clients in an address family are valid only in this address family. Therefore, it is recommended to configure RRs and its clients in the specified address family that is required.</text>
                    </description>
                  </leaf>
                  <leaf name="check-tunnel-reachable">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable tunnel reachability check.</text>
                    </description>
                  </leaf>
                  <uses name="peer-policy-filter-type"/>
                  <leaf name="advertise-ext-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable advertise the extended community attribute to a peer or peer group.</text>
                    </description>
                  </leaf>
                  <leaf name="discard-ext-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable discard the extended community attribute in the routing information about a specified peer.</text>
                    </description>
                  </leaf>
                  <leaf name="allow-as-loop">
                    <type name="uint32">
                      <range value="1..10"/>
                    </type>
                    <description>
                      <text>Allow repetitive local AS numbers. By default, repetitive local AS numbers are not allowed.</text>
                    </description>
                  </leaf>
                  <leaf name="aigp">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable route with AIGP attribute advertisement to or from a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="add-path-mode">
                    <when condition="../../../../../../../../ni:name='_public_' and ../../../../bgp:type='ibgp'"/>
                    <type name="add-path-cap-type"/>
                    <default value="null"/>
                    <description>
                      <text>Enable Add-Path route advertisement to a peer.</text>
                    </description>
                  </leaf>
                  <uses name="ip-prefix-filter-type"/>
                  <uses name="as-path-filter-type"/>
                  <uses name="peer-group-acl-name-or-num-type"/>
                  <uses name="rt-update-interval-type"/>
                  <leaf name="nexthop-configure">
                    <type name="nexthop-configuration-type"/>
                    <description>
                      <text>Both the next-hop-local mode and next-hop-invariable mode are available when the peer address family is the VPNv4/VPNV6/L2VPN AD address family. Only the next-hop-local mode is available when the peer address family is not VPNv4/VPNV6/L2VPN AD address family. In next-hop-local mode, you can configure a BGP speaker to set its IP address of as the next hop of the routes to be advertised to IBGP peers or IBGP peer groups. In next-hop-invariable mode, you can configure PEs in different ASs not to change the next hop of routes when the PEs advertise the routes to their EBGP peers and use the next hop addresses of IGP routes to advertise imported IGP routes to IBGP peers. By default, when a BGP speaker advertises routes to EBGP peers and imported IGP routes to IBGP peers, the BGP speaker changes the next hop to its interface address.</text>
                    </description>
                  </leaf>
                  <uses name="preferred-value-type"/>
                  <leaf name="exp-mode">
                    <when condition="../../../../../../../../ni:name!='_public_'"/>
                    <type name="exp-mode-type"/>
                    <default value="null"/>
                    <description>
                      <text>Specify the ASs in which a BGP label can inherit the QoS priority carried in the outer label of public tunnel in the Core AS and the ASs in which the priorities of BGP LSPs must be restored before the LSPs are advertised to a non-core AS.</text>
                    </description>
                  </leaf>
                  <leaf name="add-path-number">
                    <when condition="../../../../../../../../ni:name='_public_' and ../../../../bgp:type='ibgp'"/>
                    <type name="uint8">
                      <range value="2..64"/>
                    </type>
                    <description>
                      <text>Number of Add-Path routes that can be advertised to a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="substitute-as-enable">
                    <when condition="../../../../bgp:type='ebgp'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable replace the AS number of a specified peer in the AS_Path attribute with the local AS number. On a PE where AS number replacement is enabled, if an AS number in the AS_Path attribute of a route is same as that of the CE to which the PE advertises the route, the PE replaces the AS number with its own AS number before advertising the route.</text>
                    </description>
                  </leaf>
                  <leaf name="soo">
                    <when condition="../../../../../../../../ni:name!='_public_'"/>
                    <type name="string">
                      <length value="3..21"/>
                    </type>
                    <description>
                      <text>Configure the Site-of-Origin (SoO) extended community attribute. This attribute can be expressed in the following formats: X.X.X.X:number&lt;0-65535&gt;, number&lt;0-65535&gt;:number&lt;0-4294967295&gt;, or number&lt;0-65535&gt;.number&lt;0-65535&gt;:number&lt;0-65535&gt; or &lt;65536-4294967295&gt;:&lt;0-65535&gt;. 0:0 or 0.0:0 is not supported.
Two CEs are in the same site and can advertise routes to each other, and they are connected to a VPN through PEs. If the local routes of a CE are advertised to the other CE over the VPN, a routing loop may occur.
The SoO feature can prevent a route advertised by a site from being sent back to the site, preventing routing loops. After SoO is enabled and a PE receives a route from a CE, the specified SoO attribute will be added to the route. Before advertising the route to the other CE, the PE checks the SoO attribute. If the SoO attribute is the same as the locally configured SoO attribute, the PE does not advertise the route, preventing routing loops.</text>
                    </description>
                  </leaf>
                  <leaf name="advertise-best-external">
                    <when condition="../../../../../../../../ni:name='_public_' and ../../../../bgp:type='ibgp'"/>
                    <type name="boolean"/>
                    <must condition="../reflect-client='false' or ../advertise-best-external='false'"/>
                    <must condition="../add-path-mode='null' or not(../add-path-mode) or ../advertise-best-external='false'"/>
                    <must condition="not(../add-path-number and ../advertise-best-external='true')"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the device to advertise Best External routes to peers.</text>
                    </description>
                  </leaf>
                  <leaf name="load-balancing-enable">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable a neighbour to participate in load balancing.</text>
                    </description>
                  </leaf>
                  <choice name="load-balancing-ignore-as-type">
                    <description>
                      <text>Set load balancing as path type.</text>
                    </description>
                    <case name="as-attribute">
                      <description>
                        <text>Ignore the as-path attribute.</text>
                      </description>
                      <leaf name="load-balancing-as-path-ignore">
                        <when condition="../load-balancing-enable='true'"/>
                        <type name="empty"/>
                        <description>
                          <text>Configure BGP to ignore the AS_Path attribute when selecting the equal route. After as-path-neglect is selected, BGP does not compare the AS_Path length.</text>
                        </description>
                      </leaf>
                    </case>
                    <case name="same-length-as-attribute">
                      <description>
                        <text>Ignore comparison of as-path attributes with the same length.</text>
                      </description>
                      <leaf name="load-balancing-as-path-relax">
                        <when condition="../load-balancing-enable='true'"/>
                        <type name="empty"/>
                        <description>
                          <text>Configure BGP to ignore comparison of AS_Path attributes with the same length when selecting the equal route. After as-path-neglect is selected, BGP does not compare the AS_Path length.</text>
                        </description>
                      </leaf>
                    </case>
                  </choice>
                  <uses name="advertise-large-community-group-type"/>
                  <uses name="group-independent-peer-group-type"/>
                  <uses name="route-limit-accept-type"/>
                  <uses name="public-as-only-type"/>
                  <uses name="group-public-as-only-import-type"/>
                  <container name="entropy-label-parameter">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <description>
                      <text>Configure information about entropy label parameter in a peer group.</text>
                    </description>
                    <uses name="group-entropy-label-type"/>
                  </container>
                </container>
                <container name="ipv4-multicast">
                  <when condition="../type='ipv4multi'"/>
                  <description>
                    <text>Configure IPv4 multicast options.</text>
                  </description>
                  <uses name="default-route-advertise-type"/>
                  <uses name="ip-prefix-filter-type"/>
                  <uses name="as-path-filter-type"/>
                  <uses name="peer-group-acl-name-or-num-type"/>
                  <leaf name="advertise-ext-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable advertise the extended community attribute to a peer or peer group.</text>
                    </description>
                  </leaf>
                  <leaf name="discard-ext-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable discard the extended community attribute in the routing information about a specified peer.</text>
                    </description>
                  </leaf>
                  <leaf name="allow-as-loop">
                    <type name="uint32">
                      <range value="1..10"/>
                    </type>
                    <description>
                      <text>Allow repetitive local AS numbers. By default, repetitive local AS numbers are not allowed.</text>
                    </description>
                  </leaf>
                  <leaf name="nexthop-configure">
                    <type name="nexthop-configuration-type"/>
                    <must condition="../nexthop-configure='local'"/>
                    <description>
                      <text>Both the next-hop-local mode and next-hop-invariable mode are available when the peer address family is the VPNv4/VPNV6/L2VPN AD address family. Only the next-hop-local mode is available when the peer address family is not VPNv4/VPNV6/L2VPN AD address family. In next-hop-local mode, you can configure a BGP speaker to set its IP address of as the next hop of the routes to be advertised to IBGP peers or IBGP peer groups. In next-hop-invariable mode, you can configure PEs in different ASs not to change the next hop of routes when the PEs advertise the routes to their EBGP peers and use the next hop addresses of IGP routes to advertise imported IGP routes to IBGP peers. By default, when a BGP speaker advertises routes to EBGP peers and imported IGP routes to IBGP peers, the BGP speaker changes the next hop to its interface address.</text>
                    </description>
                  </leaf>
                  <leaf name="advertise-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable advertise the community attribute to a peer or a peer group.</text>
                    </description>
                  </leaf>
                  <leaf name="keep-all-routes">
                    <when condition="/bgp:bgp/bgp:base-process/bgp:keep-all-routes='false'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable saving all the updated information about BGP routes from a specified peer or peer group after a BGP connection is established, even though these BGP routes fail to match the routing policy on the ingress. By default, the updated information about BGP routes from a specified peer is saved only when the routes match the routing policy on the ingress. If a router supports route refreshing, this option is not required.</text>
                    </description>
                  </leaf>
                  <uses name="peer-policy-filter-type"/>
                  <leaf name="reflect-client">
                    <when condition="../../../../bgp:type='ibgp'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the local device as a route reflector (RR) and a peer or peer group as its client. This configuration is applicable between IBGP peers only. The configurations of RRs and its clients in an address family are valid only in this address family. Therefore, it is recommended to configure RRs and its clients in the specified address family that is required.</text>
                    </description>
                  </leaf>
                  <leaf name="load-balancing-enable">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable a neighbour to participate in load balancing.</text>
                    </description>
                  </leaf>
                  <choice name="load-balancing-ignore-as-type">
                    <description>
                      <text>Set load balancing as path type.</text>
                    </description>
                    <case name="as-attribute">
                      <description>
                        <text>Ignore the as-path attribute.</text>
                      </description>
                      <leaf name="load-balancing-as-path-ignore">
                        <when condition="../load-balancing-enable='true'"/>
                        <type name="empty"/>
                        <description>
                          <text>Configure BGP to ignore the AS_Path attribute when selecting the equal route. After as-path-neglect is selected, BGP does not compare the AS_Path length.</text>
                        </description>
                      </leaf>
                    </case>
                    <case name="same-length-as-attribute">
                      <description>
                        <text>Ignore comparison of as-path attributes with the same length.</text>
                      </description>
                      <leaf name="load-balancing-as-path-relax">
                        <when condition="../load-balancing-enable='true'"/>
                        <type name="empty"/>
                        <description>
                          <text>Configure BGP to ignore comparison of AS_Path attributes with the same length when selecting the equal route. After as-path-neglect is selected, BGP does not compare the AS_Path length.</text>
                        </description>
                      </leaf>
                    </case>
                  </choice>
                  <uses name="advertise-large-community-group-type"/>
                  <uses name="rt-update-interval-type"/>
                  <uses name="bgp:preferred-value-type"/>
                  <uses name="group-independent-peer-group-type"/>
                  <uses name="route-limit-type"/>
                  <uses name="public-as-only-type"/>
                  <uses name="group-public-as-only-import-type"/>
                </container>
              </list>
            </container>
          </list>
        </container>
        <container name="peers">
          <description>
            <text>List of BGP peers.</text>
          </description>
          <list name="peer">
            <key value="address"/>
            <description>
              <text>Configure a single BGP peer.</text>
            </description>
            <leaf name="address">
              <type name="inet:ip-address-no-zone"/>
              <description>
                <text>Connection address of a peer, which can be an IPv4 or IPv6 address.</text>
              </description>
            </leaf>
            <leaf name="remote-as">
              <type name="as-number-validate"/>
              <mandatory value="true"/>
              <description>
                <text>AS number of a peer, which must be selected or group name when creating, and which can be in either two-byte format or four-byte format:
The two-byte format is X. X is an integer ranging from 1 to 65535.
The four-byte format is X.Y and X. When the format is X.Y, X and Y are both integers, with the value of X ranging from 1 to 65535, and the value of Y ranging from 0 to 65535; when the format is X, X is an interger, with the value of X ranging from 1 to 4294967295.
The object cannot be modified.</text>
              </description>
              <ext:operation-exclude value="update">
                <description>
                  <text>The node cannot be modified, when node is already configured.</text>
                </description>
              </ext:operation-exclude>
            </leaf>
            <leaf name="group-name">
              <type name="leafref">
                <path value="../../../peer-groups/peer-group/name"/>
              </type>
              <must condition="../../../peer-groups/peer-group[name = current()]/peer-establish-mode = 'static'"/>
              <description>
                <text>Specify the name of a peer group that BGP peers need to join. That must be selected group name or AS when creating, and the value is a string, spaces not supported. By default, BGP peers join no peer group. BGP peers distinguish the peer group type when joining a peer group. IBGP peers cannot join an EBGP peer group. BGP peers will be deleted when they leave a peer group. The object cannot be modified.</text>
              </description>
              <ext:operation-exclude value="update">
                <description>
                  <text>The node cannot be modified, when the peer already belongs to a peer-group.</text>
                </description>
              </ext:operation-exclude>
            </leaf>
            <uses name="peer-local-if-type"/>
            <uses name="authentication-attr-type"/>
            <leaf name="description">
              <type name="string">
                <length value="1..255"/>
                <pattern value="([^?]*)"/>
              </type>
              <description>
                <text>Description of a peer, which can be letters or digits. The description is a string, spaces supported. By default, no description is configured for a peer.</text>
              </description>
            </leaf>
            <leaf name="ebgp-max-hop">
              <type name="uint32">
                <range value="1..255"/>
              </type>
              <must condition="not(../valid-ttl-hops) or (../valid-ttl-hops&gt;=1 and ../valid-ttl-hops&lt;=255 and ../ebgp-max-hop=1)"/>
              <description>
                <text>Maximum number of hops in an indirect EBGP connection. By default, EBGP connections can be established only between directly connected peers. The function must be configured on both ends. By default, value is determined by the neighbor type, the default value of EBGP is 1 and the default value of IBGP is 0.</text>
              </description>
            </leaf>
            <uses name="peer-tracking-type"/>
            <leaf name="conventional">
              <type name="boolean"/>
              <default value="false"/>
              <description>
                <text>Enable/disable general router functions on peers. In conventional mode, not all the extended router functions, such as, route refreshing, GR, and multi-address family negotiation, are available. Therefore, the router of a new version can be compatible with the routers of earlier versions.</text>
              </description>
            </leaf>
            <leaf name="route-refresh">
              <type name="boolean"/>
              <default value="true"/>
              <description>
                <text>Enable/disable BGP to advertise Refresh messages to peers.</text>
              </description>
            </leaf>
            <leaf name="four-byte-as">
              <type name="boolean"/>
              <default value="true"/>
              <description>
                <text>Enable/disable BGP to advertise routes carrying 4-byte AS numbers to peers. After the 4-byte AS number function is disabled, Open packets will not carry 4-byte AS number capability flag, and peer ends will not know that local ends have the 4-byte AS number function. The 4-byte AS number function cannot be disabled from peers (peer groups) if a 4-byte AS number, fake AS number, or confederation ID is configured on a router and the AS number of a peer is 4-byte. If the 4-byte AS number function is disabled in such a situation, BGP sessions may fail to be established, and route transmission may be affected.</text>
              </description>
            </leaf>
            <leaf name="ignore">
              <type name="boolean"/>
              <default value="false"/>
              <description>
                <text>Enable/disable the function to tear down sessions between peers and clear all related routing information.</text>
              </description>
            </leaf>
            <leaf name="valid-ttl-hops">
              <type name="uint16">
                <range value="1..255"/>
              </type>
              <must condition="not(../ebgp-max-hop and ../ebgp-max-hop&gt;1 and ../ebgp-max-hop&lt;=255)"/>
              <description>
                <text>Enable GTSM on a peer or peer group. The valid-TTL-Value parameter is used to specify the number of TTL hops to be detected. If the value is configured as hops, the valid TTL range of the detected packet is [255-hops+1, 255].</text>
              </description>
            </leaf>
            <leaf name="connect-mode">
              <type name="connect-mode"/>
              <default value="null"/>
              <description>
                <text>The value can be Connect-only, Listen-only, or Both. If the value is Connect-only, the specified peer or peer group only initiatively sends connection requests, instead of listening to connection requests. If the value is Listen-only, the specified peer or peer group only listens to connection requests, instead of initiatively sending connection requests. If the value is Both, the specified peer or peer group not only initiatively sends connection requests, but also listens to connection requests. The default value is Both.</text>
              </description>
            </leaf>
            <leaf name="log-change">
              <type name="boolean"/>
              <default value="true"/>
              <description>
                <text>Enable/disable BGP to record the session status and events of the specified peer or peer group.</text>
              </description>
            </leaf>
            <leaf name="path-mtu-auto-discovery">
              <type name="boolean"/>
              <default value="false"/>
              <description>
                <text>Enable/disable path mtu auto discovery.</text>
              </description>
            </leaf>
            <leaf name="local-ifnet-disable">
              <type name="boolean"/>
              <description>
                <text>Enable/disable MPLS local IFNET tunnel creation on a BGP IPv4 peer. By default, MPLS local IFNET tunnels can be created on an EBGP peer,but such tunnels cannot be created on an IBGP peer.</text>
              </description>
              <ext:dynamic-default/>
            </leaf>
            <leaf name="check-first-as">
              <type name="peer-cap-config-state"/>
              <default value="default"/>
              <description>
                <text>Check the first AS in the AS_Path of the update messages from EBGP peers.</text>
              </description>
            </leaf>
            <leaf name="egress-engineer">
              <when condition="../../../../../ni:name='_public_'"/>
              <type name="epe-state"/>
              <default value="default"/>
              <description>
                <text>BGP Egress Peer Engineering (BGP-EPE) is enable or disable. The default value is default (The function is disable, If the neighbour joins the group, the function is Inheritance group).</text>
              </description>
            </leaf>
            <leaf name="tcp-mss">
              <type name="uint16">
                <range value="176..4096"/>
              </type>
              <description>
                <text>Maximum TCP MSS value used for TCP connection establishment for a peer.</text>
              </description>
            </leaf>
            <leaf name="memory-priority">
              <type name="peer-memory-priority"/>
              <default value="default"/>
              <description>
                <text>Set a priority that determines the disconnection order of a BGP peer relationship if memory overload occurs.</text>
              </description>
            </leaf>
            <leaf name="memory-priority-capability">
              <type name="memory-priority"/>
              <config value="false"/>
              <description>
                <text>Priority that is used to determine the disconnection order of a BGP peer relationship if memory overload occurs.</text>
              </description>
            </leaf>
            <leaf name="oscillation-dampening">
              <type name="peer-attr-enable-type"/>
              <description>
                <text>Enable/disable BGP to suppress the establishment of a specified peer relationship that flaps continuously. By default, the capability is enabled.</text>
              </description>
            </leaf>
            <container name="effect-state">
              <config value="false"/>
              <description>
                <text>Operational state of a BGP peer. It uses the peer-specific configuration or inherits the configuration of its peer group.</text>
              </description>
              <leaf name="oscillation-dampening">
                <type name="boolean"/>
                <description>
                  <text>Whether the capability of suppressing the establishment of a specified peer relationship that flaps continuously is enabled on the BGP peer.</text>
                </description>
              </leaf>
            </container>
            <uses name="fake-as-type"/>
            <uses name="peer-timer-para-type"/>
            <uses name="peer-bfd-parameter-type"/>
            <container name="bfd-parameter-state">
              <config value="false"/>
              <description>
                <text>Statistics of BFD Parameter State.</text>
              </description>
              <leaf name="valid-ttl-hops">
                <type name="uint8">
                  <range value="1..255"/>
                </type>
                <description>
                  <text>The valid TTL hops value.</text>
                </description>
              </leaf>
            </container>
            <container name="egress-engineer-parameter">
              <when condition="../egress-engineer='enable'"/>
              <description>
                <text>Configure BGP peer egress engineering information.</text>
              </description>
              <leaf name="static-label">
                <type name="uint32">
                  <range value="16..1048575"/>
                </type>
                <description>
                  <text>The static label for BGP EPE.</text>
                </description>
              </leaf>
              <leaf name="label-pop">
                <when condition="../static-label"/>
                <type name="boolean"/>
                <must condition="not(../relate-bfd='true' and ../label-pop='true')"/>
                <default value="false"/>
                <description>
                  <text>Enable/disable the BGP-EPE label popping function.</text>
                </description>
              </leaf>
              <leaf name="relate-bfd">
                <type name="boolean"/>
                <must condition="not(../relate-bfd='true' and ../label-pop='true')"/>
                <default value="false"/>
                <description>
                  <text>Enable/disable association between the BGP-EPE label and BFD status.</text>
                </description>
              </leaf>
              <leaf name="peer-set-name">
                <type name="leafref">
                  <path value="../../../../bgp:egress-engineer-peer-sets/bgp:egress-engineer-peer-set/bgp:peer-set-name"/>
                </type>
                <description>
                  <text>Add peer to peer set.</text>
                </description>
              </leaf>
            </container>
            <container name="graceful-restart">
              <description>
                <text>Configure graceful restart.</text>
              </description>
              <uses name="peer-graceful-restart-type"/>
              <leaf name="peer-reset">
                <type name="peer-comm-config-type"/>
                <default value="default"/>
                <description>
                  <text>Enable/disable reseting BGP peer graceful.</text>
                </description>
              </leaf>
              <leaf name="effect-peer-reset">
                <type name="boolean"/>
                <config value="false"/>
                <description>
                  <text>Whether enable/disable reseting BGP peer graceful.</text>
                </description>
              </leaf>
            </container>
            <container name="local-graceful-restart">
              <description>
                <text>Configure local graceful restart.</text>
              </description>
              <uses name="peer-graceful-restart-type"/>
            </container>
            <container name="afs">
              <description>
                <text>List of peers in a specified address family.</text>
              </description>
              <list name="af">
                <key value="type"/>
                <description>
                  <text>Configure peer in a specified address family.</text>
                </description>
                <leaf name="type">
                  <type name="bgp:af-type"/>
                  <must condition="../../../../../afs/af[type = current()]"/>
                  <description>
                    <text>Specify the address family type to set the peer enable.</text>
                  </description>
                </leaf>
                <container name="ipv4-unicast">
                  <when condition="../type='ipv4uni'"/>
                  <description>
                    <text>Configure IPv4 unicast options.</text>
                  </description>
                  <leaf name="group-name">
                    <type name="leafref">
                      <path value="../../../../../../peer-groups/peer-group/name"/>
                    </type>
                    <must condition="../../../../../../peer-groups/peer-group[name = current()]/afs/af[type = 'ipv4uni']"/>
                    <must condition="../../../../../../peer-groups/peer-group[name = current()]/peer-establish-mode = 'static'"/>
                    <description>
                      <text>Configure a name for a peer group. After a peer is deleted from the peer group, the peer is disabled from the address family. The object cannot be modified.</text>
                    </description>
                    <ext:operation-exclude value="update">
                      <description>
                        <text>The node cannot be modified, when the peer already belongs to a peer-group.</text>
                      </description>
                    </ext:operation-exclude>
                  </leaf>
                  <leaf name="advertise-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable advertise the community attribute to a peer or a peer group.</text>
                    </description>
                  </leaf>
                  <leaf name="reflect-client">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the local device as a route reflector (RR) and a peer or peer group as its client. This configuration is applicable between IBGP peers only. The configurations of RRs and its clients in an address family are valid only in this address family. Therefore, it is recommended to configure RRs and its clients in the specified address family that is required.</text>
                    </description>
                  </leaf>
                  <leaf name="orf-type">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="bgp:bgp-orf-type"/>
                    <must condition="(../orf-mode='null' and ../orf-type='null') or (../orf-mode!='null' and ../orf-type!='null')"/>
                    <default value="null"/>
                    <description>
                      <text>ORF Type.</text>
                    </description>
                  </leaf>
                  <leaf name="orf-mode">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="bgp:bgp-orf-mode-type"/>
                    <must condition="(../orf-mode='null' and ../orf-type='null') or (../orf-mode!='null' and ../orf-type!='null')"/>
                    <default value="null"/>
                    <description>
                      <text>Configure an outbound route filtering (ORF) mode, which can be Receive, Send, or Both, and the default ORF mode is Both.</text>
                    </description>
                  </leaf>
                  <leaf name="label-route-capability">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable a device to exchange labeled routes.</text>
                    </description>
                  </leaf>
                  <leaf name="check-tunnel-reachable">
                    <when condition="../label-route-capability='true'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable tunnel reachability check.</text>
                    </description>
                  </leaf>
                  <leaf name="check-withdraw-type">
                    <when condition="../label-route-capability='true'"/>
                    <type name="boolean"/>
                    <default value="true"/>
                    <status value="obsolete"/>
                    <description>
                      <text>Enable/disable withdraw type check.</text>
                    </description>
                  </leaf>
                  <leaf name="nexthop-configure">
                    <type name="nexthop-configuration-type"/>
                    <description>
                      <text>Both the next-hop-local mode and next-hop-invariable mode are available when the peer address family is the VPNv4/VPNV6/L2VPN AD address family. Only the next-hop-local mode is available when the peer address family is not VPNv4/VPNV6/L2VPN AD address family. In next-hop-local mode, you can configure a BGP speaker to set its IP address of as the next hop of the routes to be advertised to IBGP peers or IBGP peer groups. In next-hop-invariable mode, you can configure PEs in different ASs not to change the next hop of routes when the PEs advertise the routes to their EBGP peers and use the next hop addresses of IGP routes to advertise imported IGP routes to IBGP peers. By default, when a BGP speaker advertises routes to EBGP peers and imported IGP routes to IBGP peers, the BGP speaker changes the next hop to its interface address.</text>
                    </description>
                  </leaf>
                  <uses name="peer-policy-filter-type"/>
                  <leaf name="advertise-ext-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable advertise the extended community attribute to a peer or peer group.</text>
                    </description>
                  </leaf>
                  <leaf name="origin-as-validation">
                    <when condition="../advertise-ext-community='true'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the BGP peer origin validation.</text>
                    </description>
                  </leaf>
                  <leaf name="discard-ext-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable discard the extended community attribute in the routing information about a specified peer.</text>
                    </description>
                  </leaf>
                  <leaf name="allow-as-loop">
                    <type name="uint32">
                      <range value="1..10"/>
                    </type>
                    <description>
                      <text>Allow repetitive local AS numbers. By default, repetitive local AS numbers are not allowed.</text>
                    </description>
                  </leaf>
                  <leaf name="aigp">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable route with AIGP attribute advertisement to or from a peer.</text>
                    </description>
                  </leaf>
                  <uses name="default-route-advertise-type"/>
                  <leaf name="default-route-match-mode">
                    <when condition="../default-route-advertise='true'"/>
                    <type name="cra-match-mode"/>
                    <default value="null"/>
                    <description>
                      <text>Configure the matching mode of default route advertisement, which can be disabling of route advertisement conditions, enabling of all route advertisement conditions, and enabling of part route advertisement conditions. Enabling of all route advertisement conditions indicates that a default route can be advertised only when it matches all the conditions. Enabling of part route advertisement conditions indicates that a default route can be advertised only when it matches one condition.</text>
                    </description>
                  </leaf>
                  <leaf name="add-path-mode">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="add-path-cap-type"/>
                    <default value="null"/>
                    <description>
                      <text>Enable add-path route advertisement to a peer.</text>
                    </description>
                  </leaf>
                  <uses name="ip-prefix-filter-type"/>
                  <uses name="as-path-filter-type"/>
                  <uses name="peer-group-acl-name-or-num-type"/>
                  <uses name="rt-update-interval-type"/>
                  <uses name="preferred-value-type"/>
                  <leaf name="add-path-number">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="uint8">
                      <range value="2..64"/>
                    </type>
                    <description>
                      <text>Number of add-path routes that can be advertised to a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="substitute-as-enable">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable replace the AS number of a specified peer in the AS_Path attribute with the local AS number. On a PE where AS number replacement is enabled, if an AS number in the AS_Path attribute of a route is same as that of the CE to which the PE advertises the route, the PE replaces the AS number with its own AS number before advertising the route.</text>
                    </description>
                  </leaf>
                  <leaf name="soo">
                    <when condition="../../../../../../../../ni:name!='_public_'"/>
                    <type name="string">
                      <length value="3..21"/>
                    </type>
                    <description>
                      <text>Configure the Site-of-Origin (SoO) extended community attribute. This attribute can be expressed in the following formats: X.X.X.X:number&lt;0-65535&gt;, number&lt;0-65535&gt;:number&lt;0-4294967295&gt;, or number&lt;0-65535&gt;.number&lt;0-65535&gt;:number&lt;0-65535&gt; or &lt;65536-4294967295&gt;:&lt;0-65535&gt;. 0:0 or 0.0:0 is not supported.
Two CEs are in the same site and can advertise routes to each other, and they are connected to a VPN through PEs. If the local routes of a CE are advertised to the other CE over the VPN, a routing loop may occur.
The SoO feature can prevent a route advertised by a site from being sent back to the site, preventing routing loops. After SoO is enabled and a PE receives a route from a CE, the specified SoO attribute will be added to the route. Before advertising the route to the other CE, the PE checks the SoO attribute. If the SoO attribute is the same as the locally configured SoO attribute, the PE does not advertise the route, preventing routing loops.</text>
                    </description>
                  </leaf>
                  <leaf name="keep-all-routes">
                    <when condition="/bgp:bgp/bgp:base-process/bgp:keep-all-routes='false'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable saving all the updated information about BGP routes from a specified peer or peer group after a BGP connection is established, even though these BGP routes fail to match the routing policy on the ingress. By default, the updated information about BGP routes from a specified peer is saved only when the routes match the routing policy on the ingress. If a router supports route refreshing, this option is not required.</text>
                    </description>
                  </leaf>
                  <leaf name="exp-mode">
                    <type name="exp-mode-type"/>
                    <default value="null"/>
                    <description>
                      <text>Specify the ASs in which a BGP label can inherit the QoS priority carried in the outer label of public tunnel in the Core AS and the ASs in which the priorities of BGP LSPs must be restored before the LSPs are advertised to a non-core AS.</text>
                    </description>
                  </leaf>
                  <leaf name="advertise-best-external">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="boolean"/>
                    <must condition="../reflect-client='false' or ../advertise-best-external='false'"/>
                    <must condition="../add-path-mode='null' or not(../add-path-mode) or ../advertise-best-external='false'"/>
                    <must condition="not(../add-path-number and ../advertise-best-external='true')"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the device to advertise Best External routes to peers.</text>
                    </description>
                  </leaf>
                  <leaf name="load-balancing-enable">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable a neighbour to participate in load balancing.</text>
                    </description>
                  </leaf>
                  <choice name="load-balancing-ignore-as-type">
                    <description>
                      <text>Set load balancing as path type.</text>
                    </description>
                    <case name="as-attribute">
                      <description>
                        <text>Ignore the as-path attribute.</text>
                      </description>
                      <leaf name="load-balancing-as-path-ignore">
                        <when condition="../load-balancing-enable='true'"/>
                        <type name="empty"/>
                        <description>
                          <text>Configure BGP to ignore the AS_Path attribute when selecting the equal route. After as-path-neglect is selected, BGP does not compare the AS_Path length.</text>
                        </description>
                      </leaf>
                    </case>
                    <case name="same-length-as-attribute">
                      <description>
                        <text>Ignore comparison of as-path attributes with the same length.</text>
                      </description>
                      <leaf name="load-balancing-as-path-relax">
                        <when condition="../load-balancing-enable='true'"/>
                        <type name="empty"/>
                        <description>
                          <text>Configure BGP to ignore comparison of AS_Path attributes with the same length when selecting the equal route. After as-path-neglect is selected, BGP does not compare the AS_Path length.</text>
                        </description>
                      </leaf>
                    </case>
                  </choice>
                  <leaf name="prefix-sid">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="bgp:peer-comm-config-type"/>
                    <default value="default"/>
                    <description>
                      <text>Enable/disable a device to exchange IPv4 prefix SIDs with a specified IPv6 peer.</text>
                    </description>
                  </leaf>
                  <leaf name="prefix-sid-state">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <config value="false"/>
                    <description>
                      <text>Whether the prefix-sid to a peer is enabled.</text>
                    </description>
                  </leaf>
                  <choice name="prefix-sid-packet">
                    <description>
                      <text>Prefix-sid packet method.</text>
                    </description>
                    <case name="sid-type5">
                      <description>
                        <text>Packet by type5.</text>
                      </description>
                      <leaf name="advertise-srv6-locator">
                        <when condition="../prefix-sid='enable'"/>
                        <type name="empty"/>
                        <description>
                          <text>Advertise SRv6 locators.</text>
                        </description>
                      </leaf>
                    </case>
                  </choice>
                  <container name="effect-state">
                    <config value="false"/>
                    <description>
                      <text>Operational state of peer.</text>
                    </description>
                    <leaf name="advertise-srv6-locator">
                      <type name="boolean"/>
                      <description>
                        <text>Whether to advertise SRv6 locators on the BGP peer.</text>
                      </description>
                    </leaf>
                  </container>
                  <uses name="advertise-large-community-type"/>
                  <uses name="peer-independent-peer-group-type"/>
                  <leaf name="rpd-policy-export">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="bgp:peer-enable-config-type"/>
                    <default value="default"/>
                    <description>
                      <text>Enable/disable RPD export policy.</text>
                    </description>
                  </leaf>
                  <uses name="ipv4-default-route-match-conditions-type"/>
                  <uses name="route-limit-accept-type"/>
                  <uses name="public-as-only-type"/>
                  <uses name="peer-public-as-only-import-type"/>
                  <container name="entropy-label-parameter">
                    <when condition="../../../../../../../../ni:name='_public_' and ../label-route-capability='true'"/>
                    <description>
                      <text>Configure information about entropy label parameter configuration in a peer.</text>
                    </description>
                    <uses name="peer-entropy-label-type"/>
                  </container>
                  <uses name="path-attr-map-type"/>
                  <uses name="advertise-dependent-filter-type"/>
                </container>
                <container name="ipv6-unicast">
                  <when condition="../type = 'ipv6uni'"/>
                  <description>
                    <text>Configure IPv6 unicast options.</text>
                  </description>
                  <leaf name="group-name">
                    <type name="leafref">
                      <path value="../../../../../../peer-groups/peer-group/name"/>
                    </type>
                    <must condition="../../../../../../peer-groups/peer-group[name = current()]/afs/af[type = 'ipv6uni']"/>
                    <must condition="../../../../../../peer-groups/peer-group[name = current()]/peer-establish-mode = 'static'"/>
                    <description>
                      <text>Configure a name for a peer group. After a peer is deleted from the peer group, the peer is disabled from the address family. The object cannot be modified.</text>
                    </description>
                    <ext:operation-exclude value="update">
                      <description>
                        <text>The node cannot be modified, when the peer already belongs to a peer-group.</text>
                      </description>
                    </ext:operation-exclude>
                  </leaf>
                  <leaf name="advertise-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable advertise the community attribute to a peer or a peer group.</text>
                    </description>
                  </leaf>
                  <leaf name="reflect-client">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the local device as a route reflector (RR) and a peer or peer group as its client. This configuration is applicable between IBGP peers only. The configurations of RRs and its clients in an address family are valid only in this address family. Therefore, it is recommended to configure RRs and its clients in the specified address family that is required.</text>
                    </description>
                  </leaf>
                  <leaf name="label-route-capability">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable a device to exchange labeled routes.</text>
                    </description>
                  </leaf>
                  <leaf name="nexthop-configure">
                    <type name="nexthop-configuration-type"/>
                    <must condition="(not(contains(../../../../address,':')) and ../nexthop-configure='local') or contains(../../../../address,':')"/>
                    <description>
                      <text>Both the next-hop-local mode and next-hop-invariable mode are available when the peer address family is the VPNv4/VPNV6/L2VPN AD address family. Only the next-hop-local mode is available when the peer address family is not VPNv4/VPNV6/L2VPN AD address family. In next-hop-local mode, you can configure a BGP speaker to set its IP address of as the next hop of the routes to be advertised to IBGP peers or IBGP peer groups. In next-hop-invariable mode, you can configure PEs in different ASs not to change the next hop of routes when the PEs advertise the routes to their EBGP peers and use the next hop addresses of IGP routes to advertise imported IGP routes to IBGP peers. By default, when a BGP speaker advertises routes to EBGP peers and imported IGP routes to IBGP peers, the BGP speaker changes the next hop to its interface address.</text>
                    </description>
                  </leaf>
                  <uses name="peer-policy-filter-type"/>
                  <leaf name="advertise-ext-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable advertise the extended community attribute to a peer or peer group.</text>
                    </description>
                  </leaf>
                  <leaf name="origin-as-validation">
                    <when condition="../advertise-ext-community='true'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the BGP peer origin validation.</text>
                    </description>
                  </leaf>
                  <leaf name="discard-ext-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable discard the extended community attribute in the routing information about a specified peer.</text>
                    </description>
                  </leaf>
                  <leaf name="allow-as-loop">
                    <type name="uint32">
                      <range value="1..10"/>
                    </type>
                    <description>
                      <text>Allow repetitive local AS numbers. By default, repetitive local AS numbers are not allowed.</text>
                    </description>
                  </leaf>
                  <leaf name="aigp">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable route with AIGP attribute advertisement to or from a peer.</text>
                    </description>
                  </leaf>
                  <uses name="default-route-advertise-type"/>
                  <leaf name="default-route-match-mode">
                    <when condition="../default-route-advertise='true'"/>
                    <type name="cra-match-mode"/>
                    <default value="null"/>
                    <description>
                      <text>Configure the matching mode of default route advertisement, which can be disabling of route advertisement conditions, enabling of all route advertisement conditions, and enabling of part route advertisement conditions. Enabling of all route advertisement conditions indicates that a default route can be advertised only when it matches all the conditions. Enabling of part route advertisement conditions indicates that a default route can be advertised only when it matches one condition.</text>
                    </description>
                  </leaf>
                  <leaf name="add-path-mode">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="add-path-cap-type"/>
                    <default value="null"/>
                    <description>
                      <text>Enable Add-Path route advertisement to a peer.</text>
                    </description>
                  </leaf>
                  <uses name="ipv6-prefix-filter-type"/>
                  <uses name="as-path-filter-type"/>
                  <uses name="peer-group-acl6-name-or-num-type"/>
                  <uses name="rt-update-interval-type"/>
                  <uses name="preferred-value-type"/>
                  <leaf name="add-path-number">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="uint8">
                      <range value="2..64"/>
                    </type>
                    <description>
                      <text>Number of Add-Path routes that can be advertised to a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="substitute-as-enable">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable replace the AS number of a specified peer in the AS_Path attribute with the local AS number. On a PE where AS number replacement is enabled, if an AS number in the AS_Path attribute of a route is same as that of the CE to which the PE advertises the route, the PE replaces the AS number with its own AS number before advertising the route.</text>
                    </description>
                  </leaf>
                  <leaf name="soo">
                    <when condition="../../../../../../../../ni:name!='_public_'"/>
                    <type name="string">
                      <length value="3..21"/>
                    </type>
                    <description>
                      <text>Configure the Site-of-Origin (SoO) extended community attribute. This attribute can be expressed in the following formats: X.X.X.X:number&lt;0-65535&gt;, number&lt;0-65535&gt;:number&lt;0-4294967295&gt;, or number&lt;0-65535&gt;.number&lt;0-65535&gt;:number&lt;0-65535&gt; or &lt;65536-4294967295&gt;:&lt;0-65535&gt;. 0:0 or 0.0:0 is not supported.
Two CEs are in the same site and can advertise routes to each other, and they are connected to a VPN through PEs. If the local routes of a CE are advertised to the other CE over the VPN, a routing loop may occur.
The SoO feature can prevent a route advertised by a site from being sent back to the site, preventing routing loops. After SoO is enabled and a PE receives a route from a CE, the specified SoO attribute will be added to the route. Before advertising the route to the other CE, the PE checks the SoO attribute. If the SoO attribute is the same as the locally configured SoO attribute, the PE does not advertise the route, preventing routing loops.</text>
                    </description>
                  </leaf>
                  <leaf name="keep-all-routes">
                    <when condition="/bgp:bgp/bgp:base-process/bgp:keep-all-routes='false'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable saving all the updated information about BGP routes from a specified peer or peer group after a BGP connection is established, even though these BGP routes fail to match the routing policy on the ingress. By default, the updated information about BGP routes from a specified peer is saved only when the routes match the routing policy on the ingress. If a router supports route refreshing, this option is not required.</text>
                    </description>
                  </leaf>
                  <leaf name="advertise-best-external">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="boolean"/>
                    <must condition="../reflect-client='false' or ../advertise-best-external='false'"/>
                    <must condition="../add-path-mode='null' or not(../add-path-mode) or ../advertise-best-external='false'"/>
                    <must condition="not(../add-path-number and ../advertise-best-external='true')"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the device to advertise Best External routes to peers.</text>
                    </description>
                  </leaf>
                  <leaf name="load-balancing-enable">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable a neighbour to participate in load balancing.</text>
                    </description>
                  </leaf>
                  <choice name="load-balancing-ignore-as-type">
                    <description>
                      <text>Set load balancing as path type.</text>
                    </description>
                    <case name="as-attribute">
                      <description>
                        <text>Ignore the as-path attribute.</text>
                      </description>
                      <leaf name="load-balancing-as-path-ignore">
                        <when condition="../load-balancing-enable='true'"/>
                        <type name="empty"/>
                        <description>
                          <text>Configure BGP to ignore the AS_Path attribute when selecting the equal route. After as-path-neglect is selected, BGP does not compare the AS_Path length.</text>
                        </description>
                      </leaf>
                    </case>
                    <case name="same-length-as-attribute">
                      <description>
                        <text>Ignore comparison of as-path attributes with the same length.</text>
                      </description>
                      <leaf name="load-balancing-as-path-relax">
                        <when condition="../load-balancing-enable='true'"/>
                        <type name="empty"/>
                        <description>
                          <text>Configure BGP to ignore comparison of AS_Path attributes with the same length when selecting the equal route. After as-path-neglect is selected, BGP does not compare the AS_Path length.</text>
                        </description>
                      </leaf>
                    </case>
                  </choice>
                  <leaf name="tunnel-policy">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="leafref">
                      <path value="/tnlm:tunnel-management/tnlm:tunnel-policys/tnlm:tunnel-policy/tnlm:name"/>
                    </type>
                    <description>
                      <text>Apply a tunnel policy for a 6PE peer. By default, no tunnel policy is configured.</text>
                    </description>
                  </leaf>
                  <leaf name="prefix-sid">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="bgp:peer-comm-config-type"/>
                    <default value="default"/>
                    <description>
                      <text>Enable/disable a device to exchange prefix SIDs with a specified IPv6 peer.</text>
                    </description>
                  </leaf>
                  <leaf name="prefix-sid-state">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <config value="false"/>
                    <description>
                      <text>Whether the prefix-sid to a peer is enabled.</text>
                    </description>
                  </leaf>
                  <choice name="prefix-sid-packet">
                    <description>
                      <text>Prefix-sid packet method.</text>
                    </description>
                    <case name="sid-type5">
                      <description>
                        <text>Packet by type5.</text>
                      </description>
                      <leaf name="advertise-srv6-locator">
                        <when condition="../prefix-sid='enable'"/>
                        <type name="empty"/>
                        <description>
                          <text>Advertise SRv6 locators.</text>
                        </description>
                      </leaf>
                    </case>
                  </choice>
                  <container name="effect-state">
                    <config value="false"/>
                    <description>
                      <text>Operational state of peer.</text>
                    </description>
                    <leaf name="advertise-srv6-locator">
                      <type name="boolean"/>
                      <description>
                        <text>Whether to advertise SRv6 locators on the BGP peer.</text>
                      </description>
                    </leaf>
                  </container>
                  <uses name="advertise-large-community-type"/>
                  <uses name="peer-independent-peer-group-type"/>
                  <uses name="ipv6-default-route-match-conditions-type"/>
                  <uses name="route-limit-accept-type"/>
                  <uses name="public-as-only-type"/>
                  <uses name="peer-public-as-only-import-type"/>
                  <uses name="path-attr-map-type"/>
                  <uses name="advertise-dependent-filter6-type"/>
                </container>
                <container name="ipv4-vpn">
                  <when condition="../type = 'ipv4vpn'"/>
                  <description>
                    <text>Configure IPv4 VPNv4 options.</text>
                  </description>
                  <leaf name="group-name">
                    <type name="leafref">
                      <path value="../../../../../../peer-groups/peer-group/name"/>
                    </type>
                    <must condition="../../../../../../peer-groups/peer-group[name = current()]/afs/af[type = 'ipv4vpn']"/>
                    <must condition="../../../../../../peer-groups/peer-group[name = current()]/peer-establish-mode = 'static'"/>
                    <description>
                      <text>Configure a name for a peer group. After a peer is deleted from the peer group, the peer is disabled from the address family. The object cannot be modified.</text>
                    </description>
                    <ext:operation-exclude value="update">
                      <description>
                        <text>The node cannot be modified, when the peer already belongs to a peer-group.</text>
                      </description>
                    </ext:operation-exclude>
                  </leaf>
                  <leaf name="advertise-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable advertise the community attribute to a peer or a peer group.</text>
                    </description>
                  </leaf>
                  <leaf name="reflect-client">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the local device as a route reflector (RR) and a peer or peer group as its client. This configuration is applicable between IBGP peers only. The configurations of RRs and its clients in an address family are valid only in this address family. Therefore, it is recommended to configure RRs and its clients in the specified address family that is required.</text>
                    </description>
                  </leaf>
                  <leaf name="nexthop-configure">
                    <type name="nexthop-configuration-type"/>
                    <description>
                      <text>Both the next-hop-local mode and next-hop-invariable mode are available when the peer address family is the VPNv4/VPNV6/L2VPN AD address family. Only the next-hop-local mode is available when the peer address family is not VPNv4/VPNV6/L2VPN AD address family. In next-hop-local mode, you can configure a BGP speaker to set its IP address of as the next hop of the routes to be advertised to IBGP peers or IBGP peer groups. In next-hop-invariable mode, you can configure PEs in different ASs not to change the next hop of routes when the PEs advertise the routes to their EBGP peers and use the next hop addresses of IGP routes to advertise imported IGP routes to IBGP peers. By default, when a BGP speaker advertises routes to EBGP peers and imported IGP routes to IBGP peers, the BGP speaker changes the next hop to its interface address.</text>
                    </description>
                  </leaf>
                  <uses name="peer-policy-filter-type"/>
                  <leaf name="ignore-bit-error">
                    <when condition="../export-policy or ../export-filter"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the peer to ignore bit error detection results.</text>
                    </description>
                  </leaf>
                  <leaf name="allow-as-loop">
                    <type name="uint32">
                      <range value="1..10"/>
                    </type>
                    <description>
                      <text>Allow repetitive local AS numbers. By default, repetitive local AS numbers are not allowed.</text>
                    </description>
                  </leaf>
                  <leaf name="aigp">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable route with AIGP attribute advertisement to or from a peer.</text>
                    </description>
                  </leaf>
                  <uses name="peer-add-path-type"/>
                  <uses name="ip-prefix-filter-type"/>
                  <uses name="peer-ipv4-reoriginate-type"/>
                  <uses name="as-path-filter-type"/>
                  <uses name="peer-group-acl-name-or-num-type"/>
                  <uses name="rt-update-interval-type"/>
                  <uses name="preferred-value-type"/>
                  <leaf name="upe">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the peer as an underlayer PE (UPE).</text>
                    </description>
                  </leaf>
                  <leaf name="high-priority">
                    <type name="peer-enable-config-type"/>
                    <default value="default"/>
                    <description>
                      <text>Enable vpn-router high priority.</text>
                    </description>
                  </leaf>
                  <leaf name="prefix-sid">
                    <type name="bgp:peer-enable-config-type"/>
                    <default value="default"/>
                    <description>
                      <text>Specify a SID mode relay for peer.</text>
                    </description>
                  </leaf>
                  <choice name="prefix-sid-packet">
                    <description>
                      <text>Prefix-sid packet method.</text>
                    </description>
                    <case name="sid-type5">
                      <description>
                        <text>Packet by type5.</text>
                      </description>
                      <leaf name="sid-type5">
                        <when condition="../prefix-sid='enable'"/>
                        <type name="empty"/>
                        <description>
                          <text>Packet by type5.</text>
                        </description>
                      </leaf>
                      <leaf name="advertise-srv6-locator">
                        <when condition="../sid-type5"/>
                        <type name="empty"/>
                        <description>
                          <text>Advertise SRv6 locators.</text>
                        </description>
                      </leaf>
                    </case>
                  </choice>
                  <leaf name="advertise-best-external">
                    <type name="boolean"/>
                    <must condition="../reflect-client='false' or ../advertise-best-external='false'"/>
                    <must condition="../add-path-mode='null' or not(../add-path-mode) or ../advertise-best-external='false'"/>
                    <must condition="not(../add-path-number and ../advertise-best-external='true')"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the device to advertise Best External routes to peers.</text>
                    </description>
                  </leaf>
                  <uses name="advertise-large-community-type"/>
                  <leaf name="keep-all-routes">
                    <when condition="/bgp:bgp/bgp:base-process/bgp:keep-all-routes='false'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable saving all the updated information about BGP routes from a specified peer or peer group after a BGP connection is established, even though these BGP routes fail to match the routing policy on the ingress. By default, the updated information about BGP routes from a specified peer is saved only when the routes match the routing policy on the ingress. If a router supports route refreshing, this option is not required.</text>
                    </description>
                  </leaf>
                  <uses name="peer-independent-peer-group-type"/>
                  <uses name="peer-origin-as-validation-type"/>
                  <container name="default-route-originates">
                    <description>
                      <text>Configure advertised default VPNv4 routes.</text>
                    </description>
                    <uses name="default-route-originate-type"/>
                  </container>
                  <uses name="route-limit-type"/>
                  <uses name="public-as-only-type"/>
                  <uses name="peer-public-as-only-import-type"/>
                  <uses name="path-attr-map-type"/>
                </container>
                <container name="ipv6-vpn">
                  <when condition="../type = 'ipv6vpn'"/>
                  <description>
                    <text>Configure IPv6 vpn options.</text>
                  </description>
                  <leaf name="group-name">
                    <type name="leafref">
                      <path value="../../../../../../peer-groups/peer-group/name"/>
                    </type>
                    <must condition="../../../../../../peer-groups/peer-group[name = current()]/afs/af[type = 'ipv6vpn']"/>
                    <must condition="../../../../../../peer-groups/peer-group[name = current()]/peer-establish-mode = 'static'"/>
                    <description>
                      <text>Configure a name for a peer group. After a peer is deleted from the peer group, the peer is disabled from the address family. The object cannot be modified.</text>
                    </description>
                    <ext:operation-exclude value="update">
                      <description>
                        <text>The node cannot be modified, when the peer already belongs to a peer-group.</text>
                      </description>
                    </ext:operation-exclude>
                  </leaf>
                  <leaf name="advertise-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable advertise the community attribute to a peer or a peer group.</text>
                    </description>
                  </leaf>
                  <leaf name="reflect-client">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the local device as a route reflector (RR) and a peer or peer group as its client. This configuration is applicable between IBGP peers only. The configurations of RRs and its clients in an address family are valid only in this address family. Therefore, it is recommended to configure RRs and its clients in the specified address family that is required.</text>
                    </description>
                  </leaf>
                  <leaf name="nexthop-configure">
                    <type name="nexthop-configuration-type"/>
                    <description>
                      <text>Both the next-hop-local mode and next-hop-invariable mode are available when the peer address family is the VPNv4/VPNV6/L2VPN AD address family. Only the next-hop-local mode is available when the peer address family is not VPNv4/VPNV6/L2VPN AD address family. In next-hop-local mode, you can configure a BGP speaker to set its IP address of as the next hop of the routes to be advertised to IBGP peers or IBGP peer groups. In next-hop-invariable mode, you can configure PEs in different ASs not to change the next hop of routes when the PEs advertise the routes to their EBGP peers and use the next hop addresses of IGP routes to advertise imported IGP routes to IBGP peers. By default, when a BGP speaker advertises routes to EBGP peers and imported IGP routes to IBGP peers, the BGP speaker changes the next hop to its interface address.</text>
                    </description>
                  </leaf>
                  <uses name="peer-policy-filter-type"/>
                  <leaf name="ignore-bit-error">
                    <when condition="../export-policy or ../export-filter"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the peer to ignore bit error detection results.</text>
                    </description>
                  </leaf>
                  <leaf name="allow-as-loop">
                    <type name="uint32">
                      <range value="1..10"/>
                    </type>
                    <description>
                      <text>Allow repetitive local AS numbers. By default, repetitive local AS numbers are not allowed.</text>
                    </description>
                  </leaf>
                  <leaf name="aigp">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable route with AIGP attribute advertisement to or from a peer.</text>
                    </description>
                  </leaf>
                  <uses name="peer-add-path-type"/>
                  <uses name="ipv6-prefix-filter-type"/>
                  <leaf name="reoriginate-route-enable">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable route regeneration.</text>
                    </description>
                  </leaf>
                  <leaf name="reoriginate-ipv6-enable">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable IP route regeneration and advertisement.</text>
                    </description>
                  </leaf>
                  <leaf name="reoriginate-mac-ipv6-enable">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable MAC-IP route regeneration and advertisement.</text>
                    </description>
                  </leaf>
                  <uses name="as-path-filter-type"/>
                  <uses name="peer-group-acl6-name-or-num-type"/>
                  <uses name="rt-update-interval-type"/>
                  <uses name="preferred-value-type"/>
                  <leaf name="advertise-best-external">
                    <type name="boolean"/>
                    <must condition="../reflect-client='false' or ../advertise-best-external='false'"/>
                    <must condition="../add-path-mode='null' or not(../add-path-mode) or ../advertise-best-external='false'"/>
                    <must condition="not(../add-path-number and ../advertise-best-external='true')"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the device to advertise Best External routes to peers.</text>
                    </description>
                  </leaf>
                  <uses name="advertise-large-community-type"/>
                  <leaf name="keep-all-routes">
                    <when condition="/bgp:bgp/bgp:base-process/bgp:keep-all-routes='false'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable saving all the updated information about BGP routes from a specified peer or peer group after a BGP connection is established, even though these BGP routes fail to match the routing policy on the ingress. By default, the updated information about BGP routes from a specified peer is saved only when the routes match the routing policy on the ingress. If a router supports route refreshing, this option is not required.</text>
                    </description>
                  </leaf>
                  <uses name="peer-independent-peer-group-type"/>
                  <uses name="peer-origin-as-validation-type"/>
                  <uses name="route-limit-type"/>
                  <uses name="public-as-only-type"/>
                  <uses name="peer-public-as-only-import-type"/>
                  <uses name="path-attr-map-type"/>
                </container>
                <container name="ipv4-labeluni">
                  <when condition="../type = 'ipv4labeluni'"/>
                  <description>
                    <text>Configure IPv4 label unicast options.</text>
                  </description>
                  <leaf name="group-name">
                    <type name="leafref">
                      <path value="../../../../../../peer-groups/peer-group/name"/>
                    </type>
                    <must condition="../../../../../../peer-groups/peer-group[name = current()]/afs/af[type = 'ipv4labeluni']"/>
                    <must condition="../../../../../../peer-groups/peer-group[name = current()]/peer-establish-mode = 'static'"/>
                    <description>
                      <text>Configure a name for a peer group. After a peer is deleted from the peer group, the peer is disabled from the address family. The object cannot be modified.</text>
                    </description>
                    <ext:operation-exclude value="update">
                      <description>
                        <text>The node cannot be modified, when the peer already belongs to a peer-group.</text>
                      </description>
                    </ext:operation-exclude>
                  </leaf>
                  <leaf name="advertise-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable advertise the community attribute to a peer or a peer group.</text>
                    </description>
                  </leaf>
                  <leaf name="reflect-client">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the local device as a route reflector (RR) and a peer or peer group as its client. This configuration is applicable between IBGP peers only. The configurations of RRs and its clients in an address family are valid only in this address family. Therefore, it is recommended to configure RRs and its clients in the specified address family that is required.</text>
                    </description>
                  </leaf>
                  <leaf name="check-tunnel-reachable">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable tunnel reachability check.</text>
                    </description>
                  </leaf>
                  <uses name="peer-policy-filter-type"/>
                  <leaf name="advertise-ext-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable advertise the extended community attribute to a peer or peer group.</text>
                    </description>
                  </leaf>
                  <leaf name="discard-ext-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable discard the extended community attribute in the routing information about a specified peer.</text>
                    </description>
                  </leaf>
                  <leaf name="allow-as-loop">
                    <type name="uint32">
                      <range value="1..10"/>
                    </type>
                    <description>
                      <text>Allow repetitive local AS numbers. By default, repetitive local AS numbers are not allowed.</text>
                    </description>
                  </leaf>
                  <leaf name="aigp">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable route with AIGP attribute advertisement to or from a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="add-path-mode">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="add-path-cap-type"/>
                    <default value="null"/>
                    <description>
                      <text>Enable add-path route advertisement to a peer.</text>
                    </description>
                  </leaf>
                  <uses name="ip-prefix-filter-type"/>
                  <uses name="as-path-filter-type"/>
                  <uses name="peer-group-acl-name-or-num-type"/>
                  <uses name="rt-update-interval-type"/>
                  <leaf name="nexthop-configure">
                    <type name="nexthop-configuration-type"/>
                    <description>
                      <text>Both the next-hop-local mode and next-hop-invariable mode are available when the peer address family is the VPNv4/VPNV6/L2VPN AD address family. Only the next-hop-local mode is available when the peer address family is not VPNv4/VPNV6/L2VPN AD address family. In next-hop-local mode, you can configure a BGP speaker to set its IP address of as the next hop of the routes to be advertised to IBGP peers or IBGP peer groups. In next-hop-invariable mode, you can configure PEs in different ASs not to change the next hop of routes when the PEs advertise the routes to their EBGP peers and use the next hop addresses of IGP routes to advertise imported IGP routes to IBGP peers. By default, when a BGP speaker advertises routes to EBGP peers and imported IGP routes to IBGP peers, the BGP speaker changes the next hop to its interface address.</text>
                    </description>
                  </leaf>
                  <uses name="preferred-value-type"/>
                  <leaf name="exp-mode">
                    <when condition="../../../../../../../../ni:name!='_public_'"/>
                    <type name="exp-mode-type"/>
                    <default value="null"/>
                    <description>
                      <text>Specify the ASs in which a BGP label can inherit the QoS priority carried in the outer label of public tunnel in the Core AS and the ASs in which the priorities of BGP LSPs must be restored before the LSPs are advertised to a non-core AS.</text>
                    </description>
                  </leaf>
                  <leaf name="add-path-number">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="uint8">
                      <range value="2..64"/>
                    </type>
                    <description>
                      <text>Number of Add-Path routes that can be advertised to a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="substitute-as-enable">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable replace the AS number of a specified peer in the AS_Path attribute with the local AS number. On a PE where AS number replacement is enabled, if an AS number in the AS_Path attribute of a route is same as that of the CE to which the PE advertises the route, the PE replaces the AS number with its own AS number before advertising the route.</text>
                    </description>
                  </leaf>
                  <leaf name="soo">
                    <when condition="../../../../../../../../ni:name!='_public_'"/>
                    <type name="string">
                      <length value="3..21"/>
                    </type>
                    <description>
                      <text>Configure the Site-of-Origin (SoO) extended community attribute. This attribute can be expressed in the following formats: X.X.X.X:number&lt;0-65535&gt;, number&lt;0-65535&gt;:number&lt;0-4294967295&gt;, or number&lt;0-65535&gt;.number&lt;0-65535&gt;:number&lt;0-65535&gt; or &lt;65536-4294967295&gt;:&lt;0-65535&gt;. 0:0 or 0.0:0 is not supported.
Two CEs are in the same site and can advertise routes to each other, and they are connected to a VPN through PEs. If the local routes of a CE are advertised to the other CE over the VPN, a routing loop may occur.
The SoO feature can prevent a route advertised by a site from being sent back to the site, preventing routing loops. After SoO is enabled and a PE receives a route from a CE, the specified SoO attribute will be added to the route. Before advertising the route to the other CE, the PE checks the SoO attribute. If the SoO attribute is the same as the locally configured SoO attribute, the PE does not advertise the route, preventing routing loops.</text>
                    </description>
                  </leaf>
                  <leaf name="advertise-best-external">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="boolean"/>
                    <must condition="../reflect-client='false' or ../advertise-best-external='false'"/>
                    <must condition="../add-path-mode='null' or not(../add-path-mode) or ../advertise-best-external='false'"/>
                    <must condition="not(../add-path-number and ../advertise-best-external='true')"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the device to advertise Best External routes to peers.</text>
                    </description>
                  </leaf>
                  <leaf name="load-balancing-enable">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable a neighbour to participate in load balancing.</text>
                    </description>
                  </leaf>
                  <choice name="load-balancing-ignore-as-type">
                    <description>
                      <text>Set load balancing as path type.</text>
                    </description>
                    <case name="as-attribute">
                      <description>
                        <text>Ignore the as-path attribute.</text>
                      </description>
                      <leaf name="load-balancing-as-path-ignore">
                        <when condition="../load-balancing-enable='true'"/>
                        <type name="empty"/>
                        <description>
                          <text>Configure BGP to ignore the AS_Path attribute when selecting the equal route. After as-path-neglect is selected, BGP does not compare the AS_Path length.</text>
                        </description>
                      </leaf>
                    </case>
                    <case name="same-length-as-attribute">
                      <description>
                        <text>Ignore comparison of as-path attributes with the same length.</text>
                      </description>
                      <leaf name="load-balancing-as-path-relax">
                        <when condition="../load-balancing-enable='true'"/>
                        <type name="empty"/>
                        <description>
                          <text>Configure BGP to ignore comparison of AS_Path attributes with the same length when selecting the equal route. After as-path-neglect is selected, BGP does not compare the AS_Path length.</text>
                        </description>
                      </leaf>
                    </case>
                  </choice>
                  <uses name="advertise-large-community-type"/>
                  <uses name="peer-independent-peer-group-type"/>
                  <uses name="route-limit-accept-type"/>
                  <uses name="public-as-only-type"/>
                  <uses name="peer-public-as-only-import-type"/>
                  <container name="entropy-label-parameter">
                    <when condition="../../../../../../../../ni:name='_public_'"/>
                    <description>
                      <text>Configure information about entropy label parameter configuration in a peer.</text>
                    </description>
                    <uses name="peer-entropy-label-type"/>
                  </container>
                  <uses name="path-attr-map-type"/>
                </container>
                <container name="ipv4-multicast">
                  <when condition="../type='ipv4multi'"/>
                  <description>
                    <text>Configure IPv4 multicast options.</text>
                  </description>
                  <leaf name="group-name">
                    <type name="leafref">
                      <path value="../../../../../../peer-groups/peer-group/name"/>
                    </type>
                    <must condition="../../../../../../peer-groups/peer-group[name = current()]/afs/af[type = 'ipv4multi']"/>
                    <must condition="../../../../../../peer-groups/peer-group[name = current()]/peer-establish-mode = 'static'"/>
                    <description>
                      <text>Configure a name for a peer group. After a peer is deleted from the peer group, the peer is disabled from the address family. The object cannot be modified.</text>
                    </description>
                    <ext:operation-exclude value="update">
                      <description>
                        <text>The node cannot be modified, when the peer already belongs to a peer-group.</text>
                      </description>
                    </ext:operation-exclude>
                  </leaf>
                  <uses name="default-route-advertise-type"/>
                  <uses name="ip-prefix-filter-type"/>
                  <uses name="as-path-filter-type"/>
                  <uses name="peer-group-acl-name-or-num-type"/>
                  <leaf name="advertise-ext-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable advertise the extended community attribute to a peer or peer group.</text>
                    </description>
                  </leaf>
                  <leaf name="discard-ext-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable discard the extended community attribute in the routing information about a specified peer.</text>
                    </description>
                  </leaf>
                  <leaf name="allow-as-loop">
                    <type name="uint32">
                      <range value="1..10"/>
                    </type>
                    <description>
                      <text>Allow repetitive local AS numbers. By default, repetitive local AS numbers are not allowed.</text>
                    </description>
                  </leaf>
                  <leaf name="nexthop-configure">
                    <type name="nexthop-configuration-type"/>
                    <must condition="../nexthop-configure='local'"/>
                    <description>
                      <text>Both the next-hop-local mode and next-hop-invariable mode are available when the peer address family is the VPNv4/VPNV6/L2VPN AD address family. Only the next-hop-local mode is available when the peer address family is not VPNv4/VPNV6/L2VPN AD address family. In next-hop-local mode, you can configure a BGP speaker to set its IP address of as the next hop of the routes to be advertised to IBGP peers or IBGP peer groups. In next-hop-invariable mode, you can configure PEs in different ASs not to change the next hop of routes when the PEs advertise the routes to their EBGP peers and use the next hop addresses of IGP routes to advertise imported IGP routes to IBGP peers. By default, when a BGP speaker advertises routes to EBGP peers and imported IGP routes to IBGP peers, the BGP speaker changes the next hop to its interface address.</text>
                    </description>
                  </leaf>
                  <leaf name="advertise-community">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable advertise the community attribute to a peer or a peer group.</text>
                    </description>
                  </leaf>
                  <leaf name="keep-all-routes">
                    <when condition="/bgp:bgp/bgp:base-process/bgp:keep-all-routes='false'"/>
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable saving all the updated information about BGP routes from a specified peer or peer group after a BGP connection is established, even though these BGP routes fail to match the routing policy on the ingress. By default, the updated information about BGP routes from a specified peer is saved only when the routes match the routing policy on the ingress. If a router supports route refreshing, this option is not required.</text>
                    </description>
                  </leaf>
                  <uses name="peer-policy-filter-type"/>
                  <leaf name="reflect-client">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable the local device as a route reflector (RR) and a peer or peer group as its client. This configuration is applicable between IBGP peers only. The configurations of RRs and its clients in an address family are valid only in this address family. Therefore, it is recommended to configure RRs and its clients in the specified address family that is required.</text>
                    </description>
                  </leaf>
                  <leaf name="load-balancing-enable">
                    <type name="boolean"/>
                    <default value="false"/>
                    <description>
                      <text>Enable/disable a neighbour to participate in load balancing.</text>
                    </description>
                  </leaf>
                  <choice name="load-balancing-ignore-as-type">
                    <description>
                      <text>Set load balancing as path type.</text>
                    </description>
                    <case name="as-attribute">
                      <description>
                        <text>Ignore the as-path attribute.</text>
                      </description>
                      <leaf name="load-balancing-as-path-ignore">
                        <when condition="../load-balancing-enable='true'"/>
                        <type name="empty"/>
                        <description>
                          <text>Configure BGP to ignore the AS_Path attribute when selecting the equal route. After as-path-neglect is selected, BGP does not compare the AS_Path length.</text>
                        </description>
                      </leaf>
                    </case>
                    <case name="same-length-as-attribute">
                      <description>
                        <text>Ignore comparison of as-path attributes with the same length.</text>
                      </description>
                      <leaf name="load-balancing-as-path-relax">
                        <when condition="../load-balancing-enable='true'"/>
                        <type name="empty"/>
                        <description>
                          <text>Configure BGP to ignore comparison of AS_Path attributes with the same length when selecting the equal route. After as-path-neglect is selected, BGP does not compare the AS_Path length.</text>
                        </description>
                      </leaf>
                    </case>
                  </choice>
                  <uses name="advertise-large-community-type"/>
                  <uses name="rt-update-interval-type"/>
                  <uses name="bgp:preferred-value-type"/>
                  <uses name="peer-independent-peer-group-type"/>
                  <uses name="route-limit-type"/>
                  <uses name="public-as-only-type"/>
                  <uses name="peer-public-as-only-import-type"/>
                  <uses name="path-attr-map-type"/>
                </container>
                <container name="state">
                  <config value="false"/>
                  <description>
                    <text>Operational state of peer information.</text>
                  </description>
                  <leaf name="type">
                    <type name="peer-type-info"/>
                    <config value="false"/>
                    <description>
                      <text>Configures the type of BGP peers: IBGP or EBGP.</text>
                    </description>
                  </leaf>
                  <leaf name="version">
                    <type name="uint8"/>
                    <config value="false"/>
                    <description>
                      <text>The current BGP version is BGP-4. BGP-4 provides a set of new mechanisms to support Classless Inter-Domain Routing (CIDR). The new mechanisms also support the network prefix-based advertisement, cancellation of the 'class' concept for a BGP network during the network prefix-supported advertisements, and route summarization and AS path summarization.</text>
                    </description>
                  </leaf>
                  <leaf name="remote-router-id">
                    <type name="inet:ipv4-address-no-zone"/>
                    <config value="false"/>
                    <description>
                      <text>Router ID for a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="current-state">
                    <type name="peer-state"/>
                    <config value="false"/>
                    <description>
                      <text>Current BGP state, which can be Idle, Active, Established, Connect, OpenSent, or OpenConfirm.
Idle: In this state, BGP denies all connection requests. This is the initial state of BGP.
Active: In this state, BGP tries to establish TCP connections. This is the intermediate state of BGP.
Established: In this state, BGP peers can exchange Update, Notification, and Keepalive packets with each other.
Connect: In this state, BGP determines the subsequent operation after the TCP connections are established.
OpenSent: In this state, BGP is waiting for the Open packet from the peer.
OpenConfirm: In this state, BGP is waiting for a Notification packet and a Keepalive packet.</text>
                    </description>
                  </leaf>
                  <leaf name="local-port">
                    <type name="uint32"/>
                    <config value="false"/>
                    <description>
                      <text>Local port number. BGP uses TCP as the transport layer protocol, and the port number of the TCP connection initiator is 179.</text>
                    </description>
                  </leaf>
                  <leaf name="remote-port">
                    <type name="uint32">
                      <range value="0..4294967295"/>
                    </type>
                    <config value="false"/>
                    <description>
                      <text>Port number for a peer to establish a peer relationship.</text>
                    </description>
                  </leaf>
                  <leaf name="current-event">
                    <type name="string">
                      <length value="1..39"/>
                    </type>
                    <config value="false"/>
                    <description>
                      <text>Recent event that occurs on a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="last-state">
                    <type name="peer-state"/>
                    <config value="false"/>
                    <description>
                      <text>Last state of a peer, which can be Idle, Connect, Active, OpenSent, OpenConfirm, or Established.</text>
                    </description>
                  </leaf>
                  <leaf name="up-down-duration">
                    <type name="string">
                      <length value="1..49"/>
                    </type>
                    <config value="false"/>
                    <description>
                      <text>Duration in which a BGP peer is in the Up or Down state.
The Up state indicates the established state, and the Down state indicates a non-established state (including the Idle, Active, Connect, OpenSent and OpenConfirm state). When the state is switched between Up and Down, the upDownDuration timer is reset and starts from 0.</text>
                    </description>
                  </leaf>
                  <leaf name="send-message">
                    <type name="uint32">
                      <range value="0..4294967295"/>
                    </type>
                    <config value="false"/>
                    <description>
                      <text>Number of messages sent to the peer.</text>
                    </description>
                  </leaf>
                  <leaf name="rpd-capability">
                    <type name="rpd-cap-type"/>
                    <config value="false"/>
                    <description>
                      <text>Peer route-policy distribute capability.</text>
                    </description>
                  </leaf>
                  <leaf name="local-rpd-capability">
                    <type name="rpd-cap-type"/>
                    <config value="false"/>
                    <description>
                      <text>Local route-policy distribute capability.</text>
                    </description>
                  </leaf>
                  <leaf name="negotiate-rpd-capability">
                    <type name="rpd-cap-type"/>
                    <config value="false"/>
                    <description>
                      <text>Negotiated route-policy distribute capability.</text>
                    </description>
                  </leaf>
                  <leaf name="receive-message">
                    <type name="uint32">
                      <range value="0..4294967295"/>
                    </type>
                    <config value="false"/>
                    <description>
                      <text>Number of messages received from the peer.</text>
                    </description>
                  </leaf>
                  <leaf name="out-queue">
                    <type name="uint32">
                      <range value="0..4294967295"/>
                    </type>
                    <config value="false"/>
                    <description>
                      <text>Number of messages to be sent in a queue.</text>
                    </description>
                  </leaf>
                  <leaf name="receive-hold-time">
                    <type name="uint32">
                      <range value="0..65535"/>
                    </type>
                    <units name="s"/>
                    <config value="false"/>
                    <description>
                      <text>Hold time of a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="receive-last-keepalive-time">
                    <type name="yang:date-and-time"/>
                    <config value="false"/>
                    <description>
                      <text>Last time when Keepalive packets were received from a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="negotiate-hold-time">
                    <type name="uint32">
                      <range value="0..65535"/>
                    </type>
                    <units name="s"/>
                    <config value="false"/>
                    <description>
                      <text>Hold time negotiated by BGP peers.</text>
                    </description>
                  </leaf>
                  <leaf name="negotiate-keepalive-time">
                    <type name="uint32">
                      <range value="0..21845"/>
                    </type>
                    <units name="s"/>
                    <config value="false"/>
                    <description>
                      <text>Keepalive time negotiated by BGP peers.</text>
                    </description>
                  </leaf>
                  <leaf name="receive-update-count">
                    <type name="uint32">
                      <range value="0..4294967295"/>
                    </type>
                    <config value="false"/>
                    <description>
                      <text>Number of Update packets received from a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="receive-open-count">
                    <type name="uint32">
                      <range value="0..4294967295"/>
                    </type>
                    <config value="false"/>
                    <description>
                      <text>Number of Open packets received from a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="receive-keepalive-count">
                    <type name="uint32">
                      <range value="0..4294967295"/>
                    </type>
                    <config value="false"/>
                    <description>
                      <text>Number of Keepalive packets received from a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="receive-notification-count">
                    <type name="uint32">
                      <range value="0..4294967295"/>
                    </type>
                    <config value="false"/>
                    <description>
                      <text>Number of Notification packets received from a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="receive-route-refresh-count">
                    <type name="uint32">
                      <range value="0..4294967295"/>
                    </type>
                    <config value="false"/>
                    <description>
                      <text>Number of Route-Refresh packets received from a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="send-update-count">
                    <type name="uint32">
                      <range value="0..4294967295"/>
                    </type>
                    <config value="false"/>
                    <description>
                      <text>Number of Update packets sent to a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="send-open-count">
                    <type name="uint32">
                      <range value="0..4294967295"/>
                    </type>
                    <config value="false"/>
                    <description>
                      <text>Number of Open packets sent to a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="send-keepalive-count">
                    <type name="uint32">
                      <range value="0..4294967295"/>
                    </type>
                    <config value="false"/>
                    <description>
                      <text>Number of Keepalive packets sent to a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="send-notification-count">
                    <type name="uint32">
                      <range value="0..4294967295"/>
                    </type>
                    <config value="false"/>
                    <description>
                      <text>Number of Notification packets sent to a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="send-route-refresh-count">
                    <type name="uint32">
                      <range value="0..4294967295"/>
                    </type>
                    <config value="false"/>
                    <description>
                      <text>Number of Route-Refresh packets sent to a peer.</text>
                    </description>
                  </leaf>
                  <leaf name="send-graceful-restart-capability">
                    <type name="boolean"/>
                    <config value="false"/>
                    <description>
                      <text>Whether the local end supports the GR (Graceful Restart) capability.</text>
                    </description>
                  </leaf>
                  <leaf name="receive-refresh-capability">
                    <type name="boolean"/>
                    <config value="false"/>
                    <description>
                      <text>Whether the peer supports RR.</text>
                    </description>
                  </leaf>
                  <leaf name="receive-four-byte-as-capability">
                    <type name="boolean"/>
                    <config value="false"/>
                    <description>
                      <text>Whether the peer supports 4-byte AS numbers.</text>
                    </description>
                  </leaf>
                  <leaf name="receive-multi-protocol-capability">
                    <type name="boolean"/>
                    <config value="false"/>
                    <description>
                      <text>Whether the peer supports MP.</text>
                    </description>
                  </leaf>
                  <leaf name="receive-graceful-restart-capability">
                    <type name="boolean"/>
                    <config value="false"/>
                    <description>
                      <text>Whether the peer supports GR.</text>
                    </description>
                  </leaf>
                  <leaf name="receive-add-path">
                    <type name="string">
                      <length value="1..50"/>
                    </type>
                    <config value="false"/>
                    <description>
                      <text>Whether the peer supports Add-Path.</text>
                    </description>
                  </leaf>
                  <leaf name="negotiate-add-path">
                    <type name="string">
                      <length value="1..50"/>
                    </type>
                    <config value="false"/>
                    <description>
                      <text>Negotiated Add-Path.</text>
                    </description>
                  </leaf>
                  <leaf name="receive-label-add-path">
                    <type name="string">
                      <length value="1..50"/>
                    </type>
                    <config value="false"/>
                    <description>
                      <text>Whether the peer supports labeled Add-Path.</text>
                    </description>
                  </leaf>
                  <leaf name="negotiate-label-add-path">
                    <type name="string">
                      <length value="1..50"/>
                    </type>
                    <config value="false"/>
                    <description>
                      <text>Negotiated Label Add-Path.</text>
                    </description>
                  </leaf>
                  <leaf name="receive-prefix">
                    <type name="uint32">
                      <range value="0..4294967295"/>
                    </type>
                    <config value="false"/>
                    <description>
                      <text>Number of received route prefixes.</text>
                    </description>
                  </leaf>
                  <leaf name="receive-active-prefix">
                    <type name="uint32">
                      <range value="0..4294967295"/>
                    </type>
                    <config value="false"/>
                    <description>
                      <text>Number of received prefixes of active routes.</text>
                    </description>
                  </leaf>
                  <leaf name="advertise-prefix">
                    <type name="uint32">
                      <range value="0..4294967295"/>
                    </type>
                    <config value="false"/>
                    <description>
                      <text>Number of advertised route prefixes.</text>
                    </description>
                  </leaf>
                  <leaf name="discard-attribute">
                    <type name="string">
                      <length value="1..300"/>
                    </type>
                    <config value="false"/>
                    <description>
                      <text>The attribute id discard info.</text>
                    </description>
                  </leaf>
                  <leaf name="check-first-as">
                    <type name="first-as-state"/>
                    <config value="false"/>
                    <description>
                      <text>Check the first AS in the AS_Path of the update messages from EBGP peers.</text>
                    </description>
                  </leaf>
                  <leaf name="extend-nexthop-capability">
                    <type name="boolean"/>
                    <config value="false"/>
                    <description>
                      <text>Peer extended next hop encoding capability.</text>
                    </description>
                  </leaf>
                  <leaf name="egress-engineer-capability">
                    <type name="boolean"/>
                    <config value="false"/>
                    <description>
                      <text>Whether the peer supports EPE.</text>
                    </description>
                  </leaf>
                  <leaf name="orf-capability">
                    <type name="boolean"/>
                    <config value="false"/>
                    <description>
                      <text>Whether the peer supports VPN orf capability.</text>
                    </description>
                  </leaf>
                  <leaf name="rely-interface-capability">
                    <type name="boolean"/>
                    <config value="false"/>
                    <description>
                      <text>Whether the peer supports check interface.</text>
                    </description>
                  </leaf>
                  <leaf name="remote-as">
                    <type name="string">
                      <length value="1..11"/>
                    </type>
                    <config value="false"/>
                    <description>
                      <text>AS number of the BGP peer.</text>
                    </description>
                  </leaf>
                  <leaf name="memory-priority">
                    <type name="memory-priority"/>
                    <description>
                      <text>Priority that is used to determine the disconnection order of a BGP peer relationship if memory overload occurs.</text>
                    </description>
                  </leaf>
                </container>
              </list>
            </container>
          </list>
        </container>
        <container name="peer-bfd-session-states">
          <config value="false"/>
          <description>
            <text>List of BFD sessions.</text>
          </description>
          <list name="peer-bfd-session-state">
            <key value="address"/>
            <config value="false"/>
            <description>
              <text>Operational state of BFD session.</text>
            </description>
            <leaf name="address">
              <type name="inet:ip-address-no-zone"/>
              <config value="false"/>
              <description>
                <text>Peer address of the BFD session.</text>
              </description>
            </leaf>
            <leaf name="local-address">
              <type name="inet:ip-address-no-zone"/>
              <config value="false"/>
              <description>
                <text>Local address of the BFD session.</text>
              </description>
            </leaf>
            <leaf name="if-name">
              <type name="pub-type:if-name"/>
              <config value="false"/>
              <description>
                <text>Name of an interface of the BFD session.</text>
              </description>
            </leaf>
            <leaf name="tx-interval">
              <type name="uint32"/>
              <units name="ms"/>
              <default value="0"/>
              <config value="false"/>
              <description>
                <text>Interval at which BFD packets are sent.</text>
              </description>
            </leaf>
            <leaf name="rx-interval">
              <type name="uint32"/>
              <units name="ms"/>
              <default value="0"/>
              <config value="false"/>
              <description>
                <text>Interval at which BFD packets are received.</text>
              </description>
            </leaf>
            <leaf name="multiplier">
              <type name="uint32">
                <range value="0..50"/>
              </type>
              <config value="false"/>
              <description>
                <text>Detection multiplier.</text>
              </description>
            </leaf>
            <leaf name="status">
              <type name="bfd-state"/>
              <config value="false"/>
              <description>
                <text>State of the BFD session.</text>
              </description>
            </leaf>
            <leaf name="global-bfd-enable">
              <type name="boolean"/>
              <config value="false"/>
              <description>
                <text>Global BFD state.</text>
              </description>
            </leaf>
            <leaf name="valid-ttl-hops">
              <type name="uint8">
                <range value="1..255"/>
              </type>
              <config value="false"/>
              <description>
                <text>The valid TTL hops value.</text>
              </description>
            </leaf>
          </list>
        </container>
        <container name="egress-engineer-peer-sets">
          <when condition="../../../ni:name='_public_'"/>
          <description>
            <text>List of peer set information under BGP instance.</text>
          </description>
          <list name="egress-engineer-peer-set">
            <key value="peer-set-name"/>
            <description>
              <text>Configure peer set information.</text>
            </description>
            <leaf name="peer-set-name">
              <type name="string">
                <length value="1..63"/>
              </type>
              <description>
                <text>The name for peer set.</text>
              </description>
            </leaf>
            <leaf name="static-label">
              <type name="uint32">
                <range value="16..1048575"/>
              </type>
              <description>
                <text>The static label for peer set.</text>
              </description>
            </leaf>
            <leaf name="label-pop">
              <when condition="../static-label"/>
              <type name="boolean"/>
              <must condition="not(../relate-bfd='true' and ../label-pop='true')"/>
              <default value="false"/>
              <description>
                <text>Enable/disable the BGP-EPE label popping function.</text>
              </description>
            </leaf>
            <leaf name="relate-bfd">
              <type name="boolean"/>
              <must condition="not(../relate-bfd='true' and ../label-pop='true')"/>
              <default value="false"/>
              <description>
                <text>Enable/disable association between the BGP-EPE label and BFD status.</text>
              </description>
            </leaf>
          </list>
        </container>
      </container>
      <container name="instance-processs">
        <when condition="../../ni:name = '_public_'"/>
        <description>
          <text>List of all BGP instances.</text>
        </description>
        <list name="instance-process">
          <key value="name"/>
          <max-elements value="1"/>
          <description>
            <text>Configure a BGP instance.</text>
          </description>
          <ext:generated-by value="system">
            <when condition="../../../ni:name = '_public_'"/>
            <description>
              <text>The BGP public instance is generated automatically when BGP instances is enabled.</text>
            </description>
          </ext:generated-by>
          <leaf name="name">
            <type name="leafref">
              <path value="/bgp:bgp/bgp:instance-processs/bgp:instance-process/bgp:name"/>
            </type>
            <description>
              <text>Name of BGP Site.</text>
            </description>
          </leaf>
          <leaf name="router-id">
            <type name="inet:ipv4-address-no-zone"/>
            <description>
              <text>ID of a router that is in IPv4 address format. Certain dynamic routing protocols require a router ID. If no router ID is specified for a router when these protocols are enabled, the router ID in the RM module is used by default. The default router ID in the RM module is 0.0.0.0 when the router is not configured with any interface.
The rules for selecting a router ID are as follows:
1. If you set a router ID through this configuration, the set router ID is used. If the router ID is not set, you need to select a router ID according to the following rules:
(1) If loopback interfaces configured with IP addresses exist, the largest IP address among the IP addresses of the loopback interfaces is selected as the router ID.
(2) If no loopback interface configured with an IP address exists, the largest IP address among the IP addresses of other interfaces is selected as the router ID, regardless of whether the interface is Up.
The router ID is reselected only when the interface address that is selected as the router ID is deleted or changed. The router ID is not reselected in any of the following cases:
a. The interface is Down.
b. A loopback interface is configured when the IP address of a non-loopback interface is selected as the router ID.
c. A larger IP address of an interface is configured.
2. Each VPN instance selects the router ID from the addresses of the interfaces of the VPN instance according to the preceding rules.
3. When both the AMB and SMB exist on the router, the system backs up the router ID set through the related command and the router ID that is selected from IP addresses of the interfaces. After the active/standby switchover is performed, the system checks the validity of the router ID selected from the interface addresses. If the router ID is invalid, the system reselects a router ID.</text>
            </description>
          </leaf>
          <leaf name="effect-router-id">
            <type name="inet:ipv4-address-no-zone"/>
            <default value="0.0.0.0"/>
            <config value="false"/>
            <description>
              <text>Router ID that takes effect.</text>
            </description>
          </leaf>
          <container name="afs">
            <description>
              <text>List of BGP address family instances.</text>
            </description>
            <list name="af">
              <key value="type"/>
              <description>
                <text>Configure BGP address family instance.</text>
              </description>
              <leaf name="type">
                <type name="bgp:instance-af-type"/>
                <description>
                  <text>Address family type of a BGP instance.</text>
                </description>
              </leaf>
              <container name="ipv4-vpn">
                <when condition="../type = 'ipv4vpn' and ../../../../../../ni:name='_public_'"/>
                <description>
                  <text>Configure IPv4 VPNv4 options.</text>
                </description>
                <uses name="vpn-target-type"/>
                <uses name="reflector-cluster-type"/>
                <uses name="reflect-type"/>
                <leaf name="auto-frr">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable BGP Auto FRR. If IP FRR, VPN FRR, and Auto FRR are all enabled, IP FRR and VPN FRR take precedence over Auto FRR. If a route fails to match the routing policy of IP FRR or VPN FRR, Auto FRR takes effect.</text>
                  </description>
                </leaf>
                <leaf name="tunnel-selector-name">
                  <type name="leafref">
                    <path value="/rtp:routing-policy/rtp:tunnel-selectors/rtp:tunnel-selector/rtp:name"/>
                  </type>
                  <description>
                    <text>Configure a tunnel selector and apply it to the BGP IPv4 unicast, BGP VPNv4 address families and BGP VPNv6 address families so that IPv4,VPNv4 and VPNv6 labeled routes can be iterated to tunnels based on the tunnel selector.</text>
                  </description>
                </leaf>
                <leaf name="route-select-delay">
                  <type name="uint16">
                    <range value="0..3600"/>
                  </type>
                  <units name="s"/>
                  <default value="0"/>
                  <description>
                    <text>Route selection delay.</text>
                  </description>
                </leaf>
                <leaf name="apply-label-mode">
                  <type name="apply-label-type"/>
                  <default value="per-route"/>
                  <description>
                    <text>Method of distributing labels to VPNV4 and VPNV6 routes. The way which assigns the label depends on the paf value. If there are a large number of routes, assign a label for the routes that have same nexthop and out-label. This allows all routes which have same nexthop and out-label to use one label.</text>
                  </description>
                </leaf>
                <leaf name="nexthop-select-depend-type">
                  <type name="select-depend-type-ext"/>
                  <default value="depend-ip"/>
                  <description>
                    <text>Specify the route iteration mode: IP or tunnel. In tunnel mode, the labeled BGP IPv4 route can participate in route selection only after its next hop is iterated to an LSP. In IP
mode, the labeled BGP IPv4 route can participate in route selection only after its next hop is iterated to an IP address. By default, the labeled BGP IPv4 route can participate in route selection
if its next hop can be iterated to an IP address, regardless of whether the LSP of the next hop exists. This allows the RR that is not enabled with MPLS to forward labeled routes. In non-RR
networking or RR networking where the BGP next hop is changed, BGP needs to check whether there is an LSP destined for the next hop. If such an LSP is not found, BGP needs to establish an LSP in
advance. If the default setting is adopted, a labeled BGP IPv4 unicast route may be selected prior to LSP establishment. As a result, services are incorrectly switched before LSP establishment and
service stability is affected. Therefore, allow route selection only after the labeled BGP IPv4 route is iterated to an LSP.</text>
                  </description>
                </leaf>
                <leaf name="default-med">
                  <type name="uint32"/>
                  <default value="0"/>
                  <description>
                    <text>Specify the Multi-Exit-Discriminator (MED) of BGP routes. The value is an integer. This value is valid only for the imported routes and BGP summarized routes on the local router.</text>
                  </description>
                </leaf>
                <leaf name="best-external">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable best external route selection.</text>
                  </description>
                </leaf>
                <leaf name="label-free-delay">
                  <type name="uint8">
                    <range value="0..180"/>
                  </type>
                  <units name="s"/>
                  <default value="0"/>
                  <description>
                    <text>Label free delay.</text>
                  </description>
                </leaf>
                <leaf name="add-path-select-num">
                  <type name="uint8">
                    <range value="2..64"/>
                  </type>
                  <description>
                    <text>Number of Add-Path routes.</text>
                  </description>
                </leaf>
                <leaf name="default-local-preference">
                  <type name="uint32">
                    <range value="0..4294967295"/>
                  </type>
                  <default value="100"/>
                  <description>
                    <text>The local preference of BGP routes.</text>
                  </description>
                </leaf>
                <uses name="bestroute-med-plus-igp-type"/>
                <uses name="bestroute-router-id-prior-clusterlist-type"/>
                <leaf name="reflect-between-client">
                  <type name="boolean"/>
                  <default value="true"/>
                  <description>
                    <text>Enable/disable route reflection between clients. If clients of a route reflector (RR) are fully meshed, you can disable route reflection among clients to reduce the cost.</text>
                  </description>
                </leaf>
                <leaf name="activate-route-tag">
                  <type name="boolean"/>
                  <default value="false"/>
                  <description>
                    <text>Enable/disable tag-based filtering.</text>
                  </description>
                </leaf>
                <uses name="route-reflector-ext-community-filter-type"/>
                <uses name="vrf-af-dampening-routes-ext"/>
                <container name="nexthop-recursive-lookup">
                  <description>
                    <text>Configure next hop iteration.</text>
                  </description>
                  <container name="common">
                    <description>
                      <text>Configure next hop iteration common options.</text>
                    </description>
                    <uses name="nexthop-recursive-lookup-restrain"/>
                  </container>
                  <uses name="nexthop-recursive-lookup-delay"/>
                  <uses name="bit-error-detection-type"/>
                </container>
                <uses name="ipv4-import-filter-protocol-type"/>
                <uses name="ipv4vpn-export-filter-protocol-type"/>
                <uses name="slow-peer-type"/>
              </container>
            </list>
          </container>
        </list>
      </container>
    </container>
  </augment>
</module>
