<?xml version="1.0" encoding="UTF-8"?>
<module name="huawei-bras-cgn"
        xmlns="urn:ietf:params:xml:ns:yang:yin:1"
        xmlns:bras-cgn="urn:huawei:yang:huawei-bras-cgn"
        xmlns:aaa="urn:huawei:yang:huawei-aaa"
        xmlns:bras-basic-access="urn:huawei:yang:huawei-bras-basic-access"
        xmlns:ext="urn:huawei:yang:huawei-extension">
  <namespace uri="urn:huawei:yang:huawei-bras-cgn"/>
  <prefix value="bras-cgn"/>
  <import module="huawei-aaa">
    <prefix value="aaa"/>
  </import>
  <import module="huawei-bras-basic-access">
    <prefix value="bras-basic-access"/>
  </import>
  <import module="huawei-extension">
    <prefix value="ext"/>
  </import>
  <organization>
    <text>Huawei Technologies Co., Ltd.</text>
  </organization>
  <contact>
    <text>Huawei Industrial Base
Bantian, Longgang
Shenzhen 518129
People's Republic of China
Website: http://www.huawei.com
Email: support@huawei.com</text>
  </contact>
  <description>
    <text>Bras cgn.</text>
  </description>
  <revision date="2019-04-01">
    <description>
      <text>Init revision.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <ext:task-name value="aaa-access"/>
  <container name="bras-cgn">
    <description>
      <text>Bras cgn.</text>
    </description>
    <container name="pub-user-auto-cut">
      <description>
        <text>Configure automatic switchback from public IP address-based access to private IP address-based access for CGN public network users.</text>
      </description>
      <leaf name="enable">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable automatic switchback from public IP address-based access to private IP address-based access for CGN public network users.</text>
        </description>
      </leaf>
    </container>
  </container>
  <augment target-node="/aaa:aaa/aaa:domains/aaa:domain/bras-basic-access:bas">
    <description>
      <text>Bras cgn in bas domain.</text>
    </description>
    <container name="bras-cgn">
      <description>
        <text>Configure Bras cgn in bas domain.</text>
      </description>
      <container name="public-address">
        <must condition="not(./assign-first='true' and ./nat-instance-down='true')"/>
        <description>
          <text>Configure in distributed CGN scenarios.</text>
        </description>
        <leaf name="nat-enable">
          <type name="boolean"/>
          <default value="true"/>
          <description>
            <text>Enable/disable the NAT device to process traffic from public network IPv4 address users in distributed CGN scenarios before forwarding it based on the routing table.</text>
          </description>
        </leaf>
        <leaf name="assign-first">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable public network IPv4 addresses to be preferentially allocated to users.</text>
          </description>
        </leaf>
        <leaf name="nat-instance-down">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable CGN users to access a device using a public IP address if the CGN service board fails.</text>
          </description>
        </leaf>
      </container>
      <container name="ipv6-pool-domain">
        <description>
          <text>Configure IPv6 attribute configuration of an AAA domain.</text>
        </description>
        <leaf name="aftr-name">
          <type name="string">
            <length value="1..63"/>
            <pattern value="[a-zA-Z0-9._-]{1,63}"/>
          </type>
          <must condition="../aftr-name != '-' and ../aftr-name != '--'"/>
          <description>
            <text>Specifies an AFTR (Address Family Transition Router) name.</text>
          </description>
        </leaf>
      </container>
      <container name="ds-lite-ipv4-portal">
        <description>
          <text>Configure captive portal in DS-Lite scenarios.</text>
        </description>
        <leaf name="enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable captive portal in DS-Lite scenarios.</text>
          </description>
        </leaf>
      </container>
    </container>
  </augment>
</module>
