<?xml version="1.0" encoding="UTF-8"?>
<module name="huawei-rsvp-interface"
        xmlns="urn:ietf:params:xml:ns:yang:yin:1"
        xmlns:rsvp-interface="urn:huawei:yang:huawei-rsvp-interface"
        xmlns:ext="urn:huawei:yang:huawei-extension"
        xmlns:pub-type="urn:huawei:yang:huawei-pub-type"
        xmlns:ni="urn:huawei:yang:huawei-network-instance"
        xmlns:ifm="urn:huawei:yang:huawei-ifm"
        xmlns:mpls="urn:huawei:yang:huawei-mpls"
        xmlns:mpls-te="urn:huawei:yang:huawei-mpls-te"
        xmlns:te-interface="urn:huawei:yang:huawei-te-interface"
        xmlns:te="urn:huawei:yang:huawei-te">
  <namespace uri="urn:huawei:yang:huawei-rsvp-interface"/>
  <prefix value="rsvp-interface"/>
  <import module="huawei-extension">
    <prefix value="ext"/>
  </import>
  <import module="huawei-pub-type">
    <prefix value="pub-type"/>
  </import>
  <import module="huawei-network-instance">
    <prefix value="ni"/>
  </import>
  <import module="huawei-ifm">
    <prefix value="ifm"/>
  </import>
  <import module="huawei-mpls">
    <prefix value="mpls"/>
  </import>
  <import module="huawei-mpls-te">
    <prefix value="mpls-te"/>
  </import>
  <import module="huawei-te-interface">
    <prefix value="te-interface"/>
  </import>
  <import module="huawei-te">
    <prefix value="te"/>
  </import>
  <include module="huawei-rsvp-interface-type"/>
  <organization>
    <text>Huawei Technologies Co., Ltd.</text>
  </organization>
  <contact>
    <text>Huawei Industrial Base
Bantian, Longgang
Shenzhen 518129
People's Republic of China
Website: http://www.huawei.com
Email: support@huawei.com</text>
  </contact>
  <description>
    <text>Specifies the traffic engineering configuration.</text>
  </description>
  <revision date="2020-07-11">
    <description>
      <text>Add private syntax to the keychain name.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2020-03-10">
    <description>
      <text>Fixed some nodes condition.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2019-07-29">
    <description>
      <text>Init revision.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <ext:task-name value="mpls-te"/>
  <rpc name="reset-rsvp-te-statistics">
    <description>
      <text>To clear RSVP TE statistics.</text>
    </description>
    <ext:node-ref value="/ni:network-instance/ni:instances/ni:instance/mpls:mpls/mpls-te:te/rsvp-interface:rsvp-interfaces/rsvp-interface:rsvp-interface"/>
    <input>
      <leaf name="name">
        <type name="leafref">
          <path value="/ifm:ifm/ifm:interfaces/ifm:interface/ifm:name"/>
        </type>
        <description>
          <text>Name of the RSVP interface of which the statistics are recollected. The name is case-insensitive.</text>
        </description>
      </leaf>
    </input>
  </rpc>
  <augment target-node="/ni:network-instance/ni:instances/ni:instance/mpls:mpls/mpls-te:te">
    <description>
      <text>TE Configuration information augment to network instance.</text>
    </description>
    <container name="rsvp-interfaces">
      <when condition="/mpls:mpls/mpls-te:te/mpls-te:rsvp/mpls-te:enable='true'"/>
      <description>
        <text>List of RSVP interface configuration.</text>
      </description>
      <list name="rsvp-interface">
        <must condition="../../../../te:te/te-interface:interfaces/te-interface:interface[te-interface:name=current()/name]/te-interface:mpls-te-enable='true'"/>
        <must condition="/ifm:ifm/ifm:interfaces/ifm:interface[ifm:name=current()/name]/ifm:vrf-name='_public_'"/>
        <key value="name"/>
        <description>
          <text>Configure RSVP interface.</text>
        </description>
        <leaf name="name">
          <type name="leafref">
            <path value="/ifm:ifm/ifm:interfaces/ifm:interface/ifm:name"/>
          </type>
          <description>
            <text>Interface name. The name is case-insensitive.</text>
          </description>
        </leaf>
        <leaf name="hello-enable">
          <when condition="/mpls:mpls/mpls-te:te/mpls-te:rsvp/mpls-te:global/mpls-te:hello-enable='true'"/>
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable Hello function.</text>
          </description>
        </leaf>
        <leaf name="graceful-shutdown-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable graceful shutdown for interface.</text>
          </description>
        </leaf>
        <leaf name="srefresh-compatible-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable summary refresh feature for interface.</text>
          </description>
        </leaf>
        <leaf name="auto-frr-mode">
          <type name="frr-mode-type"/>
          <config value="false"/>
          <description>
            <text>Auto FRR protection modes.</text>
          </description>
        </leaf>
        <leaf name="distribute-inst-name">
          <ext:operation-exclude value="update|delete"/>
          <type name="leafref">
            <path value="/mpls:mpls/mpls-te:te/mpls-te:rsvp/mpls-te:distribute-instances/mpls-te:distribute-instance/mpls-te:instance-name"/>
          </type>
          <default value="RSVP0"/>
          <description>
            <text>Name of RSVP distributed instance.</text>
          </description>
        </leaf>
        <container name="authentication">
          <description>
            <text>Configure neighbor of RSVP TE authentication.</text>
          </description>
          <leaf name="enable">
            <type name="boolean"/>
            <default value="false"/>
            <description>
              <text>Enable/disable the state of RSVP TE interface authentication.</text>
            </description>
          </leaf>
          <leaf name="type">
            <when condition="../enable='true'"/>
            <type name="rsvp-authentication-type"/>
            <mandatory value="true"/>
            <description>
              <text>Authentication type on an RSVP-TE interface.</text>
            </description>
          </leaf>
          <leaf name="keychain-name">
            <when condition="../enable='true' and ../type='keychain'"/>
            <type name="string">
              <length value="1..47"/>
              <pattern value="[^A-Z]+"/>
            </type>
            <mandatory value="true"/>
            <ext:case-sensitivity value="lower-only"/>
            <description>
              <text>Keychain name. The name is case insensitive.</text>
            </description>
          </leaf>
          <leaf name="md5-key">
            <when condition="../enable='true' and ../type!='keychain'"/>
            <type name="pub-type:password-extend">
              <pattern value="[^ ]+"/>
            </type>
            <mandatory value="true"/>
            <description>
              <text>Authentication key of an RSVP TE interface. When the key is configured, the RSVP packets that the interface sends out carry the authentication information that are calculated based on the authentication key by using the MD5 algorithm. The packets the interface receives are also verified based on the authentication key. The two ends of a TE link must be configured with the same authentication key, otherwise, RSVP packets cannot pass through the link. The password is a string ranging from 1 to 255 characters for a simple text password and 20 to 432 characters for a ciphertext password.</text>
            </description>
          </leaf>
          <leaf name="life-time">
            <when condition="../enable='true'"/>
            <type name="pub-type:time-tick">
              <range value="1..86399"/>
            </type>
            <units name="s"/>
            <default value="1800"/>
            <description>
              <text>Authentication lifetime. During authentication lifetime, RSVP authentication lifetime will be reset after a RSVP packet is received. If no RSVP packet is received when the authentication lifetime times out, the RSVP neighbor will delete the authentication relationship to prevent persistent authentication.</text>
            </description>
          </leaf>
          <leaf name="handshake-enable">
            <when condition="../enable='true'"/>
            <type name="boolean"/>
            <default value="false"/>
            <description>
              <text>Enable/disable the handshake authentication. When RSVP packet authentication is out of order, a handshake will be initiated and authentication will be re-negotiated.</text>
            </description>
          </leaf>
          <leaf name="window-size">
            <when condition="../enable='true' and ../handshake-enable='true'"/>
            <type name="uint32">
              <range value="1..64"/>
            </type>
            <default value="1"/>
            <description>
              <text>Size of an authentication window that is set to prevent information loss caused by packet disorder. If the packet sequence number exceeds the window size, the packet is considered to be out of order.</text>
            </description>
          </leaf>
        </container>
        <container name="statistics">
          <config value="false"/>
          <description>
            <text>RSVP Interface statistics.</text>
          </description>
          <leaf name="psb-count">
            <type name="uint32"/>
            <description>
              <text>Number of path state blocks.</text>
            </description>
          </leaf>
          <leaf name="rsb-count">
            <type name="uint32"/>
            <description>
              <text>Number of reservation state blocks.</text>
            </description>
          </leaf>
          <leaf name="psb-cleanup-timeout-count">
            <type name="uint32"/>
            <description>
              <text>Number of times for cleaning up the PSB that times out.</text>
            </description>
          </leaf>
          <leaf name="rsb-cleanup-timeout-count">
            <type name="uint32"/>
            <description>
              <text>Number of times for cleaning up the RSB that times out.</text>
            </description>
          </leaf>
          <leaf name="send-packet-count">
            <type name="uint32"/>
            <description>
              <text>Number of sent RSVP signaling packets.</text>
            </description>
          </leaf>
          <leaf name="receive-packet-count">
            <type name="uint32"/>
            <description>
              <text>Number of received RSVP signaling packets.</text>
            </description>
          </leaf>
          <leaf name="send-path-count">
            <type name="uint32"/>
            <description>
              <text>Number of sent Path packets. The Path packets are sent from the upstream node to the downstream node.</text>
            </description>
          </leaf>
          <leaf name="receive-path-count">
            <type name="uint32"/>
            <description>
              <text>Number of received Path packets. The Path packets are sent from the upstream node to the downstream node.</text>
            </description>
          </leaf>
          <leaf name="send-refresh-path-count">
            <type name="uint32"/>
            <description>
              <text>Number of sent refresh Path packets. The Path packets are sent from the upstream node to the downstream node.</text>
            </description>
          </leaf>
          <leaf name="receive-refresh-path-count">
            <type name="uint32"/>
            <description>
              <text>Number of received refresh Path packets. The Path packets are sent from the upstream node to the downstream node.</text>
            </description>
          </leaf>
          <leaf name="send-resv-count">
            <type name="uint32"/>
            <description>
              <text>Number of sent Resv packets.</text>
            </description>
          </leaf>
          <leaf name="receive-resv-count">
            <type name="uint32"/>
            <description>
              <text>Number of received Resv packets.</text>
            </description>
          </leaf>
          <leaf name="send-refresh-resv-count">
            <type name="uint32"/>
            <description>
              <text>Number of sent refresh Resv packets.</text>
            </description>
          </leaf>
          <leaf name="receive-refresh-resv-count">
            <type name="uint32"/>
            <description>
              <text>Number of received refresh Resv packets.</text>
            </description>
          </leaf>
          <leaf name="send-resv-conf-count">
            <type name="uint32"/>
            <description>
              <text>Number of sent ResvConf packets.</text>
            </description>
          </leaf>
          <leaf name="receive-resv-conf-count">
            <type name="uint32"/>
            <description>
              <text>Number of received ResvConf packets.</text>
            </description>
          </leaf>
          <leaf name="send-hello-count">
            <type name="uint32"/>
            <description>
              <text>Number of sent Hello packets.</text>
            </description>
          </leaf>
          <leaf name="receive-hello-count">
            <type name="uint32"/>
            <description>
              <text>Number of received Hello packets.</text>
            </description>
          </leaf>
          <leaf name="send-ack-count">
            <type name="uint32"/>
            <description>
              <text>Number of sent Ack packets.</text>
            </description>
          </leaf>
          <leaf name="receive-ack-count">
            <type name="uint32"/>
            <description>
              <text>Number of received Ack packets.</text>
            </description>
          </leaf>
          <leaf name="send-path-error-count">
            <type name="uint32"/>
            <description>
              <text>Number of sent PathErr packets.</text>
            </description>
          </leaf>
          <leaf name="receive-path-error-count">
            <type name="uint32"/>
            <description>
              <text>Number of received PathErr packets.</text>
            </description>
          </leaf>
          <leaf name="send-resv-error-count">
            <type name="uint32"/>
            <description>
              <text>Number of sent ResvErr packets.</text>
            </description>
          </leaf>
          <leaf name="receive-resv-error-count">
            <type name="uint32"/>
            <description>
              <text>Number of received ResvErr packets.</text>
            </description>
          </leaf>
          <leaf name="send-path-tear-count">
            <type name="uint32"/>
            <description>
              <text>Number of sent PathTear packets.</text>
            </description>
          </leaf>
          <leaf name="receive-path-tear-count">
            <type name="uint32"/>
            <description>
              <text>Number of received PathTear packets.</text>
            </description>
          </leaf>
          <leaf name="send-resv-tear-count">
            <type name="uint32"/>
            <description>
              <text>Number of sent ResvTear packets.</text>
            </description>
          </leaf>
          <leaf name="receive-resv-tear-count">
            <type name="uint32"/>
            <description>
              <text>Number of received ResvTear packets.</text>
            </description>
          </leaf>
          <leaf name="send-srefresh-count">
            <type name="uint32"/>
            <description>
              <text>Number of sent Srefresh packets.</text>
            </description>
          </leaf>
          <leaf name="receive-srefresh-count">
            <type name="uint32"/>
            <description>
              <text>Number of received Srefresh packets.</text>
            </description>
          </leaf>
          <leaf name="send-ack-msg-count">
            <type name="uint32"/>
            <description>
              <text>Number of sent Msg_ID_ACK packets.</text>
            </description>
          </leaf>
          <leaf name="receive-ack-msg-count">
            <type name="uint32"/>
            <description>
              <text>Number of received Msg_ID_ACK packets.</text>
            </description>
          </leaf>
          <leaf name="send-challenge-msg-count">
            <type name="uint32"/>
            <description>
              <text>Number of sent Challenge packets.</text>
            </description>
          </leaf>
          <leaf name="receive-challenge-msg-count">
            <type name="uint32"/>
            <description>
              <text>Number of received Challenge packets.</text>
            </description>
          </leaf>
          <leaf name="send-response-msg-count">
            <type name="uint32"/>
            <description>
              <text>Number of sent response packets.</text>
            </description>
          </leaf>
          <leaf name="receive-response-msg-count">
            <type name="uint32"/>
            <description>
              <text>Number of received response packets.</text>
            </description>
          </leaf>
          <leaf name="send-error-msg-count">
            <type name="uint32"/>
            <description>
              <text>Number of sent Msg_ID_NACK packets.</text>
            </description>
          </leaf>
          <leaf name="receive-error-msg-count">
            <type name="uint32"/>
            <description>
              <text>Number of received Msg_ID_NACK packets.</text>
            </description>
          </leaf>
          <leaf name="send-recovery-path-msg-count">
            <type name="uint32"/>
            <description>
              <text>Number of sent Path packets. The Path packets are sent from the downstream node to the upstream node.</text>
            </description>
          </leaf>
          <leaf name="receive-recovery-path-msg-count">
            <type name="uint32"/>
            <description>
              <text>Number of received Path packets. The Path packets are sent from the downstream node to the upstream node.</text>
            </description>
          </leaf>
          <leaf name="send-gr-path-msg-count">
            <type name="uint32"/>
            <description>
              <text>Number of sent GRPath packets.</text>
            </description>
          </leaf>
          <leaf name="receive-gr-path-msg-count">
            <type name="uint32"/>
            <description>
              <text>Number of received GRPath packets.</text>
            </description>
          </leaf>
          <leaf name="send-notify-msg-count">
            <type name="uint32"/>
            <description>
              <text>Number of send notify packets.</text>
            </description>
          </leaf>
          <leaf name="receive-notify-msg-count">
            <type name="uint32"/>
            <description>
              <text>Number of receive notify packets.</text>
            </description>
          </leaf>
          <leaf name="resource-fault-count">
            <type name="uint32"/>
            <description>
              <text>Number of resource request fault packets.</text>
            </description>
          </leaf>
          <leaf name="neighbor-count">
            <type name="uint32"/>
            <description>
              <text>Number of RSVP neighbor.</text>
            </description>
          </leaf>
          <leaf name="bfd-session-count">
            <type name="uint32"/>
            <description>
              <text>Number of BFD session.</text>
            </description>
          </leaf>
          <leaf name="retransmit-packet-count">
            <type name="uint32"/>
            <description>
              <text>Number of resend RSVP packets.</text>
            </description>
          </leaf>
          <leaf name="response-packet-count">
            <type name="uint32"/>
            <description>
              <text>Number of ack packets for resend.</text>
            </description>
          </leaf>
          <leaf name="retransmit-path-count">
            <type name="uint32"/>
            <description>
              <text>Number of resend Path packets.</text>
            </description>
          </leaf>
          <leaf name="response-path-count">
            <type name="uint32"/>
            <description>
              <text>Number of ack packets for Path resend.</text>
            </description>
          </leaf>
          <leaf name="retransmit-resv-count">
            <type name="uint32"/>
            <description>
              <text>Number of resend Resv packets.</text>
            </description>
          </leaf>
          <leaf name="response-resv-count">
            <type name="uint32"/>
            <description>
              <text>Number of ack packets for Resv resend.</text>
            </description>
          </leaf>
          <leaf name="retransmit-resv-conf-count">
            <type name="uint32"/>
            <description>
              <text>Number of resend ResvConf packets.</text>
            </description>
          </leaf>
          <leaf name="response-resv-conf-count">
            <type name="uint32"/>
            <description>
              <text>Number of ack packets for ResvConf resend.</text>
            </description>
          </leaf>
          <leaf name="retransmit-path-error-count">
            <type name="uint32"/>
            <description>
              <text>Number of resend PathErr packets.</text>
            </description>
          </leaf>
          <leaf name="response-path-error-count">
            <type name="uint32"/>
            <description>
              <text>Number of ack packets for PathErr resend.</text>
            </description>
          </leaf>
          <leaf name="retransmit-resv-error-count">
            <type name="uint32"/>
            <description>
              <text>Number of resend ResvErr packets.</text>
            </description>
          </leaf>
          <leaf name="response-resv-error-count">
            <type name="uint32"/>
            <description>
              <text>Number of ack packets for ResvErr resend.</text>
            </description>
          </leaf>
          <leaf name="retransmit-path-tear-count">
            <type name="uint32"/>
            <description>
              <text>Number of resend PathTear packets.</text>
            </description>
          </leaf>
          <leaf name="response-path-tear-count">
            <type name="uint32"/>
            <description>
              <text>Number of ack packets for PathTear resend.</text>
            </description>
          </leaf>
          <leaf name="retransmit-resv-tear-count">
            <type name="uint32"/>
            <description>
              <text>Number of resend ResvTear packets.</text>
            </description>
          </leaf>
          <leaf name="response-resv-tear-count">
            <type name="uint32"/>
            <description>
              <text>Number of ack packets for ResvTear resend.</text>
            </description>
          </leaf>
          <leaf name="retransmit-srefresh-count">
            <type name="uint32"/>
            <description>
              <text>Number of resend srefresh packets.</text>
            </description>
          </leaf>
          <leaf name="response-srefresh-count">
            <type name="uint32"/>
            <description>
              <text>Number of ack packets for srefresh resend.</text>
            </description>
          </leaf>
          <leaf name="retransmit-recovery-path-msg-count">
            <type name="uint32"/>
            <description>
              <text>Number of resend recovery path packets.</text>
            </description>
          </leaf>
          <leaf name="response-recovery-path-msg-count">
            <type name="uint32"/>
            <description>
              <text>Number of ack packets for recovery path resend.</text>
            </description>
          </leaf>
          <leaf name="retransmit-gr-path-msg-count">
            <type name="uint32"/>
            <description>
              <text>Number of resend GRPath packets.</text>
            </description>
          </leaf>
          <leaf name="response-gr-path-msg-count">
            <type name="uint32"/>
            <description>
              <text>Number of ack packets for GRPath resend.</text>
            </description>
          </leaf>
          <leaf name="retransmit-notify-msg-count">
            <type name="uint32"/>
            <description>
              <text>Number of resend Notify packets.</text>
            </description>
          </leaf>
          <leaf name="response-notify-msg-count">
            <type name="uint32"/>
            <description>
              <text>Number of ack packets for Notify resend.</text>
            </description>
          </leaf>
        </container>
      </list>
    </container>
  </augment>
</module>
