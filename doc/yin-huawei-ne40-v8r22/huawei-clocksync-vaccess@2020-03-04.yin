<?xml version="1.0" encoding="UTF-8"?>
<module name="huawei-clocksync-vaccess"
        xmlns="urn:ietf:params:xml:ns:yang:yin:1"
        xmlns:clocksync-vaccess="urn:huawei:yang:huawei-clocksync-vaccess"
        xmlns:pub-type="urn:huawei:yang:huawei-pub-type"
        xmlns:ifm="urn:huawei:yang:huawei-ifm"
        xmlns:ext="urn:huawei:yang:huawei-extension"
        xmlns:inet="urn:ietf:params:xml:ns:yang:ietf-inet-types">
  <namespace uri="urn:huawei:yang:huawei-clocksync-vaccess"/>
  <prefix value="clocksync-vaccess"/>
  <import module="huawei-pub-type">
    <prefix value="pub-type"/>
  </import>
  <import module="huawei-ifm">
    <prefix value="ifm"/>
  </import>
  <import module="huawei-extension">
    <prefix value="ext"/>
  </import>
  <import module="ietf-inet-types">
    <prefix value="inet"/>
  </import>
  <organization>
    <text>Huawei Technologies Co., Ltd.</text>
  </organization>
  <contact>
    <text>Huawei Industrial Base
Bantian, Longgang
Shenzhen 518129
People's Republic of China
Website: http://www.huawei.com
Email: support@huawei.com</text>
  </contact>
  <description>
    <text>Virtual access clock management.</text>
  </description>
  <revision date="2020-03-04">
    <description>
      <text>Modify the node description and fixed some problems.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2020-01-21">
    <description>
      <text>Fixed some problems.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2019-12-03">
    <description>
      <text>Add nvclock-sync container node and fixed some problems.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2019-09-19">
    <description>
      <text>Initial revision.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <typedef name="bits-id">
    <type name="enumeration">
      <enum name="bits0">
        <value value="0"/>
        <description>
          <text>BITS0.</text>
        </description>
      </enum>
      <enum name="bits1">
        <value value="1"/>
        <description>
          <text>BITS1.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>BITS ID.</text>
    </description>
  </typedef>
  <typedef name="ptp-time-source">
    <type name="enumeration">
      <enum name="atomicclock">
        <value value="1"/>
        <description>
          <text>Atomic clock.</text>
        </description>
      </enum>
      <enum name="gps">
        <value value="2"/>
        <description>
          <text>GPS.</text>
        </description>
      </enum>
      <enum name="terrestrialradio">
        <value value="3"/>
        <description>
          <text>Terrestrial radio.</text>
        </description>
      </enum>
      <enum name="ptp">
        <value value="4"/>
        <description>
          <text>PTP.</text>
        </description>
      </enum>
      <enum name="ntp">
        <value value="5"/>
        <description>
          <text>NTP.</text>
        </description>
      </enum>
      <enum name="handset">
        <value value="6"/>
        <description>
          <text>Handset.</text>
        </description>
      </enum>
      <enum name="other">
        <value value="7"/>
        <description>
          <text>Others.</text>
        </description>
      </enum>
      <enum name="internaloscillator">
        <value value="8"/>
        <description>
          <text>Internal oscillator.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>PTP Time Source.</text>
    </description>
  </typedef>
  <typedef name="ptp-tod-protocol">
    <type name="enumeration">
      <enum name="ccsa">
        <value value="2"/>
        <description>
          <text>Set the 1PPS+TOD time signals to be transmitted based on the CCSA protocol and change the 1PPS+TOD status value to the clockClass value as defined in the protocol.</text>
        </description>
      </enum>
      <enum name="ubx">
        <value value="0"/>
        <description>
          <text>Set the 1PPS+TOD time signals to be transmitted in UBX format.</text>
        </description>
      </enum>
      <enum name="nmea">
        <value value="1"/>
        <description>
          <text>Set the 1PPS+TOD time signals to be transmitted in NMEA format.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Tod Protocol.</text>
    </description>
  </typedef>
  <typedef name="phy-sabit-type">
    <type name="enumeration">
      <enum name="sa4">
        <value value="4"/>
        <description>
          <text>Sa4 timeslot.</text>
        </description>
      </enum>
      <enum name="sa5">
        <value value="5"/>
        <description>
          <text>Sa5 timeslot.</text>
        </description>
      </enum>
      <enum name="sa6">
        <value value="6"/>
        <description>
          <text>Sa6 timeslot.</text>
        </description>
      </enum>
      <enum name="sa7">
        <value value="7"/>
        <description>
          <text>Sa7 timeslot.</text>
        </description>
      </enum>
      <enum name="sa8">
        <value value="8"/>
        <description>
          <text>Sa8 timeslot.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Sabit Type.</text>
    </description>
  </typedef>
  <typedef name="clock-bits-type">
    <type name="enumeration">
      <enum name="1pps">
        <value value="3"/>
        <description>
          <text>Bits type is 1PPS time signal.</text>
        </description>
      </enum>
      <enum name="2mhz">
        <value value="1"/>
        <description>
          <text>Bits type is 2 MHz frequency signal.</text>
        </description>
      </enum>
      <enum name="2mbps">
        <value value="0"/>
        <description>
          <text>Bits type is 2 Mbps frequency signal.</text>
        </description>
      </enum>
      <enum name="dcls">
        <value value="2"/>
        <description>
          <text>Bits type is DCLS time signal.</text>
        </description>
      </enum>
      <enum name="none">
        <value value="255"/>
        <description>
          <text>Invalid BITS signal type.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Bits Type.</text>
    </description>
  </typedef>
  <typedef name="ptp-bits-direction">
    <type name="enumeration">
      <enum name="in">
        <value value="0"/>
        <description>
          <text>Input.</text>
        </description>
      </enum>
      <enum name="out">
        <value value="1"/>
        <description>
          <text>Output.</text>
        </description>
      </enum>
      <enum name="both">
        <value value="2"/>
        <description>
          <text>Input and output.</text>
        </description>
      </enum>
      <enum name="none">
        <value value="4"/>
        <description>
          <text>Invalid.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Bits Direction Type.</text>
    </description>
  </typedef>
  <typedef name="ptp-delay-mechanism">
    <type name="enumeration">
      <enum name="delay">
        <value value="0"/>
        <description>
          <text>The delay measurement mechanism of PTP interface clock source is Delay.</text>
        </description>
      </enum>
      <enum name="pdelay">
        <value value="1"/>
        <description>
          <text>The delay measurement mechanism of PTP interface packets is Pdelay.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Delay Mechanism Type.</text>
    </description>
  </typedef>
  <typedef name="ptp-port-step-type">
    <type name="enumeration">
      <enum name="onestep">
        <value value="0"/>
        <description>
          <text>The timestamps are carried in Sync packets, and Follow_Up packets do not need to be sent.</text>
        </description>
      </enum>
      <enum name="twostep">
        <value value="1"/>
        <description>
          <text>The timestamps are not carried in Sync packets but in Follow-Up packets.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Port Step Type.</text>
    </description>
  </typedef>
  <typedef name="ptp-pack-type">
    <type name="enumeration">
      <enum name="mac">
        <value value="0"/>
        <description>
          <text>Layer 2 MAC encapsulation for PTP packets.</text>
        </description>
      </enum>
      <enum name="udp">
        <value value="1"/>
        <description>
          <text>Layer 3 UDP packet encapsulation for PTP packets.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Pack Type.</text>
    </description>
  </typedef>
  <typedef name="ptp-sign-flag">
    <type name="enumeration">
      <enum name="negative">
        <value value="0"/>
        <description>
          <text>Negative.</text>
        </description>
      </enum>
      <enum name="positive">
        <value value="1"/>
        <description>
          <text>Positive.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Sign Type.</text>
    </description>
  </typedef>
  <typedef name="phy-ssm-level">
    <type name="enumeration">
      <enum name="prc">
        <value value="2"/>
        <description>
          <text>G.811 clock.</text>
        </description>
      </enum>
      <enum name="ssua">
        <value value="4"/>
        <description>
          <text>G.812 transit node clock.</text>
        </description>
      </enum>
      <enum name="ssub">
        <value value="8"/>
        <description>
          <text>G.812 local node clock.</text>
        </description>
      </enum>
      <enum name="sec">
        <value value="11"/>
        <description>
          <text>SDH.</text>
        </description>
      </enum>
      <enum name="dnu">
        <value value="15"/>
        <description>
          <text>The clock source is unavailable.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>SSM Level Type.</text>
    </description>
  </typedef>
  <typedef name="output-ssm-level">
    <type name="enumeration">
      <enum name="prc">
        <value value="2"/>
        <description>
          <text>G.811 clock.</text>
        </description>
      </enum>
      <enum name="ssua">
        <value value="4"/>
        <description>
          <text>G.812 transit node clock.</text>
        </description>
      </enum>
      <enum name="ssub">
        <value value="8"/>
        <description>
          <text>G.812 local node clock.</text>
        </description>
      </enum>
      <enum name="sec">
        <value value="11"/>
        <description>
          <text>SDH.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Output ssm level.</text>
    </description>
  </typedef>
  <ext:task-name value="clksync"/>
  <container name="clocksync-vaccess">
    <description>
      <text>Virtual access clock management.</text>
    </description>
    <container name="network-plane">
      <description>
        <text>Configure Network.</text>
      </description>
      <container name="va-common">
        <description>
          <text>Configure vaccess common information.</text>
        </description>
        <leaf name="freq-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable frequency synchronization in virtual access scenarios.</text>
          </description>
        </leaf>
        <leaf name="time-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable time synchronization in virtual access scenarios.</text>
          </description>
        </leaf>
      </container>
      <container name="va-clock">
        <description>
          <text>Configure vaccess lock.</text>
        </description>
        <leaf name="freq-check-enable">
          <type name="boolean"/>
          <default value="true"/>
          <description>
            <text>Enable/disable frequency offset detection on the clock board.</text>
          </description>
        </leaf>
        <leaf name="wtr-time">
          <type name="uint32">
            <range value="0..12"/>
          </type>
          <units name="min"/>
          <default value="5"/>
          <description>
            <text>WTR time for a Down interface.</text>
          </description>
        </leaf>
        <leaf name="holdoff-time">
          <type name="uint32">
            <range value="300..1800"/>
          </type>
          <units name="ms"/>
          <default value="1000"/>
          <description>
            <text>Holdoff time of the clock source after an interface changes from normal to abnormal.</text>
          </description>
        </leaf>
        <leaf name="out-threshold">
          <type name="phy-ssm-level"/>
          <default value="dnu"/>
          <description>
            <text>Lowest SSM level of the clock signals output by the BITS interface.</text>
          </description>
        </leaf>
        <leaf name="ssm-unk-map">
          <type name="phy-ssm-level"/>
          <default value="dnu"/>
          <description>
            <text>Map UNK to an SSM level so that the clock source with the unknown SSM level can be selected.</text>
          </description>
        </leaf>
        <leaf name="max-out-ssm-sys">
          <type name="output-ssm-level"/>
          <description>
            <text>Highest SSM level of the output system clock signals. If the SSM level of a system clock is greater than the set highest SSM level, the system clock signals are output based on the highest SSM level.</text>
          </description>
        </leaf>
        <leaf name="max-out-ssm-2m1">
          <type name="output-ssm-level"/>
          <description>
            <text>Highest SSM level of the output 2M-1 clock signals. If the SSM level of a 2M-1 clock is greater than the set highest SSM level, the 2M-1 clock signals are output based on the highest SSM level.</text>
          </description>
        </leaf>
        <leaf name="max-out-ssm-2m2">
          <type name="output-ssm-level"/>
          <description>
            <text>Highest SSM level of the output 2M-2 clock signals. If the SSM level of a 2M-2 clock is greater than the set highest SSM level, the 2M-2 clock signals are output based on the highest SSM level.</text>
          </description>
        </leaf>
      </container>
      <container name="va-ptp">
        <when condition="(../va-common/time-enable='true')"/>
        <description>
          <text>Configure PTP.</text>
        </description>
        <leaf name="domain">
          <type name="uint32">
            <range value="0..255"/>
          </type>
          <default value="0"/>
          <description>
            <text>PTP device domain. Only devices in the same PTP domain can be synchronized.</text>
          </description>
        </leaf>
        <leaf name="dly-measure-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable auto-measurement of ring-network asymmetry delay of optical fibers. If enabled, the fiber length change will be tested as the interface connecting to the fiber goes from Down to Up.</text>
          </description>
        </leaf>
        <leaf name="passive-measure-enable">
          <type name="boolean"/>
          <default value="false"/>
          <description>
            <text>Enable/disable performance monitoring. If performance monitoring is enabled on passive interfaces and devices remain in a stable time synchronization state, devices will monitor the time offset values (between the master and slave devices) on passive interfaces every 1000s.</text>
          </description>
        </leaf>
        <leaf name="passive-alarm-threshold">
          <type name="int32">
            <range value="55..10000"/>
          </type>
          <units name="ns"/>
          <default value="200"/>
          <description>
            <text>Set passive alarm threshold. After performance monitoring is enabled on passive interfaces, if the time offset value between the master and slave devices exceeds the alarm threshold, an alarm indicating that the passive interface optical fiber length has changed will be reported to the NMS.</text>
          </description>
        </leaf>
        <leaf name="time-source">
          <type name="ptp-time-source"/>
          <default value="internaloscillator"/>
          <description>
            <text>Type of the local PTP clock source.</text>
          </description>
        </leaf>
        <leaf name="accuracy">
          <type name="pub-type:hex-binary">
            <length value="1..4"/>
            <pattern value="(0x|0X)?[0-9a-fA-F]{1,2}"/>
          </type>
          <default value="0x31"/>
          <description>
            <text>Accuracy of the local PTP clock source.</text>
          </description>
        </leaf>
        <leaf name="clk-class">
          <type name="uint32">
            <range value="0..255"/>
          </type>
          <default value="187"/>
          <description>
            <text>Class of the local PTP clock source.</text>
          </description>
        </leaf>
        <leaf name="priority1">
          <type name="uint32">
            <range value="0..255"/>
          </type>
          <default value="128"/>
          <description>
            <text>Priority1 of the local PTP clock source.</text>
          </description>
        </leaf>
        <leaf name="priority2">
          <type name="uint32">
            <range value="0..255"/>
          </type>
          <default value="128"/>
          <description>
            <text>Priority2 of the local PTP clock source.</text>
          </description>
        </leaf>
      </container>
    </container>
    <container name="nvclock-sync">
      <description>
        <text>Configure access point.</text>
      </description>
      <container name="va-ap-comms">
        <description>
          <text>List of configure common AP.</text>
        </description>
        <list name="va-ap-comm">
          <key value="ap-id"/>
          <description>
            <text>Configure common AP.</text>
          </description>
          <leaf name="ap-id">
            <type name="uint32">
              <range value="1024..8191"/>
            </type>
            <description>
              <text>AP ID.</text>
            </description>
          </leaf>
          <leaf name="clock-tod-protocol">
            <type name="ptp-tod-protocol"/>
            <default value="ubx"/>
            <description>
              <text>TOD format of 1PPS+TOD time signals.</text>
            </description>
          </leaf>
          <leaf name="ptp-local-clock-id">
            <type name="string">
              <length value="3..10"/>
              <pattern value="(0x)[0-9a-f]{1,8}"/>
            </type>
            <default value="0x0"/>
            <description>
              <text>Number of the local PTP clock source.</text>
            </description>
          </leaf>
        </list>
      </container>
      <container name="va-ap-bits-srcs">
        <description>
          <text>List of configure virtual access bits attributes of a single AP.</text>
        </description>
        <list name="va-ap-bits-src">
          <key value="ap-id ptp-bits-id slot-id"/>
          <description>
            <text>Configure virtual access bits attributes of a single AP.</text>
          </description>
          <leaf name="ap-id">
            <type name="uint32">
              <range value="1024..8191"/>
            </type>
            <description>
              <text>AP ID.</text>
            </description>
          </leaf>
          <leaf name="ptp-bits-id">
            <type name="bits-id"/>
            <description>
              <text>BITS ID.</text>
            </description>
          </leaf>
          <leaf name="slot-id">
            <type name="uint32"/>
            <description>
              <text>Slot ID.</text>
            </description>
          </leaf>
          <leaf name="phy-bits-sabit">
            <when condition="../ptp-bits-id='bits0'"/>
            <type name="phy-sabit-type"/>
            <default value="sa4"/>
            <description>
              <text>Sa timeslot used by the BITS interface to send or receive the SSM level.</text>
            </description>
          </leaf>
          <leaf name="phy-bits-type">
            <type name="clock-bits-type"/>
            <default value="none"/>
            <description>
              <text>BITS signal type. The value depends on the BITS type.</text>
            </description>
          </leaf>
          <leaf name="ptp-bits-direction">
            <type name="ptp-bits-direction"/>
            <default value="none"/>
            <description>
              <text>Transmission direction of BITS signals. If the signal type is 1PPS, you must specify the input and output directions of BITS signals. The value depends on the BITS type.</text>
            </description>
          </leaf>
          <leaf name="ptp-bits-recv-delay">
            <when condition="../ptp-bits-id='bits1'"/>
            <type name="int32">
              <range value="0..2000000"/>
            </type>
            <units name="ns"/>
            <default value="0"/>
            <description>
              <text>Delay for receiving BITS time signals.</text>
            </description>
          </leaf>
          <leaf name="ptp-bits-send-delay">
            <when condition="../ptp-bits-id='bits1'"/>
            <type name="int32">
              <range value="0..10000"/>
            </type>
            <units name="ns"/>
            <default value="0"/>
            <description>
              <text>Delay for sending BITS time signals.</text>
            </description>
          </leaf>
          <leaf name="sync-enable">
            <when condition="../ptp-bits-id='bits0'"/>
            <type name="boolean"/>
            <default value="false"/>
            <description>
              <text>Enable/disable synchronization.</text>
            </description>
          </leaf>
        </list>
      </container>
      <container name="va-remote-clocks">
        <description>
          <text>List of configure remote physical interface.</text>
        </description>
        <list name="va-remote-clock">
          <key value="clock-if-name"/>
          <description>
            <text>Configure remote physical interface.</text>
          </description>
          <leaf name="clock-if-name">
            <type name="leafref">
              <path value="/ifm:ifm/ifm:interfaces/ifm:interface/ifm:name"/>
            </type>
            <description>
              <text>Interface name.</text>
            </description>
          </leaf>
          <leaf name="phy-sync-enable">
            <type name="boolean"/>
            <default value="false"/>
            <description>
              <text>Enable/disable clock synchronization for the physical clock source.</text>
            </description>
          </leaf>
          <leaf name="cfg-ssm">
            <type name="phy-ssm-level"/>
            <description>
              <text>Configure the physical layer SSM level.</text>
            </description>
          </leaf>
        </list>
      </container>
      <container name="va-remote-ptps">
        <when condition="(../../network-plane/va-common/time-enable='true')"/>
        <description>
          <text>List of configure remote time interface.</text>
        </description>
        <list name="va-remote-ptp">
          <key value="ptp-if-name"/>
          <description>
            <text>Configure remote time interface.</text>
          </description>
          <leaf name="ptp-if-name">
            <type name="leafref">
              <path value="/ifm:ifm/ifm:interfaces/ifm:interface/ifm:name"/>
            </type>
            <description>
              <text>Interface name.</text>
            </description>
          </leaf>
          <leaf name="ptp-port-enable">
            <type name="boolean"/>
            <default value="false"/>
            <description>
              <text>Enable/disable 1588v2 for PTP interface clock sources.</text>
            </description>
          </leaf>
          <leaf name="ptp-delay-mechanism">
            <type name="ptp-delay-mechanism"/>
            <default value="delay"/>
            <description>
              <text>Delay measurement mechanism for PTP packets, including Delay or Pdelay.</text>
            </description>
          </leaf>
          <leaf name="ptp-clock-step">
            <type name="ptp-port-step-type"/>
            <default value="onestep"/>
            <description>
              <text>Clock step mode: one-step or two-step.</text>
            </description>
          </leaf>
          <leaf name="ptp-pkt-pack-type">
            <type name="ptp-pack-type"/>
            <default value="mac"/>
            <description>
              <text>PTP packet encapsulation mode. A PTP packet can be encapsulated in a Layer 2 frame or in a Layer 3 UDP packet.</text>
            </description>
          </leaf>
          <leaf name="ptp-mac-egress-dest-mac">
            <when condition="(../ptp-pkt-pack-type='mac')"/>
            <type name="pub-type:mac-address">
              <pattern value="([0-9a-h][0|2|4|6|8|a|c|e][0-9a-h]{2}-[0-9a-h]{4}-[0-9a-h]{4})|(011b-1900-0000)|(0180-c200-000e)"/>
            </type>
            <must condition="((not(../ptp-mac-egress-dest-mac='0180-c200-000e') and ../ptp-delay-mechanism='delay') or (not(../ptp-mac-egress-dest-mac='011b-1900-0000') and ../ptp-delay-mechanism='pdelay'))"/>
            <ext:dynamic-default>
              <ext:default-value value="011b-1900-0000">
                <when condition="(../ptp-delay-mechanism='delay')"/>
                <description>
                  <text>The default value is 011b-1900-0000 when delay-mechanism is delay.</text>
                </description>
              </ext:default-value>
              <ext:default-value value="0180-c200-000e">
                <when condition="(../ptp-delay-mechanism='pdelay')"/>
                <description>
                  <text>The default value is 0180-c200-000e when delay-mechanism is pdelay.</text>
                </description>
              </ext:default-value>
            </ext:dynamic-default>
            <description>
              <text>Destination MAC address for a PTP packet encapsulated in a Layer 2 frame.</text>
            </description>
          </leaf>
          <leaf name="ptp-mac-egress-vlan-id">
            <when condition="(../ptp-pkt-pack-type='mac')"/>
            <type name="int32">
              <range value="0..4094"/>
            </type>
            <default value="0"/>
            <description>
              <text>VLAN ID for a PTP packet encapsulated in a Layer 2 frame.</text>
            </description>
          </leaf>
          <leaf name="ptp-mac-egress-pkt-priority">
            <when condition="(../ptp-pkt-pack-type='mac') and (../ptp-mac-egress-vlan-id and ../ptp-mac-egress-vlan-id!=0)"/>
            <type name="int32">
              <range value="0..7"/>
            </type>
            <default value="7"/>
            <description>
              <text>Packet priority of a PTP packet encapsulated in a Layer 2 frame.</text>
            </description>
          </leaf>
          <leaf name="ptp-udp-egress-src-ip">
            <when condition="(../ptp-pkt-pack-type='udp')"/>
            <type name="inet:ipv4-address-no-zone"/>
            <must condition="(../ptp-udp-egress-src-ip!='0.0.0.0')"/>
            <description>
              <text>Source IP address for a PTP packet encapsulated in a Layer 3 UDP packet.</text>
            </description>
          </leaf>
          <leaf name="ptp-udp-egress-dest-ip">
            <when condition="(../ptp-pkt-pack-type='udp') and (../ptp-udp-egress-src-ip)"/>
            <type name="inet:ipv4-address-no-zone"/>
            <must condition="(../ptp-udp-egress-dest-ip!='0.0.0.0')"/>
            <description>
              <text>Destination IP address for a PTP packet encapsulated in a Layer 3 UDP packet.</text>
            </description>
          </leaf>
          <leaf name="ptp-udp-egress-dscp">
            <when condition="(../ptp-pkt-pack-type='udp') and (../ptp-udp-egress-src-ip)"/>
            <type name="int32">
              <range value="0..63"/>
            </type>
            <default value="56"/>
            <description>
              <text>DSCP value for a PTP packet encapsulated in a Layer 3 UDP packet.</text>
            </description>
          </leaf>
          <leaf name="ptp-udp-egress-vlan-id">
            <when condition="(../ptp-pkt-pack-type='udp') and (../ptp-udp-egress-src-ip)"/>
            <type name="int32">
              <range value="0..4094"/>
            </type>
            <default value="0"/>
            <description>
              <text>VLAN ID for a PTP packet encapsulated in a Layer 3 UDP packet.</text>
            </description>
          </leaf>
          <leaf name="ptp-udp-egress-pkt-priority">
            <when condition="(../ptp-pkt-pack-type='udp') and (../ptp-udp-egress-vlan-id and ../ptp-udp-egress-vlan-id!=0)"/>
            <type name="int32">
              <range value="0..7"/>
            </type>
            <default value="7"/>
            <description>
              <text>Priority of a PTP packet encapsulated in a Layer 3 UDP packet.</text>
            </description>
          </leaf>
          <leaf name="ptp-udp-egress-dest-mac">
            <when condition="(../ptp-pkt-pack-type='udp') and (../ptp-udp-egress-src-ip)"/>
            <type name="pub-type:mac-address">
              <pattern value="([0-9a-h][0|2|4|6|8|a|c|e][0-9a-h]{2}-[0-9a-h]{4}-[0-9a-h]{4})|(0100-5e00-0181)|(0100-5e00-006b)"/>
            </type>
            <must condition="((not(../ptp-udp-egress-dest-mac='0100-5e00-006b') and ../ptp-delay-mechanism='delay') or (not(../ptp-udp-egress-dest-mac='0100-5e00-0181') and ../ptp-delay-mechanism='pdelay'))"/>
            <ext:dynamic-default>
              <ext:default-value value="0100-5e00-0181">
                <when condition="(../ptp-delay-mechanism='delay')"/>
                <description>
                  <text>The default value is 0100-5e00-0181 when delay-mechanism is delay.</text>
                </description>
              </ext:default-value>
              <ext:default-value value="0100-5e00-006b">
                <when condition="(../ptp-delay-mechanism='pdelay')"/>
                <description>
                  <text>The default value is 0100-5e00-006b when delay-mechanism is pdelay.</text>
                </description>
              </ext:default-value>
            </ext:dynamic-default>
            <description>
              <text>Destination MAC address for a PTP packet encapsulated in a Layer 3 UDP packet.</text>
            </description>
          </leaf>
          <leaf name="ptp-announce-interval">
            <type name="int32">
              <range value="0..20"/>
            </type>
            <default value="7"/>
            <description>
              <text>Interval at which Announce packets are sent on a PTP interface. the calculation formula for the interval in seconds is (2 to the power of interval/1024)s.</text>
            </description>
          </leaf>
          <leaf name="ptp-announce-receipt-timeout">
            <type name="int32">
              <range value="2..255"/>
            </type>
            <default value="3"/>
            <description>
              <text>Timeout occurrences of announce packet receiving on the PTP interface. If the number of timeouts exceeds the set value, the newly received Announce packets will enter the timeout processing procedure.</text>
            </description>
          </leaf>
          <leaf name="ptp-sync-interval">
            <type name="int32">
              <range value="0..20"/>
            </type>
            <default value="3"/>
            <description>
              <text>Interval at which Sync packets are sent on a PTP interface. the calculation formula for the interval in seconds is (2 to the power of interval/1024)s.</text>
            </description>
          </leaf>
          <leaf name="ptp-min-delay-req-interval">
            <type name="int32">
              <range value="0..20"/>
            </type>
            <default value="7"/>
            <description>
              <text>Minimum interval at which Delay_Req packets are sent on a PTP interface. the calculation formula for the interval in seconds is (2 to the power of interval/1024)s.</text>
            </description>
          </leaf>
          <leaf name="ptp-min-pdelay-req-interval">
            <type name="int32">
              <range value="0..20"/>
            </type>
            <default value="7"/>
            <description>
              <text>Minimum interval at which Pdelay_Req packets are sent on a PTP interface. the calculation formula for the interval in seconds is (2 to the power of interval/1024)s.</text>
            </description>
          </leaf>
          <leaf name="ptp-announce-drop">
            <type name="boolean"/>
            <default value="false"/>
            <description>
              <text>Enable/disable an interface to discard the received Announce packets.</text>
            </description>
          </leaf>
        </list>
      </container>
      <container name="va-clock-ports">
        <when condition="(../../network-plane/va-common/time-enable='true')"/>
        <description>
          <text>List of configure AP clock port.</text>
        </description>
        <list name="va-clock-port">
          <key value="ap-id ap-if-name"/>
          <description>
            <text>Configure AP clock port.</text>
          </description>
          <leaf name="ap-id">
            <type name="uint32">
              <range value="1024..8191"/>
            </type>
            <description>
              <text>AP ID.</text>
            </description>
          </leaf>
          <leaf name="ap-if-name">
            <type name="pub-type:if-name"/>
            <description>
              <text>Interface name.</text>
            </description>
          </leaf>
          <leaf name="ptp-correction-flag">
            <type name="ptp-sign-flag"/>
            <default value="positive"/>
            <description>
              <text>Signal flag of correction value. Calculate the correction value after auto-measurement of ring-network asymmetry delay is enabled and asymmetry delay of optical fibers is tested, including positive and negative flags as well as the value to be corrected, and set the value on the interface.</text>
            </description>
          </leaf>
          <leaf name="ptp-correction-value">
            <type name="int32">
              <range value="0..2000000"/>
            </type>
            <units name="ns"/>
            <default value="0"/>
            <description>
              <text>Correction-value. Calculate the correction value after auto-measurement of ring-network asymmetry delay is enabled and asymmetry delay of optical fibers is tested, including positive and negative flags as well as the value to be corrected, and set the value on the interface.</text>
            </description>
          </leaf>
        </list>
      </container>
    </container>
  </container>
</module>
