<?xml version="1.0" encoding="UTF-8"?>
<module name="huawei-cfg"
        xmlns="urn:ietf:params:xml:ns:yang:yin:1"
        xmlns:cfg="urn:huawei:yang:huawei-cfg"
        xmlns:pub-type="urn:huawei:yang:huawei-pub-type"
        xmlns:inet="urn:ietf:params:xml:ns:yang:ietf-inet-types"
        xmlns:yang="urn:ietf:params:xml:ns:yang:ietf-yang-types"
        xmlns:ext="urn:huawei:yang:huawei-extension"
        xmlns:ifm="urn:huawei:yang:huawei-ifm">
  <yang-version value="1.1"/>
  <namespace uri="urn:huawei:yang:huawei-cfg"/>
  <prefix value="cfg"/>
  <import module="huawei-pub-type">
    <prefix value="pub-type"/>
  </import>
  <import module="ietf-inet-types">
    <prefix value="inet"/>
  </import>
  <import module="ietf-yang-types">
    <prefix value="yang"/>
  </import>
  <import module="huawei-extension">
    <prefix value="ext"/>
  </import>
  <import module="huawei-ifm">
    <prefix value="ifm"/>
  </import>
  <organization>
    <text>Huawei Technologies Co., Ltd.</text>
  </organization>
  <contact>
    <text>Huawei Industrial Base
Bantian, Longgang
Shenzhen 518129
People's Republic of China
Website: http://www.huawei.com
Email: support@huawei.com</text>
  </contact>
  <description>
    <text>Configuration management module.</text>
  </description>
  <revision date="2020-02-21">
    <description>
      <text>Initial revision.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <ext:task-name value="config"/>
  <typedef name="config-checkpoint-client">
    <type name="enumeration">
      <enum name="cli">
        <value value="0"/>
        <description>
          <text>The client that creates a configuration checkpoint is CLI.</text>
        </description>
      </enum>
      <enum name="netconf">
        <value value="1"/>
        <description>
          <text>The client that generates a configuration checkpoint is NETCONF.</text>
        </description>
      </enum>
      <enum name="snmp">
        <value value="2"/>
        <description>
          <text>The client that creates a configuration checkpoint is SNMP.</text>
        </description>
      </enum>
      <enum name="rollback">
        <value value="3"/>
        <description>
          <text>The client that generates a configuration checkpoint is rollback. A configuration checkpoint is generated because a rollback command is run.</text>
        </description>
      </enum>
      <enum name="y2">
        <value value="4"/>
        <description>
          <text>The client that generates a configuration checkpoint is y2. A configuration checkpoint is generated because the startup configuration of the system is different from the latest configuration checkpoint.</text>
        </description>
      </enum>
      <enum name="restore">
        <value value="5"/>
        <description>
          <text>The client that generates a configuration checkpoint is restore. A configuration checkpoint is generated because the startup configuration of the system is different from the latest configuration checkpoint.</text>
        </description>
      </enum>
      <enum name="system">
        <value value="6"/>
        <description>
          <text>The client that generates a configuration checkpoint is system. A configuration checkpoint is generated because the current user information cannot be obtained.</text>
        </description>
      </enum>
      <enum name="mml">
        <value value="7"/>
        <description>
          <text>The client that generates a configuration checkpoint is mml. A configuration checkpoint is generated because the startup configuration of the system is different from the latest configuration checkpoint.</text>
        </description>
      </enum>
      <enum name="inner">
        <value value="8"/>
        <description>
          <text>The client that generates a configuration checkpoint is inner. A configuration checkpoint is generated because the startup configuration of the system is different from the latest configuration checkpoint.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Client type.</text>
    </description>
  </typedef>
  <typedef name="cfg-server-type">
    <type name="enumeration">
      <enum name="ftp">
        <value value="1"/>
        <description>
          <text>FTP protocol.</text>
        </description>
      </enum>
      <enum name="tftp">
        <value value="2"/>
        <description>
          <text>TFTP protocol.</text>
        </description>
      </enum>
      <enum name="sftp">
        <value value="3"/>
        <description>
          <text>SFTP protocol.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Server type.</text>
    </description>
  </typedef>
  <typedef name="cfg-operation-type">
    <type name="enumeration">
      <enum name="running2net">
        <value value="1"/>
        <description>
          <text>Back up the device configuration to a server.</text>
        </description>
      </enum>
      <enum name="net2startup">
        <value value="2"/>
        <description>
          <text>Configure the configuration file on the server as the next startup configuration file.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Operation type.</text>
    </description>
  </typedef>
  <typedef name="cfg-operation-state">
    <type name="enumeration">
      <enum name="running">
        <value value="1"/>
        <description>
          <text>The operation is being processed.</text>
        </description>
      </enum>
      <enum name="success">
        <value value="2"/>
        <description>
          <text>The operation is successful.</text>
        </description>
      </enum>
      <enum name="invalid-operation">
        <value value="3"/>
        <description>
          <text>Invalid operation.</text>
        </description>
      </enum>
      <enum name="invalid-server-address">
        <value value="4"/>
        <description>
          <text>Invalid server IP address.</text>
        </description>
      </enum>
      <enum name="invalid-source-name">
        <value value="5"/>
        <description>
          <text>Invalid source file name.</text>
        </description>
      </enum>
      <enum name="invalid-dest-name">
        <value value="6"/>
        <description>
          <text>Invalid destination file name.</text>
        </description>
      </enum>
      <enum name="device-busy">
        <value value="7"/>
        <description>
          <text>The device is busy.</text>
        </description>
      </enum>
      <enum name="device-full">
        <value value="8"/>
        <description>
          <text>The disk space of the device is full.</text>
        </description>
      </enum>
      <enum name="file-open-error">
        <value value="9"/>
        <description>
          <text>The file fails to be opened.</text>
        </description>
      </enum>
      <enum name="file-transfer-error">
        <value value="10"/>
        <description>
          <text>The file fails to be transferred.</text>
        </description>
      </enum>
      <enum name="auth-fail">
        <value value="11"/>
        <description>
          <text>The server authentication fails.</text>
        </description>
      </enum>
      <enum name="timeout">
        <value value="12"/>
        <description>
          <text>File transfer timeout.</text>
        </description>
      </enum>
      <enum name="unknown-failure">
        <value value="13"/>
        <description>
          <text>Unknown error.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Operation state.</text>
    </description>
  </typedef>
  <typedef name="command-result">
    <type name="enumeration">
      <enum name="unknown-command">
        <value value="0"/>
        <description>
          <text>The failed reason of a configuration command is unknown command.</text>
        </description>
      </enum>
      <enum name="execute-failed">
        <value value="1"/>
        <description>
          <text>The failed reason of a configuration command is executed failed.</text>
        </description>
      </enum>
      <enum name="execute-timeout">
        <value value="2"/>
        <description>
          <text>The failed reason of a configuration command is executed timeout.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Command result.</text>
    </description>
  </typedef>
  <typedef name="cfg-hwcm-operation-type">
    <type name="enumeration">
      <enum name="running2startup">
        <value value="1"/>
        <description>
          <text>Save the running configuration to the next startup configuration file.</text>
        </description>
      </enum>
      <enum name="startup2running">
        <value value="2"/>
        <description>
          <text>Load the next startup configuration file to the device.</text>
        </description>
      </enum>
      <enum name="running2net">
        <value value="3"/>
        <description>
          <text>Back up the device configuration to a server.</text>
        </description>
      </enum>
      <enum name="net2running">
        <value value="4"/>
        <description>
          <text>Download the configuration file from the server to the device and run it.</text>
        </description>
      </enum>
      <enum name="net2startup">
        <value value="5"/>
        <description>
          <text>Configure the configuration file on the server as the next startup configuration file.</text>
        </description>
      </enum>
      <enum name="startup2net">
        <value value="6"/>
        <description>
          <text>Back up the next startup configuration file to a server.</text>
        </description>
      </enum>
      <enum name="delstartup">
        <value value="7"/>
        <description>
          <text>Delete the next startup configuration file.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>HWCM operation type.</text>
    </description>
  </typedef>
  <typedef name="cfg-service-type">
    <type name="enumeration">
      <enum name="common">
        <value value="0"/>
        <description>
          <text>Common service type.</text>
        </description>
      </enum>
      <enum name="cfg">
        <value value="4"/>
        <description>
          <text>CFG service type.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>File service type.</text>
    </description>
  </typedef>
  <container name="cfg">
    <description>
      <text>Configuration management module.</text>
    </description>
    <container name="autosave">
      <presence value="Enable autosave"/>
      <description>
        <text>Configure used for automatically saving configurations.</text>
      </description>
      <leaf name="interval-time">
        <type name="uint32">
          <range value="30..43200"/>
        </type>
        <units name="min"/>
        <must condition="../interval-time &gt; ../delay-time">
          <error-app-tag value="The interval time must be more than the delay time."/>
        </must>
        <default value="30"/>
        <description>
          <text>The system automatically saves configurations every a specified interval.</text>
        </description>
      </leaf>
      <leaf name="delay-time">
        <type name="uint32">
          <range value="1..60"/>
        </type>
        <units name="min"/>
        <must condition="../interval-time &gt; ../delay-time">
          <error-app-tag value="The interval time must be more than the delay time."/>
        </must>
        <default value="5"/>
        <description>
          <text>When the system configuration changes, the system automatically saves the configuration after a specified delay.</text>
        </description>
      </leaf>
      <leaf name="cpu-limit">
        <type name="uint32">
          <range value="1..100"/>
        </type>
        <default value="50"/>
        <description>
          <text>Upper limit of the CPU usage for automatically saving configurations.</text>
        </description>
      </leaf>
    </container>
    <container name="lock-by-users">
      <description>
        <text>List of lock configuration.</text>
      </description>
      <list name="lock-by-user">
        <key value="lock-username"/>
        <max-elements value="1"/>
        <description>
          <text>Configure lock configuration.</text>
        </description>
        <leaf name="lock-username">
          <type name="string">
            <length value="1..253"/>
          </type>
          <description>
            <text>Name of a user who locks the configuration.</text>
          </description>
        </leaf>
        <leaf name="lock-time">
          <type name="yang:date-and-time"/>
          <config value="false"/>
          <description>
            <text>Time when the configuration is locked.</text>
          </description>
        </leaf>
        <leaf name="identifier">
          <type name="uint32"/>
          <config value="false"/>
          <description>
            <text>Unique ID of a configuration lock.</text>
          </description>
        </leaf>
        <leaf name="unlock-username">
          <type name="string">
            <length value="1..253"/>
          </type>
          <config value="false"/>
          <description>
            <text>Name of a user who unlocks the configuration.</text>
          </description>
        </leaf>
        <leaf name="unlock-time">
          <type name="yang:date-and-time"/>
          <config value="false"/>
          <description>
            <text>Time when the configuration is unlocked.</text>
          </description>
        </leaf>
      </list>
    </container>
    <container name="checkpoints">
      <config value="false"/>
      <description>
        <text>List of all configuration checkpoints in the system.</text>
      </description>
      <list name="checkpoint">
        <key value="commit-id"/>
        <config value="false"/>
        <max-elements value="100"/>
        <description>
          <text>Operational state of configuration checkpoints in the system.</text>
        </description>
        <leaf name="commit-id">
          <type name="string">
            <length value="1..20"/>
          </type>
          <config value="false"/>
          <description>
            <text>Uniquely identify a configuration checkpoint.</text>
          </description>
        </leaf>
        <leaf name="user-label">
          <type name="string">
            <length value="1..256"/>
          </type>
          <config value="false"/>
          <description>
            <text>Label for identifying a configuration checkpoint, which is a character string that does not start with a digit.</text>
          </description>
        </leaf>
        <leaf name="username">
          <type name="string">
            <length value="1..253"/>
          </type>
          <config value="false"/>
          <description>
            <text>Name of the user who committed a configuration to trigger the generation of a configuration checkpoint.</text>
          </description>
        </leaf>
        <leaf name="line">
          <type name="string">
            <length value="1..85"/>
          </type>
          <config value="false"/>
          <description>
            <text>Instance of the terminal accessed by the user who committed a configuration to trigger the generation of a configuration checkpoint.</text>
          </description>
        </leaf>
        <leaf name="client">
          <type name="config-checkpoint-client"/>
          <config value="false"/>
          <description>
            <text>Type of the tool agent accessed by the user who committed a configuration to trigger the generation of a configuration checkpoint.</text>
          </description>
        </leaf>
        <leaf name="timestamp">
          <type name="yang:date-and-time"/>
          <config value="false"/>
          <description>
            <text>Time when a configuration checkpoint was created.</text>
          </description>
        </leaf>
        <leaf name="description">
          <type name="string">
            <length value="1..60"/>
          </type>
          <config value="false"/>
          <description>
            <text>Description of a configuration checkpoint. A user can set a description for a configuration checkpoint to be generated when committing a configuration.</text>
          </description>
        </leaf>
        <container name="current-point-changes">
          <config value="false"/>
          <description>
            <text>List of configuration change information recorded in all configuration checkpoints. List of the configuration change information recorded in each configuration checkpoint is separately displayed.</text>
          </description>
          <list name="current-point-change">
            <key value="index"/>
            <config value="false"/>
            <description>
              <text>Operational state of configuration change between a specified configuration checkpoint and the previous configuration checkpoint.</text>
            </description>
            <leaf name="index">
              <type name="uint32"/>
              <config value="false"/>
              <description>
                <text>Index of a configuration change. A configuration checkpoint records a configuration change after a configuration is committed. Each configuration change is identified by an index.</text>
              </description>
            </leaf>
            <leaf name="config-change">
              <type name="string">
                <length value="1..3200"/>
              </type>
              <config value="false"/>
              <description>
                <text>Configuration change command.</text>
              </description>
            </leaf>
          </list>
        </container>
        <container name="since-point-changes">
          <config value="false"/>
          <description>
            <text>List of configuration changes between a specified configuration checkpoint and the current configuration.</text>
          </description>
          <list name="since-point-change">
            <key value="index"/>
            <config value="false"/>
            <description>
              <text>Operational state of configuration change between a specified configuration checkpoint and the current configuration.</text>
            </description>
            <leaf name="index">
              <type name="uint32"/>
              <config value="false"/>
              <description>
                <text>Index of a configuration change. A configuration checkpoint records a configuration change after a configuration is committed. Each configuration change is identified by an index.</text>
              </description>
            </leaf>
            <leaf name="config-change">
              <type name="string">
                <length value="1..3200"/>
              </type>
              <config value="false"/>
              <description>
                <text>Configuration change command.</text>
              </description>
            </leaf>
          </list>
        </container>
      </list>
    </container>
    <container name="global-switch">
      <description>
        <text>Configure the globally configuration management feature.</text>
      </description>
      <leaf name="configuration-slave-detect-switch">
        <type name="boolean"/>
        <default value="true"/>
        <description>
          <text>Enable/disable function to automatically verify the configurations of the master and slave main control boards.</text>
        </description>
      </leaf>
      <leaf name="appdata-detect-switch">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable function to automatically verify application data.</text>
        </description>
      </leaf>
      <leaf name="checkpoint-switch">
        <type name="boolean"/>
        <default value="true"/>
        <description>
          <text>Enable/disable switch of saving check ponit.</text>
        </description>
      </leaf>
    </container>
    <container name="backup-and-recovery-states">
      <config value="false"/>
      <description>
        <text>List of operation states delivered by the NMS.</text>
      </description>
      <list name="backup-and-recovery-state">
        <key value="index"/>
        <config value="false"/>
        <max-elements value="5"/>
        <description>
          <text>Operational state of a configuration file.</text>
        </description>
        <leaf name="index">
          <type name="uint32">
            <range value="1..2147483647"/>
          </type>
          <config value="false"/>
          <description>
            <text>Operation ID.</text>
          </description>
        </leaf>
        <leaf name="operation-type">
          <type name="cfg-hwcm-operation-type"/>
          <config value="false"/>
          <description>
            <text>Operation type delivered by the NMS.</text>
          </description>
        </leaf>
        <leaf name="state">
          <type name="cfg-operation-state"/>
          <config value="false"/>
          <description>
            <text>Operation result.</text>
          </description>
        </leaf>
        <leaf name="operate-progress">
          <type name="uint32">
            <range value="0..100"/>
          </type>
          <config value="false"/>
          <description>
            <text>Operation progress.</text>
          </description>
        </leaf>
        <leaf name="start-time">
          <type name="yang:date-and-time"/>
          <config value="false"/>
          <description>
            <text>Operation start time.</text>
          </description>
        </leaf>
        <leaf name="last-time">
          <type name="pub-type:time-tick"/>
          <config value="false"/>
          <description>
            <text>Operation end time.</text>
          </description>
        </leaf>
        <leaf name="filename">
          <type name="string">
            <length value="5..64"/>
          </type>
          <config value="false"/>
          <description>
            <text>Name of a configuration file.</text>
          </description>
        </leaf>
        <leaf name="service-type">
          <type name="cfg-service-type"/>
          <config value="false"/>
          <description>
            <text>File service type.</text>
          </description>
        </leaf>
      </list>
    </container>
    <container name="autosave-checkpoint">
      <description>
        <text>Configure start-time for automatically saving checkpoint.</text>
      </description>
      <leaf name="start-time">
        <type name="pub-type:time-hhmm">
          <length value="5"/>
          <pattern value="(([0-1][0-9])|(2[0-3])):[0-5][0-9]"/>
        </type>
        <units name="min"/>
        <default value="02:00"/>
        <description>
          <text>The system automatically save checkpoint at a specified time of the day.</text>
        </description>
      </leaf>
    </container>
    <container name="configuration-operation-cpu-limit">
      <description>
        <text>Configure the CPU supress on configuration operation.</text>
      </description>
      <leaf name="snmp-cpu-limit">
        <when condition="../snmp-switch = 'true'"/>
        <type name="uint32">
          <range value="30..100"/>
        </type>
        <default value="100"/>
        <description>
          <text>CPU usage threshold that triggers rate limiting on users that access through SNMP.</text>
        </description>
      </leaf>
      <leaf name="snmp-switch">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable function of CPU usage-based rate limiting for users that access through SNMP.</text>
        </description>
      </leaf>
      <leaf name="netconf-cpu-limit">
        <when condition="../netconf-switch = 'true'"/>
        <type name="uint32">
          <range value="30..100"/>
        </type>
        <default value="100"/>
        <description>
          <text>CPU usage threshold that triggers rate limiting on users that access through NETCONF.</text>
        </description>
      </leaf>
      <leaf name="netconf-switch">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable function of CPU usage-based rate limiting for users that access through NETCONF.</text>
        </description>
      </leaf>
    </container>
    <container name="backup-servers">
      <description>
        <text>List of backup servers. A maximum of five backup servers can be configured.</text>
      </description>
      <list name="backup-server">
        <key value="server-ip vpn-instance"/>
        <max-elements value="5"/>
        <description>
          <text>Configure backup server used for automatically saving uploaded files.</text>
        </description>
        <leaf name="server-ip">
          <type name="inet:ip-address-no-zone"/>
          <description>
            <text>IP address of the backup server.</text>
          </description>
        </leaf>
        <leaf name="vpn-instance">
          <type name="string">
            <length value="1..31"/>
          </type>
          <description>
            <text>Name of a VPN instance.</text>
          </description>
        </leaf>
        <leaf name="transport-type">
          <type name="cfg-server-type"/>
          <mandatory value="true"/>
          <description>
            <text>Type of the protocol for transporting the backup file.</text>
          </description>
        </leaf>
        <leaf name="username">
          <when condition="not(../transport-type='tftp')"/>
          <type name="string">
            <length value="1..64"/>
          </type>
          <mandatory value="true"/>
          <description>
            <text>User name for connecting the backup server.</text>
          </description>
        </leaf>
        <leaf name="password">
          <when condition="not(../transport-type='tftp')"/>
          <type name="pub-type:password-extend">
            <length value="1..432"/>
          </type>
          <mandatory value="true"/>
          <description>
            <text>Password for connecting the backup server.</text>
          </description>
        </leaf>
        <leaf name="path">
          <type name="string">
            <length value="1..64"/>
          </type>
          <description>
            <text>Path for backing up the configuration file.</text>
          </description>
        </leaf>
        <leaf name="port">
          <when condition="not(../transport-type='tftp')"/>
          <type name="uint16">
            <range value="1..65535"/>
          </type>
          <description>
            <text>Port of a backup server.</text>
          </description>
        </leaf>
      </list>
    </container>
    <container name="startup-infos">
      <config value="false"/>
      <description>
        <text>List of information about system startup.</text>
      </description>
      <list name="startup-info">
        <key value="position"/>
        <config value="false"/>
        <description>
          <text>Operational state of information about a system startup.</text>
        </description>
        <leaf name="position">
          <type name="string">
            <length value="0..32"/>
          </type>
          <config value="false"/>
          <description>
            <text>Position of the device.</text>
          </description>
        </leaf>
        <leaf name="configed-system-software">
          <type name="string">
            <length value="0..255"/>
          </type>
          <config value="false"/>
          <description>
            <text>File name of the system software that is set by users for the current startup.</text>
          </description>
        </leaf>
        <leaf name="current-system-software">
          <type name="string">
            <length value="0..255"/>
          </type>
          <config value="false"/>
          <description>
            <text>File name of the system software that is applied for the current startup.</text>
          </description>
        </leaf>
        <leaf name="next-system-software">
          <type name="string">
            <length value="0..255"/>
          </type>
          <config value="false"/>
          <description>
            <text>File name of the system software that is applied for the next startup.</text>
          </description>
        </leaf>
        <leaf name="current-cfg-file">
          <type name="string">
            <length value="0..255"/>
          </type>
          <config value="false"/>
          <description>
            <text>Name of the configuration file that is applied for the current startup.</text>
          </description>
        </leaf>
        <leaf name="next-cfg-file">
          <type name="string">
            <length value="0..255"/>
          </type>
          <config value="false"/>
          <description>
            <text>Name of the configuration file that is applied for the next startup.</text>
          </description>
        </leaf>
        <leaf name="current-patch-file">
          <type name="string">
            <length value="0..255"/>
          </type>
          <config value="false"/>
          <description>
            <text>Name of the patch file that is applied for the current startup.</text>
          </description>
        </leaf>
        <leaf name="next-patch-file">
          <type name="string">
            <length value="0..255"/>
          </type>
          <config value="false"/>
          <description>
            <text>Name of the patch file that is applied for the next startup.</text>
          </description>
        </leaf>
      </list>
    </container>
    <container name="cfg-files">
      <config value="false"/>
      <description>
        <text>List of configuration files.</text>
      </description>
      <list name="cfg-file">
        <key value="filename"/>
        <config value="false"/>
        <description>
          <text>Operational state of the specified configuration file that a user can set for the next startup or the information about the difference to current configuration.</text>
        </description>
        <leaf name="filename">
          <type name="string">
            <length value="5..64"/>
            <pattern value=".+\.(zip|cfg|dat)"/>
          </type>
          <config value="false"/>
          <description>
            <text>Name of a configuration file.</text>
          </description>
        </leaf>
        <leaf name="size">
          <type name="uint32"/>
          <units name="Byte"/>
          <config value="false"/>
          <description>
            <text>Size of a configuration file.</text>
          </description>
        </leaf>
        <leaf name="create-time">
          <type name="yang:date-and-time"/>
          <config value="false"/>
          <description>
            <text>Time when a configuration file was created, for example, 2010-11-04 20:01:38 +08:00.</text>
          </description>
        </leaf>
        <container name="file-current-changes">
          <config value="false"/>
          <description>
            <text>List of differences between a specified configuration file and the current configuration.</text>
          </description>
          <list name="file-current-change">
            <key value="index"/>
            <config value="false"/>
            <description>
              <text>Operational state of a specified configuration file different with the current configuration.</text>
            </description>
            <leaf name="index">
              <type name="uint32"/>
              <config value="false"/>
              <description>
                <text>Index of the configuration difference. Each configuration difference has an index.</text>
              </description>
            </leaf>
            <leaf name="config-change">
              <type name="string">
                <length value="1..3200"/>
              </type>
              <config value="false"/>
              <description>
                <text>Configuration difference command.</text>
              </description>
            </leaf>
          </list>
        </container>
      </list>
    </container>
    <container name="config-rollback-result">
      <config value="false"/>
      <description>
        <text>Operational state of rollbacking configuration result.</text>
      </description>
      <anydata name="result">
        <description>
          <text>The result of rollbacking configuration.</text>
        </description>
      </anydata>
    </container>
    <container name="config-recover-results">
      <config value="false"/>
      <description>
        <text>List of all configuration restoration results in the system.</text>
      </description>
      <list name="config-recover-result">
        <key value="index"/>
        <config value="false"/>
        <description>
          <text>Operational state of configuration restoration result in the system.</text>
        </description>
        <leaf name="index">
          <type name="uint32"/>
          <config value="false"/>
          <description>
            <text>Index of a configuration command. Each failure command is identified by an index.</text>
          </description>
        </leaf>
        <leaf name="command">
          <type name="string">
            <length value="1..2047"/>
          </type>
          <config value="false"/>
          <description>
            <text>Configure the command that fails to be restored.</text>
          </description>
        </leaf>
        <leaf name="view">
          <type name="string">
            <length value="1..80"/>
          </type>
          <config value="false"/>
          <description>
            <text>View of a command that fails to be restored.</text>
          </description>
        </leaf>
        <leaf name="line">
          <type name="uint32"/>
          <config value="false"/>
          <description>
            <text>Row number of a command that fails to be restored in a file.</text>
          </description>
        </leaf>
        <leaf name="reason">
          <type name="command-result"/>
          <config value="false"/>
          <description>
            <text>Cause of the configuration restoration failure command.</text>
          </description>
        </leaf>
        <leaf name="time">
          <type name="yang:date-and-time"/>
          <config value="false"/>
          <description>
            <text>The command failed to be executed during configuration restoration.</text>
          </description>
        </leaf>
      </list>
    </container>
  </container>
  <rpc name="save">
    <description>
      <text>Save the current configuration to file.</text>
    </description>
    <input>
      <leaf name="filename">
        <type name="string">
          <length value="5..64"/>
        </type>
        <mandatory value="true"/>
        <description>
          <text>Name of a configuration file.</text>
        </description>
      </leaf>
    </input>
  </rpc>
  <rpc name="cfg-file-backup-and-recovery">
    <description>
      <text>Back up the device configuration to a server or restore the configuration from a server to the next startup configuration file of the device.</text>
    </description>
    <input>
      <leaf name="index">
        <type name="uint32">
          <range value="1..2147483647"/>
        </type>
        <mandatory value="true"/>
        <description>
          <text>Operation ID.</text>
        </description>
      </leaf>
      <leaf name="operation-type">
        <type name="cfg-operation-type"/>
        <mandatory value="true"/>
        <description>
          <text>Back up the running configuration of the device to a specified server or restore the configuration from a specified server to the next startup file of the device.</text>
        </description>
      </leaf>
      <leaf name="filename">
        <type name="string">
          <length value="5..128"/>
        </type>
        <description>
          <text>Name of a configuration file.</text>
        </description>
      </leaf>
      <leaf name="transport-type">
        <type name="cfg-server-type"/>
        <mandatory value="true"/>
        <description>
          <text>Type of the protocol for transporting the backup file.</text>
        </description>
      </leaf>
      <leaf name="server-ip">
        <type name="inet:ip-address-no-zone"/>
        <mandatory value="true"/>
        <description>
          <text>Server IP address for backing up the configuration file.</text>
        </description>
      </leaf>
      <leaf name="username">
        <when condition="not(../transport-type='tftp')"/>
        <type name="string">
          <length value="1..85"/>
        </type>
        <description>
          <text>User name for connecting a server, for example, an FTP server.</text>
        </description>
      </leaf>
      <leaf name="password">
        <when condition="not(../transport-type='tftp')"/>
        <type name="pub-type:password"/>
        <description>
          <text>Password for connecting a server, for example, an FTP server.</text>
        </description>
      </leaf>
      <leaf name="vpn-instance">
        <type name="string">
          <length value="1..31"/>
        </type>
        <description>
          <text>Name of a VPN instance.</text>
        </description>
      </leaf>
      <leaf name="use-net-manager-vpn">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Whether a global VPN is used.</text>
        </description>
      </leaf>
    </input>
  </rpc>
  <rpc name="clear-startup">
    <description>
      <text>Cancel the startup file settings. The current and next startup file settings will be empty.</text>
    </description>
    <ext:node-ref value="/cfg/cfg-files/cfg-file"/>
  </rpc>
  <rpc name="clear-interface-config">
    <description>
      <text>Clear configurations on the interface.</text>
    </description>
    <input>
      <leaf name="interface-name">
        <type name="leafref">
          <path value="/ifm:ifm/ifm:interfaces/ifm:interface/ifm:name"/>
        </type>
        <mandatory value="true"/>
        <description>
          <text>Interface name.</text>
        </description>
      </leaf>
    </input>
  </rpc>
  <rpc name="delete-checkpoint-by-oldest-num">
    <description>
      <text>Delete the oldest checkpoints.</text>
    </description>
    <ext:node-ref value="/cfg/checkpoints/checkpoint"/>
    <input>
      <leaf name="checkpoint-num">
        <type name="uint8">
          <range value="1..80"/>
        </type>
        <description>
          <text>Number of configuration checkpoints that are deleted.</text>
        </description>
      </leaf>
    </input>
  </rpc>
  <rpc name="rollback-by-commit-id">
    <description>
      <text>Roll back the system configuration to a specified checkpoint.</text>
    </description>
    <ext:node-ref value="/cfg/checkpoints/checkpoint"/>
    <input>
      <leaf name="commit-id">
        <type name="leafref">
          <path value="/cfg:cfg/cfg:checkpoints/cfg:checkpoint/cfg:commit-id"/>
        </type>
        <description>
          <text>ID of a configuration checkpoint.</text>
        </description>
      </leaf>
    </input>
  </rpc>
  <rpc name="rollback-by-user-label">
    <description>
      <text>Roll back the system configuration to a specified checkpoint by user label.</text>
    </description>
    <ext:node-ref value="/cfg/checkpoints/checkpoint"/>
    <input>
      <leaf name="commit-id">
        <type name="leafref">
          <path value="/cfg:cfg/cfg:checkpoints/cfg:checkpoint/cfg:commit-id"/>
        </type>
        <description>
          <text>ID of a configuration checkpoint.</text>
        </description>
      </leaf>
      <leaf name="user-label">
        <type name="leafref">
          <path value="/cfg:cfg/cfg:checkpoints/cfg:checkpoint/cfg:user-label"/>
        </type>
        <description>
          <text>Label of a configuration checkpoint.</text>
        </description>
      </leaf>
    </input>
  </rpc>
  <rpc name="rollback-by-last-num">
    <description>
      <text>Roll back the configurations of several checkpoints.</text>
    </description>
    <ext:node-ref value="/cfg/checkpoints/checkpoint"/>
    <input>
      <leaf name="checkpoint-num">
        <type name="uint8">
          <range value="1..80"/>
        </type>
        <description>
          <text>Number of configuration checkpoints that are rolled back.</text>
        </description>
      </leaf>
    </input>
  </rpc>
  <rpc name="rollback-by-file">
    <description>
      <text>Replace the configuration with a specified configuration file.</text>
    </description>
    <ext:node-ref value="/cfg/cfg-files/cfg-file"/>
    <input>
      <leaf name="filename">
        <type name="leafref">
          <path value="/cfg:cfg/cfg:cfg-files/cfg:cfg-file/cfg:filename"/>
        </type>
        <mandatory value="true"/>
        <description>
          <text>Name of a configuration file.</text>
        </description>
      </leaf>
    </input>
  </rpc>
  <rpc name="save-all-virtual-systems">
    <description>
      <text>Saving all virtual-systems to the next startup file.</text>
    </description>
  </rpc>
  <rpc name="set-startup">
    <description>
      <text>Configure an existing configuration file as the startup file.</text>
    </description>
    <ext:node-ref value="/cfg/cfg-files/cfg-file"/>
    <input>
      <leaf name="filename">
        <type name="leafref">
          <path value="/cfg:cfg/cfg:cfg-files/cfg:cfg-file/cfg:filename"/>
        </type>
        <mandatory value="true"/>
        <description>
          <text>Name of a configuration file.</text>
        </description>
      </leaf>
    </input>
  </rpc>
  <rpc name="set-user-label-by-commit-id">
    <description>
      <text>Set the user label of a specified configuration checkpoint.</text>
    </description>
    <ext:node-ref value="/cfg/checkpoints/checkpoint"/>
    <input>
      <leaf name="commit-id">
        <type name="leafref">
          <path value="/cfg:cfg/cfg:checkpoints/cfg:checkpoint/cfg:commit-id"/>
        </type>
        <mandatory value="true"/>
        <description>
          <text>ID of a configuration checkpoint.</text>
        </description>
      </leaf>
      <leaf name="user-label">
        <type name="string">
          <length value="1..256"/>
          <pattern value=".*[^\s]+.*"/>
        </type>
        <mandatory value="true"/>
        <description>
          <text>Label of a configuration checkpoint.</text>
        </description>
      </leaf>
    </input>
  </rpc>
  <rpc name="create-user-label-checkpoint">
    <description>
      <text>Create the checkpoint of a specified label.</text>
    </description>
    <ext:node-ref value="/cfg/checkpoints/checkpoint"/>
    <input>
      <leaf name="user-label">
        <type name="string">
          <length value="1..256"/>
          <pattern value=".*[^\s]+.*"/>
        </type>
        <mandatory value="true"/>
        <description>
          <text>Label of a configuration checkpoint.</text>
        </description>
      </leaf>
      <leaf name="description">
        <type name="string">
          <length value="1..60"/>
        </type>
        <description>
          <text>Description of a configuration checkpoint.</text>
        </description>
      </leaf>
    </input>
  </rpc>
  <rpc name="delete-user-label-checkpoint">
    <description>
      <text>Delete the checkpoint of a specified label.</text>
    </description>
    <ext:node-ref value="/cfg/checkpoints/checkpoint"/>
    <input>
      <leaf name="commit-id">
        <type name="leafref">
          <path value="/cfg:cfg/cfg:checkpoints/cfg:checkpoint/cfg:commit-id"/>
        </type>
        <description>
          <text>ID of a configuration checkpoint.</text>
        </description>
      </leaf>
    </input>
  </rpc>
</module>
