<?xml version="1.0" encoding="UTF-8"?>
<module name="huawei-flowspec-forward"
        xmlns="urn:ietf:params:xml:ns:yang:yin:1"
        xmlns:flowspec-forward="urn:huawei:yang:huawei-flowspec-forward"
        xmlns:ifm="urn:huawei:yang:huawei-ifm"
        xmlns:devm="urn:huawei:yang:huawei-devm"
        xmlns:ext="urn:huawei:yang:huawei-extension">
  <namespace uri="urn:huawei:yang:huawei-flowspec-forward"/>
  <prefix value="flowspec-forward"/>
  <import module="huawei-ifm">
    <prefix value="ifm"/>
  </import>
  <import module="huawei-devm">
    <prefix value="devm"/>
  </import>
  <import module="huawei-extension">
    <prefix value="ext"/>
  </import>
  <organization>
    <text>Huawei Technologies Co., Ltd.</text>
  </organization>
  <contact>
    <text>Huawei Industrial Base
Bantian, Longgang
Shenzhen 518129
People's Republic of China
Website: http://www.huawei.com
Email: support@huawei.com</text>
  </contact>
  <description>
    <text>Flowspec-forward.</text>
  </description>
  <revision date="2020-03-12">
    <description>
      <text>Descriptive optimization.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2020-02-25">
    <description>
      <text>The modifications in the schema file are synchronized to the YANG file.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2019-12-31">
    <description>
      <text>The modifications in the schema file are synchronized to the YANG file.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2019-11-18">
    <description>
      <text>The modifications in the schema file are synchronized to the YANG file.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2019-10-24">
    <description>
      <text>The modifications in the schema file are synchronized to the YANG file.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2019-04-20">
    <description>
      <text>Initial revision.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <ext:task-name value="qos"/>
  <container name="flowspec-forward">
    <description>
      <text>Configure flowspec forward.</text>
    </description>
    <leaf name="statistic-enable">
      <type name="boolean"/>
      <default value="false"/>
      <description>
        <text>Enable/disable flowspec statistic.</text>
      </description>
    </leaf>
    <leaf name="vxlan-packet-enable">
      <type name="boolean"/>
      <default value="false"/>
      <description>
        <text>Enable/disable flowspec only for the vxlan packet.</text>
      </description>
    </leaf>
    <leaf name="match-ip-layer">
      <type name="boolean"/>
      <default value="false"/>
      <description>
        <text>Enable/disable flowspec only for the IP layer.</text>
      </description>
    </leaf>
    <container name="protocol-protect-disables">
      <description>
        <text>List of flowspec protocol-protect disable.</text>
      </description>
      <list name="protocol-protect-disable">
        <key value="flow-type"/>
        <description>
          <text>Configure protocol-protect disable instance.</text>
        </description>
        <leaf name="flow-type">
          <type name="enumeration">
            <enum name="ipv4">
              <value value="0"/>
              <description>
                <text>Protocol-protect disable IPv4.</text>
              </description>
            </enum>
            <enum name="ipv6">
              <value value="1"/>
              <description>
                <text>Protocol-protect disable IPv6.</text>
              </description>
            </enum>
          </type>
          <description>
            <text>BGP protocol-protect disable flowtype, The value all is mutually exclusive with IPv4 and IPv6.</text>
          </description>
        </leaf>
      </list>
    </container>
  </container>
  <augment target-node="/ifm:ifm/ifm:interfaces/ifm:interface">
    <description>
      <text>Flowspec forward.</text>
    </description>
    <container name="flowspec-forward">
      <description>
        <text>Configure flowspec forward.</text>
      </description>
      <container name="refluence">
        <presence value="create flowspec refluence"/>
        <description>
          <text>Enable/disable flowspec refluence.</text>
        </description>
      </container>
      <container name="tunnel-pop">
        <presence value="create tunnel-pop"/>
        <description>
          <text>Enable/disable flowspec after tunnel pop.</text>
        </description>
      </container>
      <container name="disables">
        <when condition="not(../refluence) and ../../ifm:class='main-interface'"/>
        <description>
          <text>List of flowspec disables.</text>
        </description>
        <list name="disable">
          <key value="flow-type"/>
          <description>
            <text>Configure flowspec disable instance.</text>
          </description>
          <leaf name="flow-type">
            <type name="enumeration">
              <enum name="ipv4">
                <value value="1"/>
                <description>
                  <text>Flowspec disable IPv4.</text>
                </description>
              </enum>
              <enum name="ipv6">
                <value value="2"/>
                <description>
                  <text>Flowspec disable IPv6.</text>
                </description>
              </enum>
            </type>
            <description>
              <text>BGP flowspec disable flowtype, The value all is mutually exclusive with IPv4 and IPv6.</text>
            </description>
          </leaf>
        </list>
      </container>
    </container>
  </augment>
  <augment target-node="/devm:devm/devm:lpu-boards/devm:lpu-board">
    <description>
      <text>Flowspec forward.</text>
    </description>
    <container name="flowspec-forward">
      <description>
        <text>Configure flowspec forward.</text>
      </description>
      <container name="ipv6-flowspec-enable">
        <presence value="ipv6-flowspec-enable"/>
        <description>
          <text>Enable/disable IPv6-flowspec, if want to support IPv6 flowspec, then IPv6-flowspec-enable must be configured under 5880 board.</text>
        </description>
      </container>
    </container>
  </augment>
</module>
