<?xml version="1.0" encoding="UTF-8"?>
<submodule name="openconfig-bgp-global"
           xmlns="urn:ietf:params:xml:ns:yang:yin:1"
           xmlns:oc-bgp="http://openconfig.net/yang/bgp"
           xmlns:oc-ext="http://openconfig.net/yang/openconfig-ext"
           xmlns:oc-yang="http://openconfig.net/yang/types/yang"
           xmlns:oc-inet="http://openconfig.net/yang/types/inet">
  <belongs-to module="openconfig-bgp">
    <prefix value="oc-bgp"/>
  </belongs-to>
  <import module="openconfig-extensions">
    <prefix value="oc-ext"/>
  </import>
  <import module="openconfig-yang-types">
    <prefix value="oc-yang"/>
  </import>
  <import module="openconfig-inet-types">
    <prefix value="oc-inet"/>
  </import>
  <include module="openconfig-bgp-common"/>
  <include module="openconfig-bgp-common-multiprotocol"/>
  <include module="openconfig-bgp-peer-group"/>
  <include module="openconfig-bgp-common-structure"/>
  <organization>
    <text>OpenConfig working group</text>
  </organization>
  <contact>
    <text>OpenConfig working group
netopenconfig@googlegroups.com</text>
  </contact>
  <description>
    <text>This sub-module contains groupings that are specific to the
global context of the OpenConfig BGP module</text>
  </description>
  <oc-ext:openconfig-version semver="6.0.0"/>
  <revision date="2019-07-10">
    <description>
      <text>Normalise timestamp units to nanoseconds.</text>
    </description>
    <reference>
      <text>6.0.0</text>
    </reference>
  </revision>
  <revision date="2019-05-28">
    <description>
      <text>Clarify prefix counter descriptions, add received-pre-policy
counter.</text>
    </description>
    <reference>
      <text>5.2.0</text>
    </reference>
  </revision>
  <revision date="2019-04-16">
    <description>
      <text>Add BGP RIB to the top-level BGP container</text>
    </description>
    <reference>
      <text>5.1.0</text>
    </reference>
  </revision>
  <revision date="2018-11-21">
    <description>
      <text>Add OpenConfig module metadata extensions.</text>
    </description>
    <reference>
      <text>5.0.2</text>
    </reference>
  </revision>
  <revision date="2018-08-20">
    <description>
      <text>Correct description of AFI-SAFI enabled leaf.</text>
    </description>
    <reference>
      <text>5.0.1</text>
    </reference>
  </revision>
  <revision date="2018-04-11">
    <description>
      <text>Correct naming of BGP maximum prefix warning percentage leaf.</text>
    </description>
    <reference>
      <text>5.0.0</text>
    </reference>
  </revision>
  <revision date="2018-03-20">
    <description>
      <text>Added SR-TE policy SAFI</text>
    </description>
    <reference>
      <text>4.1.0</text>
    </reference>
  </revision>
  <revision date="2017-07-10">
    <description>
      <text>Add error notifications; moved add-paths config; add AS
prepend policy features; removed unneeded config leaves</text>
    </description>
    <reference>
      <text>4.0.0</text>
    </reference>
  </revision>
  <revision date="2017-02-02">
    <description>
      <text>Bugfix to remove remaining global-level policy data</text>
    </description>
    <reference>
      <text>3.0.1</text>
    </reference>
  </revision>
  <revision date="2017-01-26">
    <description>
      <text>Add dynamic neighbor support, migrate to OpenConfig types</text>
    </description>
    <reference>
      <text>3.0.0</text>
    </reference>
  </revision>
  <revision date="2016-06-21">
    <description>
      <text>OpenConfig BGP refactor</text>
    </description>
    <reference>
      <text>2.1.1</text>
    </reference>
  </revision>
  <grouping name="bgp-global-config">
    <description>
      <text>Global configuration options for the BGP router.</text>
    </description>
    <leaf name="as">
      <type name="oc-inet:as-number"/>
      <mandatory value="true"/>
      <description>
        <text>Local autonomous system number of the router.  Uses
the 32-bit as-number type from the model in RFC 6991.</text>
      </description>
    </leaf>
    <leaf name="router-id">
      <type name="oc-yang:dotted-quad"/>
      <description>
        <text>Router id of the router - an unsigned 32-bit integer
expressed in dotted quad notation.</text>
      </description>
      <reference>
        <text>RFC4271 - A Border Gateway Protocol 4 (BGP-4),
Section 4.2</text>
      </reference>
    </leaf>
  </grouping>
  <grouping name="bgp-global-state">
    <description>
      <text>Operational state parameters for the BGP neighbor</text>
    </description>
    <uses name="bgp-common-state"/>
  </grouping>
  <grouping name="bgp-global-default-route-distance-config">
    <description>
      <text>Configuration options relating to the administrative distance
(or preference) assigned to routes received from different
sources (external, internal, and local).</text>
    </description>
    <leaf name="external-route-distance">
      <type name="uint8">
        <range value="1..255"/>
      </type>
      <description>
        <text>Administrative distance for routes learned from external
BGP (eBGP).</text>
      </description>
    </leaf>
    <leaf name="internal-route-distance">
      <type name="uint8">
        <range value="1..255"/>
      </type>
      <description>
        <text>Administrative distance for routes learned from internal
BGP (iBGP).</text>
      </description>
    </leaf>
  </grouping>
  <grouping name="bgp-global-confederation-config">
    <description>
      <text>Configuration options specifying parameters when the local
router is within an autonomous system which is part of a BGP
confederation.</text>
    </description>
    <leaf name="identifier">
      <type name="oc-inet:as-number"/>
      <description>
        <text>Confederation identifier for the autonomous system.
Setting the identifier indicates that the local-AS is part
of a BGP confederation.</text>
      </description>
    </leaf>
    <leaf-list name="member-as">
      <type name="oc-inet:as-number"/>
      <description>
        <text>Remote autonomous systems that are to be treated
as part of the local confederation.</text>
      </description>
    </leaf-list>
  </grouping>
  <grouping name="bgp-global-dynamic-neighbors">
    <description>
      <text>Grouping containing configuration relating to dynamic peers.</text>
    </description>
    <container name="dynamic-neighbor-prefixes">
      <description>
        <text>A list of IP prefixes from which the system should:
 - Accept connections to the BGP daemon
 - Dynamically configure a BGP neighbor corresponding to the
   source address of the remote system, using the parameters
   of the specified peer-group.
For such neighbors, an entry within the neighbor list should
be created, indicating that the peer was dynamically
configured, and referencing the peer-group from which the
configuration was derived.</text>
      </description>
      <list name="dynamic-neighbor-prefix">
        <key value="prefix"/>
        <description>
          <text>An individual prefix from which dynamic neighbor
connections are allowed.</text>
        </description>
        <leaf name="prefix">
          <type name="leafref">
            <path value="../config/prefix"/>
          </type>
          <description>
            <text>Reference to the IP prefix from which source connections
are allowed for the dynamic neighbor group.</text>
          </description>
        </leaf>
        <container name="config">
          <description>
            <text>Configuration parameters relating to the source prefix
for the dynamic BGP neighbor connections.</text>
          </description>
          <uses name="bgp-global-dynamic-neighbor-config"/>
        </container>
        <container name="state">
          <config value="false"/>
          <description>
            <text>Operational state parameters relating to the source
prefix for the dynamic BGP neighbor connections.</text>
          </description>
          <uses name="bgp-global-dynamic-neighbor-config"/>
        </container>
      </list>
    </container>
  </grouping>
  <grouping name="bgp-global-dynamic-neighbor-config">
    <description>
      <text>Configuration parameters relating to an individual prefix from
which dynamic neighbors are accepted.</text>
    </description>
    <leaf name="prefix">
      <type name="oc-inet:ip-prefix"/>
      <description>
        <text>The IP prefix within which the source address of the remote
BGP speaker must fall to be considered eligible to the
dynamically configured.</text>
      </description>
    </leaf>
    <leaf name="peer-group">
      <type name="leafref">
        <path value="../../../../../peer-groups/peer-group/config/peer-group-name"/>
      </type>
      <description>
        <text>The peer-group within which the dynamic neighbor will be
configured.  The configuration parameters used for the dynamic
neighbor are those specified within the referenced peer
group.</text>
      </description>
    </leaf>
  </grouping>
  <grouping name="bgp-global-mp-all-afi-safi-list-contents">
    <description>
      <text>A grouping used for contents of the list of AFI-SAFI
entries at the global BGP level.</text>
    </description>
    <uses name="bgp-common-mp-ipv4-unicast-group"/>
    <uses name="bgp-common-mp-ipv6-unicast-group"/>
    <uses name="bgp-common-mp-ipv4-labeled-unicast-group"/>
    <uses name="bgp-common-mp-ipv6-labeled-unicast-group"/>
    <uses name="bgp-common-mp-l3vpn-ipv4-unicast-group"/>
    <uses name="bgp-common-mp-l3vpn-ipv6-unicast-group"/>
    <uses name="bgp-common-mp-l3vpn-ipv4-multicast-group"/>
    <uses name="bgp-common-mp-l3vpn-ipv6-multicast-group"/>
    <uses name="bgp-common-mp-l2vpn-vpls-group"/>
    <uses name="bgp-common-mp-l2vpn-evpn-group"/>
    <uses name="bgp-common-mp-srte-policy-ipv4-group"/>
    <uses name="bgp-common-mp-srte-policy-ipv6-group"/>
  </grouping>
  <grouping name="bgp-global-afi-safi-list">
    <description>
      <text>List of address-families associated with the BGP instance</text>
    </description>
    <list name="afi-safi">
      <key value="afi-safi-name"/>
      <description>
        <text>AFI,SAFI configuration available for the
neighbour or group</text>
      </description>
      <leaf name="afi-safi-name">
        <type name="leafref">
          <path value="../config/afi-safi-name"/>
        </type>
        <description>
          <text>Reference to the AFI-SAFI name used as a key
for the AFI-SAFI list</text>
        </description>
      </leaf>
      <container name="config">
        <description>
          <text>Configuration parameters for the AFI-SAFI</text>
        </description>
        <uses name="bgp-common-mp-afi-safi-config"/>
      </container>
      <container name="state">
        <config value="false"/>
        <description>
          <text>State information relating to the AFI-SAFI</text>
        </description>
        <uses name="bgp-common-mp-afi-safi-config"/>
        <uses name="bgp-common-state"/>
      </container>
      <container name="graceful-restart">
        <description>
          <text>Parameters relating to BGP graceful-restart</text>
        </description>
        <container name="config">
          <description>
            <text>Configuration options for BGP graceful-restart</text>
          </description>
          <uses name="bgp-common-mp-afi-safi-graceful-restart-config"/>
        </container>
        <container name="state">
          <config value="false"/>
          <description>
            <text>State information for BGP graceful-restart</text>
          </description>
          <uses name="bgp-common-mp-afi-safi-graceful-restart-config"/>
        </container>
      </container>
      <uses name="bgp-common-route-selection-options"/>
      <uses name="bgp-common-global-group-use-multiple-paths"/>
      <uses name="bgp-common-structure-neighbor-group-add-paths"/>
      <uses name="bgp-global-mp-all-afi-safi-list-contents"/>
    </list>
  </grouping>
  <grouping name="bgp-global-base">
    <description>
      <text>Global configuration parameters for the BGP router</text>
    </description>
    <container name="config">
      <description>
        <text>Configuration parameters relating to the global BGP router</text>
      </description>
      <uses name="bgp-global-config"/>
    </container>
    <container name="state">
      <config value="false"/>
      <description>
        <text>State information relating to the global BGP router</text>
      </description>
      <uses name="bgp-global-config"/>
      <uses name="bgp-global-state"/>
    </container>
    <container name="default-route-distance">
      <description>
        <text>Administrative distance (or preference) assigned to
routes received from different sources
(external, internal, and local).</text>
      </description>
      <container name="config">
        <description>
          <text>Configuration parameters relating to the default route
distance</text>
        </description>
        <uses name="bgp-global-default-route-distance-config"/>
      </container>
      <container name="state">
        <config value="false"/>
        <description>
          <text>State information relating to the default route distance</text>
        </description>
        <uses name="bgp-global-default-route-distance-config"/>
      </container>
    </container>
    <container name="confederation">
      <description>
        <text>Parameters indicating whether the local system acts as part
of a BGP confederation</text>
      </description>
      <container name="config">
        <description>
          <text>Configuration parameters relating to BGP confederations</text>
        </description>
        <uses name="bgp-global-confederation-config"/>
      </container>
      <container name="state">
        <config value="false"/>
        <description>
          <text>State information relating to the BGP confederations</text>
        </description>
        <uses name="bgp-global-confederation-config"/>
      </container>
    </container>
    <container name="graceful-restart">
      <description>
        <text>Parameters relating the graceful restart mechanism for BGP</text>
      </description>
      <container name="config">
        <description>
          <text>Configuration parameters relating to graceful-restart</text>
        </description>
        <uses name="bgp-common-graceful-restart-config"/>
      </container>
      <container name="state">
        <config value="false"/>
        <description>
          <text>State information associated with graceful-restart</text>
        </description>
        <uses name="bgp-common-graceful-restart-config"/>
      </container>
    </container>
    <uses name="bgp-common-global-group-use-multiple-paths"/>
    <uses name="bgp-common-route-selection-options"/>
    <container name="afi-safis">
      <description>
        <text>Address family specific configuration</text>
      </description>
      <uses name="bgp-global-afi-safi-list"/>
    </container>
    <uses name="bgp-global-dynamic-neighbors"/>
  </grouping>
</submodule>
