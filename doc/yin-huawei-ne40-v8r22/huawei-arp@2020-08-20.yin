<?xml version="1.0" encoding="UTF-8"?>
<module name="huawei-arp"
        xmlns="urn:ietf:params:xml:ns:yang:yin:1"
        xmlns:arp="urn:huawei:yang:huawei-arp"
        xmlns:bd="urn:huawei:yang:huawei-bd"
        xmlns:ext="urn:huawei:yang:huawei-extension"
        xmlns:ifm="urn:huawei:yang:huawei-ifm"
        xmlns:inet="urn:ietf:params:xml:ns:yang:ietf-inet-types"
        xmlns:ip="urn:huawei:yang:huawei-ip"
        xmlns:pub-type="urn:huawei:yang:huawei-pub-type"
        xmlns:ni="urn:huawei:yang:huawei-network-instance"
        xmlns:ifm-trunk="urn:huawei:yang:huawei-ifm-trunk"
        xmlns:l3vpn="urn:huawei:yang:huawei-l3vpn"
        xmlns:ethernet="urn:huawei:yang:huawei-ethernet">
  <namespace uri="urn:huawei:yang:huawei-arp"/>
  <prefix value="arp"/>
  <import module="huawei-bd">
    <prefix value="bd"/>
  </import>
  <import module="huawei-extension">
    <prefix value="ext"/>
  </import>
  <import module="huawei-ifm">
    <prefix value="ifm"/>
  </import>
  <import module="ietf-inet-types">
    <prefix value="inet"/>
  </import>
  <import module="huawei-ip">
    <prefix value="ip"/>
  </import>
  <import module="huawei-pub-type">
    <prefix value="pub-type"/>
  </import>
  <import module="huawei-network-instance">
    <prefix value="ni"/>
  </import>
  <import module="huawei-ifm-trunk">
    <prefix value="ifm-trunk"/>
  </import>
  <import module="huawei-l3vpn">
    <prefix value="l3vpn"/>
  </import>
  <import module="huawei-ethernet">
    <prefix value="ethernet"/>
  </import>
  <organization>
    <text>Huawei Technologies Co., Ltd.</text>
  </organization>
  <contact>
    <text>Huawei Industrial Base
Bantian, Longgang
Shenzhen 518129
People's Republic of China
Website: http://www.huawei.com
Email: support@huawei.com</text>
  </contact>
  <description>
    <text>Address resolution protocol (ARP) management, which includes static ARP configuration, dynamic ARP learning, ARP security configuration, ARP entry query, and packet statistics collection.</text>
  </description>
  <revision date="2020-08-20">
    <description>
      <text>Add ARP smart discover configuration.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2020-03-13">
    <description>
      <text>Modify description.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2020-03-04">
    <description>
      <text>Add the leaf broadcast-max-num.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <revision date="2020-01-13">
    <description>
      <text>Initial revision.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <ext:task-name value="arp"/>
  <typedef name="arpstrict-learn">
    <type name="enumeration">
      <enum name="force-disable">
        <value value="1"/>
        <description>
          <text>Disable strict ARP learning on an interface.</text>
        </description>
      </enum>
      <enum name="force-enable">
        <value value="2"/>
        <description>
          <text>Enable strict ARP learning on an interface.</text>
        </description>
      </enum>
      <enum name="trust">
        <value value="3"/>
        <description>
          <text>Enable an interface to use global strict ARP learning policies if strict ARP learning is not enabled on the interface.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Whether to enable strict ARP learning.</text>
    </description>
  </typedef>
  <typedef name="arpgratuitous-send">
    <type name="enumeration">
      <enum name="enable">
        <value value="2"/>
        <description>
          <text>Enable gratuitous ARP on interface.</text>
        </description>
      </enum>
      <enum name="disable">
        <value value="3"/>
        <description>
          <text>Disable gratuitous ARP on interface.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Whether to enable gratuitous ARP.</text>
    </description>
  </typedef>
  <typedef name="suppress-type">
    <type name="enumeration">
      <enum name="arp">
        <value value="1"/>
        <description>
          <text>Timestamp suppression performed on an interface board for ARP packets.</text>
        </description>
      </enum>
      <enum name="arp-miss">
        <value value="2"/>
        <description>
          <text>Timestamp suppression performed on an interface board for ARP miss packets.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>ARP suppression based on ARP message type.</text>
    </description>
  </typedef>
  <typedef name="suppress-ip-type">
    <type name="enumeration">
      <enum name="dest-ip">
        <value value="1"/>
        <description>
          <text>Based on destination IP timestamp suppression.</text>
        </description>
      </enum>
      <enum name="src-ip">
        <value value="2"/>
        <description>
          <text>Based on source IP timestamp suppression.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>ARP suppression based on IP address type.</text>
    </description>
  </typedef>
  <typedef name="arpstyle-type">
    <type name="enumeration">
      <enum name="static-arp">
        <value value="1"/>
        <description>
          <text>Static ARP entry.</text>
        </description>
      </enum>
      <enum name="dynamic-arp">
        <value value="2"/>
        <description>
          <text>Dynamic ARP entry.</text>
        </description>
      </enum>
      <enum name="backup-arp">
        <value value="3"/>
        <description>
          <text>Remote backup ARP entry.</text>
        </description>
      </enum>
      <enum name="interface-arp">
        <value value="4"/>
        <description>
          <text>Interface ARP entry.</text>
        </description>
      </enum>
      <enum name="openflow-arp">
        <value value="5"/>
        <description>
          <text>ARP entry generated based on the openflow table.</text>
        </description>
      </enum>
      <enum name="redirect-arp">
        <value value="6"/>
        <description>
          <text>Redirect ARP.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>Type of an ARP entry.</text>
    </description>
  </typedef>
  <typedef name="detect-mode">
    <type name="enumeration">
      <enum name="loose">
        <value value="0"/>
        <description>
          <text>In loose mode, an interface sends ARP probe messages only when both the physical status and protocol status are up.</text>
        </description>
      </enum>
      <enum name="strict">
        <value value="1"/>
        <description>
          <text>In strict mode, an interface sends ARP probe messages when the physical status is up.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>The detect mode of an interface sending ARP probe messages.</text>
    </description>
  </typedef>
  <typedef name="arpclear-type">
    <type name="enumeration">
      <enum name="dynamic-arp">
        <value value="1"/>
        <description>
          <text>Dynamic ARP entries.</text>
        </description>
      </enum>
      <enum name="backup-arp">
        <value value="2"/>
        <description>
          <text>Remote backup ARP entries.</text>
        </description>
      </enum>
    </type>
    <description>
      <text>The clear type of ARP entries.</text>
    </description>
  </typedef>
  <container name="arp">
    <description>
      <text>Address resolution protocol (ARP) management, which includes static ARP configuration, dynamic ARP learning, ARP security configuration, ARP entry query, and packet statistics collection.</text>
    </description>
    <container name="global">
      <description>
        <text>Configure ARP system information.</text>
      </description>
      <leaf name="strict-learn-enable">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable strict ARP learning so that a device learns only address information carried in the ARP reply messages in response to the ARP Request messages sent by itself.</text>
        </description>
      </leaf>
      <leaf name="l2topo-detect-enable">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable L2 topology probe. After a L2 interface goes up, the device updates all ARP entries corresponding to the VLAN to which the L2 interface belongs.</text>
        </description>
      </leaf>
      <leaf name="rate-trap-interval">
        <type name="uint32">
          <range value="0..1200"/>
        </type>
        <units name="s"/>
        <default value="0"/>
        <description>
          <text>Interval at which ARP logs and traps are recorded. If the value is 0, logs and traps are not recorded.</text>
        </description>
      </leaf>
      <leaf name="passive-learn-enable">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable passive ARP learning. After the backup device in a VRRP backup group receives an ARP request message destined for the virtual IP address, the backup device learns the ARP entry of the requester.</text>
        </description>
      </leaf>
      <leaf name="topo-detect-disable">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable topology change disable.</text>
        </description>
      </leaf>
      <leaf name="con-send-enable">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable ARP packet sending at a limited rate.</text>
        </description>
      </leaf>
      <leaf name="con-send-maxnum">
        <when condition="../con-send-enable='true'"/>
        <type name="uint16">
          <range value="1..10"/>
        </type>
        <default value="5"/>
        <description>
          <text>Maximum packet sending rate, expressed in the number of packets send every 10 ms.</text>
        </description>
      </leaf>
      <leaf name="gratuitous-drop">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable the function to discard gratuitous ARP packets.</text>
        </description>
      </leaf>
      <leaf name="ipconflict-detect-enable">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable IP address conflict check.</text>
        </description>
      </leaf>
      <leaf name="vlanif-expiretime">
        <type name="uint32">
          <range value="60..86400"/>
        </type>
        <units name="s"/>
        <default value="1200"/>
        <description>
          <text>Aging time of a dynamic ARP entry of VLAN interface.</text>
        </description>
      </leaf>
      <leaf name="host-conflict-period">
        <type name="uint16">
          <range value="2..36000"/>
        </type>
        <units name="s"/>
        <default value="180"/>
        <description>
          <text>Period configurations for the host conflict.</text>
        </description>
      </leaf>
      <leaf name="host-conflict-threshold">
        <type name="uint16">
          <range value="1..1000"/>
        </type>
        <default value="5"/>
        <description>
          <text>Retry times configurations for the host conflict.</text>
        </description>
      </leaf>
      <leaf name="broadcast-max-num">
        <type name="uint16">
          <range value="0..3000"/>
        </type>
        <default value="500"/>
        <description>
          <text>Broadcast send max number.</text>
        </description>
      </leaf>
      <leaf name="dfs-backup-rate">
        <type name="uint32">
          <range value="1..65535"/>
        </type>
        <units name="s"/>
        <description>
          <text>ARP backup rate limit.</text>
        </description>
        <ext:dynamic-default/>
      </leaf>
      <leaf name="smart-discover-interval">
        <type name="uint16">
          <range value="1..60"/>
        </type>
        <units name="s"/>
        <default value="1"/>
        <description>
          <text>Set the interval for sending ARP probe packets.</text>
        </description>
      </leaf>
      <leaf name="smart-discover-count">
        <type name="uint16">
          <range value="1..512"/>
        </type>
        <must condition="((../smart-discover-count) = 1) or ((../smart-discover-count) mod 8 = 0)"/>
        <default value="128"/>
        <description>
          <text>Set the number of ARP probe packets sent in each interval. The count is an integer that ranges from 1 to 512 with the step of 8. For example, the value can be 1, 8, 16.</text>
        </description>
      </leaf>
    </container>
    <container name="speed-limits">
      <description>
        <text>List of timestamp suppression rate at which an interface board suppresses ARP messages.</text>
      </description>
      <list name="speed-limit">
        <key value="slot-id suppress-type ip-type"/>
        <description>
          <text>Configure timestamp suppression rate at which an interface board suppresses ARP messages.</text>
        </description>
        <leaf name="slot-id">
          <type name="string">
            <length value="1..24"/>
          </type>
          <description>
            <text>Slot ID, which refers to the position of logical MPU board and physical LPU boards. When Slot ID refering MPU board, the value of slot-id is 0.</text>
          </description>
        </leaf>
        <leaf name="suppress-type">
          <type name="suppress-type"/>
          <must condition="(../suppress-type='arp' and (../ip-type='dest-ip' or ../ip-type='src-ip')) or (../suppress-type='arp-miss' and ../ip-type='src-ip')"/>
          <description>
            <text>Suppression type. The available options are ARP and ARP miss.</text>
          </description>
        </leaf>
        <leaf name="ip-type">
          <type name="suppress-ip-type"/>
          <must condition="(../suppress-type='arp' and (../ip-type='dest-ip' or ../ip-type='src-ip')) or (../suppress-type='arp-miss' and ../ip-type='src-ip')"/>
          <description>
            <text>Suppression type based on IP addresses. The available options are destination IP suppression and source IP suppression. Destination IP suppression maps to ARP suppression. Source IP suppression maps to ARP miss suppression.</text>
          </description>
        </leaf>
        <leaf name="suppress-value">
          <type name="uint32">
            <range value="0..65536"/>
          </type>
          <mandatory value="true"/>
          <description>
            <text>Number of ARP messages or ARP miss messages that an interface can process in a specified period.</text>
          </description>
        </leaf>
      </list>
    </container>
    <container name="static-arps">
      <description>
        <text>List of short static ARP configurations, not depend on the interface.</text>
      </description>
      <list name="static-arp">
        <must condition="not(/ifm:ifm/ifm:interfaces/ifm:interface[ifm:vrf-name=current()/ni-name]/ip:ipv4/arp:static-arps/arp:static-arp[arp:ip-addr=current()/ip-addr])"/>
        <key value="ip-addr ni-name"/>
        <description>
          <text>Configure static ARP table. By default, the system ARP table is empty, and address mappings are obtained using dynamic ARP.</text>
        </description>
        <leaf name="ip-addr">
          <type name="inet:ipv4-address-no-zone"/>
          <description>
            <text>IP address, in dotted decimal notation.</text>
          </description>
        </leaf>
        <leaf name="ni-name">
          <type name="leafref">
            <path value="/ni:network-instance/ni:instances/ni:instance/ni:name"/>
          </type>
          <must condition="/ni:network-instance/ni:instances/ni:instance[ni:name=current()]/l3vpn:afs/l3vpn:af[l3vpn:type='ipv4-unicast']"/>
          <description>
            <text>Name of the VPN instance to which an ARP entry belongs, which refers to network instance name.</text>
          </description>
        </leaf>
        <leaf name="mac-addr">
          <type name="pub-type:mac-address"/>
          <mandatory value="true"/>
          <description>
            <text>MAC address in the format of H-H-H, in which H is a hexadecimal number of 1 to 4 bits.</text>
          </description>
        </leaf>
        <leaf name="vlan-id">
          <type name="uint16">
            <range value="1..4094"/>
          </type>
          <description>
            <text>VLAN ID. If this parameter is not set, the VLAN ID is considered to be 0. If this parameter is set, the ARP entry is in the specified VLAN.</text>
          </description>
        </leaf>
      </list>
    </container>
    <container name="query-entries">
      <config value="false"/>
      <description>
        <text>List of ARP entries that can be queried.</text>
      </description>
      <list name="query-entry">
        <key value="ni-name ip-addr"/>
        <config value="false"/>
        <description>
          <text>Statistics of query ARP entries, including static, dynamic, and interface-based ARP entries.</text>
        </description>
        <leaf name="ni-name">
          <type name="leafref">
            <path value="/ni:network-instance/ni:instances/ni:instance/ni:name"/>
          </type>
          <description>
            <text>Name of the VPN instance to which an ARP entry belongs, which refers to network instance name.</text>
          </description>
        </leaf>
        <leaf name="ip-addr">
          <type name="inet:ipv4-address-no-zone"/>
          <description>
            <text>IP address, in dotted decimal notation.</text>
          </description>
        </leaf>
        <leaf name="mac-addr">
          <type name="pub-type:mac-address"/>
          <description>
            <text>MAC address.</text>
          </description>
        </leaf>
        <leaf name="expire-time">
          <type name="uint32">
            <range value="1..1440"/>
          </type>
          <units name="s"/>
          <description>
            <text>Aging time of a dynamic ARP entry.</text>
          </description>
        </leaf>
        <leaf name="style-type">
          <type name="arpstyle-type"/>
          <default value="static-arp"/>
          <description>
            <text>Type of ARP entries. An ARP entry can be a static, dynamic, remote backup, or interface based ARP entry and so on.</text>
          </description>
        </leaf>
        <leaf name="if-name">
          <type name="leafref">
            <path value="/ifm:ifm/ifm:interfaces/ifm:interface/ifm:name"/>
          </type>
          <description>
            <text>Type and number of the interface that has learned ARP entries.</text>
          </description>
        </leaf>
        <leaf name="slot-id">
          <type name="string">
            <length value="1..24"/>
          </type>
          <description>
            <text>Slot ID.</text>
          </description>
        </leaf>
        <leaf name="pe-vlan">
          <type name="uint16">
            <range value="1..4094"/>
          </type>
          <description>
            <text>ID of the outer VLAN to which an ARP entry belongs.</text>
          </description>
        </leaf>
        <leaf name="ce-vlan">
          <type name="uint16">
            <range value="1..4094"/>
          </type>
          <description>
            <text>ID of the inner VLAN to which an ARP entry belongs.</text>
          </description>
        </leaf>
        <leaf name="pvc">
          <type name="uint32"/>
          <description>
            <text>Interface where a PVC resides and VPI/VCI.</text>
          </description>
        </leaf>
      </list>
    </container>
    <container name="current-speed-limits">
      <config value="false"/>
      <description>
        <text>List of current timestamp suppression rate at which an interface board suppresses ARP messages.</text>
      </description>
      <list name="current-speed-limit">
        <key value="slot-id suppress-type ip-type"/>
        <description>
          <text>Operational state of current timestamp suppression rate at which an interface board suppresses ARP messages. When Slot ID refering MPU board, the value of slot-id is 0.</text>
        </description>
        <leaf name="slot-id">
          <type name="string">
            <length value="1..24"/>
          </type>
          <description>
            <text>Slot ID, which refers to the position of logical MPU and LPU boards.</text>
          </description>
        </leaf>
        <leaf name="suppress-type">
          <type name="suppress-type"/>
          <description>
            <text>Suppression type. The available options are ARP and ARP miss.</text>
          </description>
        </leaf>
        <leaf name="ip-type">
          <type name="suppress-ip-type"/>
          <description>
            <text>Suppression type based on IP addresses. The available options are destination IP suppression and source IP suppression. Destination IP suppression maps to ARP suppression. Source IP suppression maps to ARP miss suppression.</text>
          </description>
        </leaf>
        <leaf name="suppress-value">
          <type name="uint32">
            <range value="0..65536"/>
          </type>
          <description>
            <text>Number of ARP messages or ARP miss messages that an interface can process in a specified period.</text>
          </description>
        </leaf>
      </list>
    </container>
    <container name="statistics">
      <config value="false"/>
      <description>
        <text>List of ARP packet statistics.</text>
      </description>
      <list name="statistic">
        <key value="slot-id"/>
        <description>
          <text>ARP packet statistics. ARP statistics on all boards are displayed in sequence.</text>
        </description>
        <leaf name="slot-id">
          <type name="string">
            <length value="1..24"/>
          </type>
          <description>
            <text>Slot ID.</text>
          </description>
        </leaf>
        <leaf name="packets-received">
          <type name="uint32">
            <range value="0..4294967294"/>
          </type>
          <description>
            <text>Number of received ARP packets.</text>
          </description>
        </leaf>
        <leaf name="miss-received">
          <type name="uint32">
            <range value="0..4294967294"/>
          </type>
          <description>
            <text>Number of received ARP miss packets.</text>
          </description>
        </leaf>
        <leaf name="learn-count">
          <type name="uint32">
            <range value="0..4294967294"/>
          </type>
          <description>
            <text>Number of learned ARP entries.</text>
          </description>
        </leaf>
      </list>
    </container>
  </container>
  <rpc name="arp-entry-clear">
    <description>
      <text>To clear ARP dynamic entries.</text>
    </description>
    <ext:node-ref value="/arp:arp/arp:query-entries"/>
    <input>
      <choice name="clear-methods">
        <mandatory value="true"/>
        <description>
          <text>ARP entry clear methods.</text>
        </description>
        <case name="clear-types">
          <description>
            <text>Clear entries by different types.</text>
          </description>
          <leaf name="clear-type">
            <type name="arpclear-type"/>
            <description>
              <text>Clear all dynamic entries or all backup entries.</text>
            </description>
          </leaf>
        </case>
        <case name="if-names">
          <description>
            <text>Clear entries on specified interface.</text>
          </description>
          <leaf name="if-name">
            <type name="leafref">
              <path value="/ifm:ifm/ifm:interfaces/ifm:interface/ifm:name"/>
            </type>
            <mandatory value="true"/>
            <description>
              <text>Interface name.</text>
            </description>
          </leaf>
          <leaf name="ip-addr">
            <type name="inet:ipv4-address-no-zone"/>
            <description>
              <text>IP address, in dotted decimal notation.</text>
            </description>
          </leaf>
        </case>
        <case name="slots">
          <description>
            <text>Clear entries on slot.</text>
          </description>
          <leaf name="slot-id">
            <type name="string">
              <length value="1..24"/>
            </type>
            <mandatory value="true"/>
            <description>
              <text>Slot ID.</text>
            </description>
          </leaf>
        </case>
      </choice>
    </input>
  </rpc>
  <augment target-node="/ifm:ifm/ifm:interfaces/ifm:interface/ip:ipv4">
    <description>
      <text>List of ARP configurations under interface.</text>
    </description>
    <container name="static-arps">
      <description>
        <text>List of static ARP static entry configurations.</text>
      </description>
      <list name="static-arp">
        <key value="ip-addr"/>
        <description>
          <text>Configure static ARP table. By default, the system ARP table is empty, and address mappings are obtained using dynamic ARP.</text>
        </description>
        <leaf name="ip-addr">
          <type name="inet:ipv4-address-no-zone"/>
          <description>
            <text>IP address specified in this command and the IP address of the outbound interface specified by interface must be on the same network segment.</text>
          </description>
        </leaf>
        <leaf name="mac-addr">
          <type name="pub-type:mac-address"/>
          <mandatory value="true"/>
          <description>
            <text>MAC address specified in this command and can not be a broadcast address.</text>
          </description>
        </leaf>
        <leaf name="pevid">
          <type name="uint16">
            <range value="1..4094"/>
          </type>
          <description>
            <text>Outer VLAN ID. If this parameter is not set, the VLAN ID is considered to be 0. If this parameter is set, the ARP entry is in the specified VLAN. Please be consistent with the VLAN configuration on the interface.</text>
          </description>
        </leaf>
        <leaf name="cevid">
          <when condition="../pevid"/>
          <type name="uint16">
            <range value="1..4094"/>
          </type>
          <description>
            <text>Inner VLAN ID. If this parameter is not set, the VLAN ID is considered to be 0. If this parameter is set, the ARP entry is in the specified VLAN. Please be consistent with the VLAN configuration on the interface.</text>
          </description>
        </leaf>
      </list>
    </container>
  </augment>
  <augment target-node="/ifm:ifm/ifm:interfaces/ifm:interface">
    <description>
      <text>List of ARP configurations under ifm interface.</text>
    </description>
    <container name="arp-entry">
      <when condition="not(/ifm:ifm/ifm:interfaces/ifm:interface/ifm-trunk:trunk/ifm-trunk:members/ifm-trunk:member[ifm-trunk:name=current()/../ifm:name])"/>
      <description>
        <text>Configure ARP interface, including the aging time, probe interval, number of aging probe attempts, dynamic ARP learning status, strict ARP learning status, and routed proxy.</text>
      </description>
      <leaf name="expire-time">
        <type name="uint32">
          <range value="60..86400"/>
        </type>
        <units name="s"/>
        <default value="1200"/>
        <description>
          <text>Aging time of a dynamic ARP entry.</text>
        </description>
      </leaf>
      <leaf name="probe-interval">
        <type name="uint32">
          <range value="1..5"/>
        </type>
        <units name="s"/>
        <default value="5"/>
        <description>
          <text>Interval for detecting dynamic ARP entries.</text>
        </description>
      </leaf>
      <leaf name="probe-times">
        <type name="uint32">
          <range value="0..10"/>
        </type>
        <default value="3"/>
        <description>
          <text>Number of aging probe attempts for a dynamic ARP entry. If a device does not receive an ARP reply message after the number of aging probe attempts reaches a specified number, the dynamic ARP entry is deleted.</text>
        </description>
      </leaf>
      <leaf name="arp-learn-disable">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable dynamic ARP learning. If the value is true, dynamic ARP learning is disabled. If the value is false, dynamic ARP learning is enabled.</text>
        </description>
      </leaf>
      <leaf name="arp-learn-strict">
        <type name="arpstrict-learn"/>
        <default value="trust"/>
        <description>
          <text>Enable strict ARP learning. After strict ARP learning is enabled, a device only learns address information of only the ARP reply message in response to the ARP request sent by itself. Strict ARP learning employs the longest match rule. 1)If strict ARP learning is configured both globally and in the interface, the strict ARP learning configuration in the interface is used. 2)If strict ARP learning is not configured in the interface, the global strict ARP learning configuration is used.</text>
        </description>
      </leaf>
      <leaf name="route-proxy-enable">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable routed proxy ARP. When two hosts reside on different network segments and do not have default gateways configured, IP address resolution between the two hosts can be implemented using routed proxy ARP.</text>
        </description>
      </leaf>
      <leaf name="inner-proxy-enable">
        <when condition="../../ifm:type!='Vbdif'"/>
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable intra-VLAN proxy ARP. Some switches isolate hosts in the same VLAN. To allow hosts in the same VLAN to communicate, enable inner VLAN proxy ARP.</text>
        </description>
      </leaf>
      <leaf name="inter-proxy-enable">
        <when condition="../../ifm:type!='Vbdif'"/>
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable inter VLAN proxy ARP. If hosts in different VLANs need to communicate at L2, enable inter VLAN proxy ARP on an interface. Hosts between sub VLANs in a super VLAN cannot communicate by default. To allow these hosts to communicate, enable inter VLAN proxy ARP on the VLAN interface of the super VLAN.</text>
        </description>
      </leaf>
      <leaf name="local-proxy-enable">
        <when condition="../../ifm:type='Vbdif'"/>
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable local proxy ARP. To allow isolated hosts in a bridge domain (BD) to communicate with each other, enable local proxy ARP. Only VBD interfaces are supported.</text>
        </description>
      </leaf>
      <leaf name="fake-expire-time">
        <type name="uint32">
          <range value="1..36000"/>
        </type>
        <units name="s"/>
        <default value="5"/>
        <description>
          <text>Aging time of a fake ARP entry.</text>
        </description>
      </leaf>
      <leaf name="probe-unicast">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable to send unicast ARP aging probe messages for a dynamic ARP entry.</text>
        </description>
      </leaf>
      <leaf name="dest-mac-check">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable to check destination MAC addresses in ARP messages.</text>
        </description>
      </leaf>
      <leaf name="src-mac-check">
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable to check source MAC addresses in ARP messages.</text>
        </description>
      </leaf>
      <leaf name="distribute-enable">
        <when condition="../../ifm:type='Vbdif'"/>
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable to distribute gateway. Only VBD interfaces are supported.</text>
        </description>
      </leaf>
      <leaf name="gratuitous-send">
        <type name="arpgratuitous-send"/>
        <default value="enable"/>
        <description>
          <text>Enable/disable to send gratuitous ARP packet on interface.</text>
        </description>
      </leaf>
      <leaf name="host-collect-enable">
        <when condition="../../ifm:type='Vbdif'"/>
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable the host information collection function. Only VBD interfaces are supported.</text>
        </description>
      </leaf>
      <leaf name="anyway-proxy-enable">
        <type name="boolean"/>
        <must condition="../anyway-proxy-enable='false' or (../anyway-proxy-enable='true' and ../route-proxy-enable!='true' and ((../host-collect-enable!='true' and ../local-proxy-enable!='true') or (../inner-proxy-enable!='true' and ../inter-proxy-enable!='true')))"/>
        <default value="false"/>
        <description>
          <text>Enable/disable anyway proxy ARP. When two hosts reside on different network segments and do not have default gateways configured, IP address resolution between the two hosts can be implemented using anyway proxy ARP.</text>
        </description>
      </leaf>
      <leaf name="generate-rdtbl-enable">
        <when condition="../../ifm:type='Vbdif'"/>
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable the configuration of generate rd table. It's mutually exclusive with the configuration of enable L2 proxy under the corresponding BD instance.</text>
        </description>
      </leaf>
      <leaf name="broadcast-detect-interval">
        <when condition="../../ifm:type='Vbdif'"/>
        <type name="uint32">
          <range value="1..5"/>
        </type>
        <units name="s"/>
        <default value="5"/>
        <description>
          <text>Configure the broadcast detect interval. Only VBD interfaces are supported.</text>
        </description>
      </leaf>
      <leaf name="broadcast-detect-times">
        <when condition="../../ifm:type='Vbdif'"/>
        <type name="uint32">
          <range value="1..10"/>
        </type>
        <default value="3"/>
        <description>
          <text>Configure the broadcast detect times. Only VBD interfaces are supported.</text>
        </description>
      </leaf>
      <leaf name="broadcast-detect-enable">
        <when condition="../../ifm:type='Vbdif'"/>
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable the configuration of broadcast detect. Only VBD interfaces are supported.</text>
        </description>
      </leaf>
      <leaf name="fake-penalty-time">
        <type name="uint32">
          <range value="1..180"/>
        </type>
        <units name="s"/>
        <default value="5"/>
        <description>
          <text>Aging penalty time of a fake ARP entry.</text>
        </description>
      </leaf>
      <leaf name="gratuitous-arp-drop">
        <when condition="../../ifm:type!='Vbdif'"/>
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable an interface to discard gratuitous ARP packets.</text>
        </description>
      </leaf>
      <leaf name="broadcast-max-num">
        <when condition="(../../ethernet:ethernet/ethernet:l3-sub-interface/ethernet:dot1q-termination) or (../../ethernet:ethernet/ethernet:l3-sub-interface/ethernet:qinq-termination)"/>
        <type name="uint16">
          <range value="0..500"/>
        </type>
        <units name="pps"/>
        <default value="0"/>
        <description>
          <text>Maximum broadcast packet sending rate, expressed in the number of packets sent per second.</text>
        </description>
      </leaf>
      <leaf name="smart-discover-enable">
        <when condition="../../ifm:type='Vlanif'"/>
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable ARP smart discover. Only VLANIF interfaces are supported.</text>
        </description>
      </leaf>
    </container>
    <container name="arp-status-detect">
      <description>
        <text>Configure ARP entry status detect.</text>
      </description>
      <leaf name="ip-addr">
        <type name="inet:ipv4-address-no-zone"/>
        <description>
          <text>Detect IP.</text>
        </description>
      </leaf>
      <leaf name="mode">
        <when condition="../ip-addr"/>
        <type name="detect-mode"/>
        <default value="strict"/>
        <description>
          <text>Detect mode.</text>
        </description>
      </leaf>
      <leaf name="times">
        <when condition="../ip-addr"/>
        <type name="uint8">
          <range value="1..10"/>
        </type>
        <default value="3"/>
        <description>
          <text>Detect times.</text>
        </description>
      </leaf>
      <leaf name="interval">
        <when condition="../ip-addr"/>
        <type name="uint32">
          <range value="200..10000"/>
        </type>
        <units name="ms"/>
        <default value="1000"/>
        <description>
          <text>Detect interval.</text>
        </description>
      </leaf>
    </container>
    <container name="arp-port-security">
      <description>
        <text>Configure ARP port security.</text>
      </description>
      <container name="l2-sub-interface">
        <when condition="../../ifm:l2-mode-enable='true'"/>
        <description>
          <text>Configure ARP security configuration on Layer 2 sub-interface.</text>
        </description>
        <leaf name="l2proxy-dyn-learn">
          <type name="boolean"/>
          <default value="true"/>
          <description>
            <text>Enable/disable dynamic ARP learning of L2 proxy ARP.</text>
          </description>
        </leaf>
        <leaf name="l2proxy-max-num">
          <type name="uint32">
            <range value="0..1048576"/>
          </type>
          <default value="0"/>
          <description>
            <text>Maximum number of ARP entries allowed for L2 proxy ARP.</text>
          </description>
        </leaf>
      </container>
    </container>
  </augment>
  <augment target-node="/bd:bd/bd:instances/bd:instance">
    <description>
      <text>List of ARP configurations under bridge-domain interface.</text>
    </description>
    <container name="arp-list">
      <description>
        <text>Configure ARP bridge domain.</text>
      </description>
      <leaf name="l2proxy-enable">
        <type name="boolean"/>
        <must condition="not(../../bd:mac-learn-style = 'qualify' and ../l2proxy-enable = 'true')"/>
        <default value="false"/>
        <description>
          <text>Enable/disable L2 proxy. It's mutually exclusive with the configuration of generating redirect ARP under the corresponding VBD interface.</text>
        </description>
      </leaf>
      <choice name="broadcast-suppress">
        <description>
          <text>ARP broadcast suppress function.</text>
        </description>
        <case name="enable">
          <description>
            <text>ARP broadcast suppress.</text>
          </description>
          <leaf name="broadcast-suppress-enable">
            <type name="empty"/>
            <description>
              <text>Enable/disable ARP broadcast suppress.</text>
            </description>
          </leaf>
        </case>
        <case name="mismatch-discard-enable">
          <description>
            <text>ARP broadcast suppress mismatch discard.</text>
          </description>
          <leaf name="broadcast-suppress-discard">
            <type name="empty"/>
            <description>
              <text>Enable/disable ARP broadcast suppress mismatch discard.</text>
            </description>
          </leaf>
        </case>
      </choice>
      <leaf name="l2proxy-gw-enable">
        <when condition="../broadcast-suppress-enable or ../broadcast-suppress-discard"/>
        <type name="boolean"/>
        <default value="false"/>
        <description>
          <text>Enable/disable L2 proxy gateway mac.</text>
        </description>
      </leaf>
    </container>
  </augment>
</module>
