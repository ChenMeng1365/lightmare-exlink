<?xml version="1.0" encoding="UTF-8"?>
<module name="huawei-cusp-agent"
        xmlns="urn:ietf:params:xml:ns:yang:yin:1"
        xmlns:cusp-agent="urn:huawei:yang:huawei-cusp-agent"
        xmlns:keychain="urn:huawei:yang:huawei-keychain"
        xmlns:ni="urn:huawei:yang:huawei-network-instance"
        xmlns:pub-type="urn:huawei:yang:huawei-pub-type"
        xmlns:ssl="urn:huawei:yang:huawei-ssl"
        xmlns:inet="urn:ietf:params:xml:ns:yang:ietf-inet-types"
        xmlns:ext="urn:huawei:yang:huawei-extension">
  <namespace uri="urn:huawei:yang:huawei-cusp-agent"/>
  <prefix value="cusp-agent"/>
  <import module="huawei-keychain">
    <prefix value="keychain"/>
  </import>
  <import module="huawei-network-instance">
    <prefix value="ni"/>
  </import>
  <import module="huawei-pub-type">
    <prefix value="pub-type"/>
  </import>
  <import module="huawei-ssl">
    <prefix value="ssl"/>
  </import>
  <import module="ietf-inet-types">
    <prefix value="inet"/>
  </import>
  <import module="huawei-extension">
    <prefix value="ext"/>
  </import>
  <organization>
    <text>Huawei Technologies Co., Ltd.</text>
  </organization>
  <contact>
    <text>Huawei Industrial Base
Bantian, Longgang
Shenzhen 518129
People's Republic of China
Website: http://www.huawei.com
Email: support@huawei.com</text>
  </contact>
  <description>
    <text>CUSP Agent.</text>
  </description>
  <revision date="2019-05-04">
    <description>
      <text>Initial revision.</text>
    </description>
    <reference>
      <text>Huawei private.</text>
    </reference>
  </revision>
  <ext:task-name value="cusp-agent"/>
  <container name="cusp-agent">
    <description>
      <text>Specify configuration information of CUSP agent.</text>
    </description>
    <container name="agents">
      <config value="false"/>
      <description>
        <text>List of CUSP agent statistics.</text>
      </description>
      <list name="agent">
        <key value="agent-name"/>
        <description>
          <text>Statistics of a CUSP agent.</text>
        </description>
        <leaf name="agent-name">
          <type name="string">
            <length value="1..31"/>
          </type>
          <description>
            <text>The name of CUSP agent.</text>
          </description>
        </leaf>
        <leaf name="transport-address">
          <type name="inet:ipv4-address-no-zone"/>
          <description>
            <text>Connect address.</text>
          </description>
        </leaf>
        <leaf name="transport-vpn-name">
          <type name="leafref">
            <path value="/ni:network-instance/ni:instances/ni:instance/ni:name"/>
          </type>
          <description>
            <text>Name of VPN instance.</text>
          </description>
        </leaf>
        <leaf name="echo-interval">
          <type name="uint8">
            <range value="0 | 2..60"/>
          </type>
          <units name="s"/>
          <default value="30"/>
          <description>
            <text>Configure echo interval.</text>
          </description>
        </leaf>
        <leaf name="keychain-name">
          <type name="leafref">
            <path value="/keychain:keychain/keychain:keychains/keychain:keychain/keychain:name"/>
          </type>
          <description>
            <text>The name of keychain authentication.</text>
          </description>
        </leaf>
        <leaf name="ssl-policy-name">
          <type name="leafref">
            <path value="/ssl:ssl/ssl:ssl-policys/ssl:ssl-policy/ssl:policy-name"/>
          </type>
          <description>
            <text>The name of SSL policy.</text>
          </description>
        </leaf>
        <leaf name="timeout-count">
          <type name="uint8">
            <range value="4..10"/>
          </type>
          <default value="5"/>
          <description>
            <text>Counts to define time out.</text>
          </description>
        </leaf>
        <leaf name="congest-duration">
          <type name="uint8">
            <range value="1..10"/>
          </type>
          <units name="min"/>
          <default value="5"/>
          <description>
            <text>Congest Duration time.</text>
          </description>
        </leaf>
        <leaf name="tcp-mss">
          <type name="uint16">
            <range value="1..8192"/>
          </type>
          <units name="Byte"/>
          <default value="1400"/>
          <description>
            <text>Tcp mss.</text>
          </description>
        </leaf>
        <container name="bfd">
          <description>
            <text>Operational state of bidirectional forwarding detection.</text>
          </description>
          <leaf name="multiplier">
            <type name="uint32">
              <range value="3..50"/>
            </type>
            <description>
              <text>Specify the detect multiplier.</text>
            </description>
          </leaf>
          <leaf name="min-tx-interval">
            <type name="uint32">
              <range value="50..1000"/>
            </type>
            <units name="ms"/>
            <description>
              <text>Set minimum transmit interval.</text>
            </description>
          </leaf>
          <leaf name="min-rx-interval">
            <type name="uint32">
              <range value="50..1000"/>
            </type>
            <units name="ms"/>
            <description>
              <text>Set minimum receive interval.</text>
            </description>
          </leaf>
          <leaf name="tos-exp">
            <type name="uint32">
              <range value="0..7"/>
            </type>
            <description>
              <text>Set TOS or EXP field.</text>
            </description>
          </leaf>
        </container>
        <container name="connections">
          <description>
            <text>List of the connection statistics.</text>
          </description>
          <list name="connection">
            <key value="controller-ip"/>
            <description>
              <text>Statistics of a connection.</text>
            </description>
            <leaf name="controller-ip">
              <type name="inet:ipv4-address-no-zone"/>
              <description>
                <text>IP address of controller.</text>
              </description>
            </leaf>
            <container name="session">
              <description>
                <text>Statistics of the session.</text>
              </description>
              <leaf name="up-time">
                <type name="pub-type:time-tick"/>
                <description>
                  <text>Up time.</text>
                </description>
              </leaf>
              <leaf name="state">
                <type name="enumeration">
                  <enum name="init">
                    <value value="0"/>
                    <description>
                      <text>The Session state is INIT.</text>
                    </description>
                  </enum>
                  <enum name="to-listen">
                    <value value="1"/>
                    <description>
                      <text>The Session state is TOLISTEN.</text>
                    </description>
                  </enum>
                  <enum name="listen">
                    <value value="2"/>
                    <description>
                      <text>The Session state is LISTEN.</text>
                    </description>
                  </enum>
                  <enum name="in-coming">
                    <value value="3"/>
                    <description>
                      <text>The Session state is INCOMING.</text>
                    </description>
                  </enum>
                  <enum name="connected">
                    <value value="4"/>
                    <description>
                      <text>The Session state is CONNECTED.</text>
                    </description>
                  </enum>
                  <enum name="to-register">
                    <value value="5"/>
                    <description>
                      <text>The Session state is TOREGISTER.</text>
                    </description>
                  </enum>
                  <enum name="registered">
                    <value value="6"/>
                    <description>
                      <text>The Session state is REGISTERED.</text>
                    </description>
                  </enum>
                  <enum name="to-create">
                    <value value="7"/>
                    <description>
                      <text>The Session state is TOCREATE.</text>
                    </description>
                  </enum>
                </type>
                <description>
                  <text>Session state.</text>
                </description>
              </leaf>
            </container>
            <container name="message-statistics">
              <description>
                <text>List of the message statistics.</text>
              </description>
              <list name="message-statistic">
                <key value="message-type"/>
                <description>
                  <text>Statistics of a message.</text>
                </description>
                <leaf name="message-type">
                  <type name="enumeration">
                    <enum name="hello">
                      <value value="0"/>
                      <description>
                        <text>The message type is HELLO.</text>
                      </description>
                    </enum>
                    <enum name="ehco-request">
                      <value value="1"/>
                      <description>
                        <text>The message type is ECHO-REQUEST.</text>
                      </description>
                    </enum>
                    <enum name="ehco-reply">
                      <value value="2"/>
                      <description>
                        <text>The message type is ECHO-REPLY.</text>
                      </description>
                    </enum>
                    <enum name="experimenter">
                      <value value="3"/>
                      <description>
                        <text>The message type is EXPERIMENTER.</text>
                      </description>
                    </enum>
                    <enum name="features-request">
                      <value value="4"/>
                      <description>
                        <text>The message type is FEATURES-REQUEST.</text>
                      </description>
                    </enum>
                    <enum name="features-reply">
                      <value value="5"/>
                      <description>
                        <text>The message type is FEATURES-REPLY.</text>
                      </description>
                    </enum>
                    <enum name="port-status">
                      <value value="6"/>
                      <description>
                        <text>The message type is PORT-STATUS.</text>
                      </description>
                    </enum>
                    <enum name="flow-mod">
                      <value value="7"/>
                      <description>
                        <text>The message type is FLOW-MOD.</text>
                      </description>
                    </enum>
                    <enum name="multipart-request">
                      <value value="8"/>
                      <description>
                        <text>The message type is MULTIPART-REQUEST.</text>
                      </description>
                    </enum>
                    <enum name="multipart-reply">
                      <value value="9"/>
                      <description>
                        <text>The message type is MULTIPART-REPLY.</text>
                      </description>
                    </enum>
                    <enum name="role-request">
                      <value value="10"/>
                      <description>
                        <text>The message type is ROLE-REQUEST.</text>
                      </description>
                    </enum>
                    <enum name="role-reply">
                      <value value="11"/>
                      <description>
                        <text>The message type is ROLE-REPLY.</text>
                      </description>
                    </enum>
                    <enum name="packet-in">
                      <value value="12"/>
                      <description>
                        <text>The message type is PACKET-IN.</text>
                      </description>
                    </enum>
                    <enum name="packet-out">
                      <value value="13"/>
                      <description>
                        <text>The message type is PACKET-OUT.</text>
                      </description>
                    </enum>
                    <enum name="unknow">
                      <value value="14"/>
                      <description>
                        <text>The message type is UNKNOWN.</text>
                      </description>
                    </enum>
                  </type>
                  <description>
                    <text>Message Type.</text>
                  </description>
                </leaf>
                <leaf name="received-count">
                  <type name="uint32"/>
                  <description>
                    <text>Received.</text>
                  </description>
                </leaf>
                <leaf name="sent-count">
                  <type name="uint32"/>
                  <description>
                    <text>Sent.</text>
                  </description>
                </leaf>
                <leaf name="invalid-count">
                  <type name="uint32"/>
                  <description>
                    <text>Invalid.</text>
                  </description>
                </leaf>
                <leaf name="send-failed-count">
                  <type name="uint32"/>
                  <description>
                    <text>Send Failed.</text>
                  </description>
                </leaf>
              </list>
            </container>
          </list>
        </container>
      </list>
    </container>
  </container>
  <rpc name="reset-session">
    <description>
      <text>Reset session.</text>
    </description>
    <ext:node-ref value="/cusp-agent:cusp-agent/cusp-agent:agents/cusp-agent:agent/cusp-agent:connections/cusp-agent:connection/cusp-agent:session"/>
    <input>
      <leaf name="peer-address">
        <type name="inet:ipv4-address-no-zone"/>
        <mandatory value="true"/>
        <description>
          <text>Peer address.</text>
        </description>
      </leaf>
    </input>
  </rpc>
  <rpc name="reset-statistics">
    <description>
      <text>Reset statistics.</text>
    </description>
    <ext:node-ref value="/cusp-agent:cusp-agent/cusp-agent:agents/cusp-agent:agent/cusp-agent:connections/cusp-agent:connection/cusp-agent:message-statistics"/>
    <input>
      <leaf name="peer-address">
        <type name="inet:ipv4-address-no-zone"/>
        <mandatory value="true"/>
        <description>
          <text>Peer address.</text>
        </description>
      </leaf>
    </input>
  </rpc>
</module>
